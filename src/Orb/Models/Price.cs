using System.Collections.Frozen;
using System.Collections.Generic;
using System.Diagnostics.CodeAnalysis;
using System.Text.Json;
using System.Text.Json.Serialization;
using Orb.Core;
using Orb.Exceptions;
using System = System;

namespace Orb.Models;

/// <summary>
/// The Price resource represents a price that can be billed on a subscription, resulting
/// in a charge on an invoice in the form of an invoice line item. Prices take a quantity
/// and determine an amount to bill.
///
/// <para>Orb supports a few different pricing models out of the box. Each of these
/// models is serialized differently in a given Price object. The model_type field
/// determines the key for the configuration object that is present.</para>
///
/// <para>For more on the types of prices, see [the core concepts documentation](/core-concepts#plan-and-price)</para>
/// </summary>
[JsonConverter(typeof(PriceConverter))]
public record class Price
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public string ID
    {
        get
        {
            return Match(
                unit: (x) => x.ID,
                tiered: (x) => x.ID,
                bulk: (x) => x.ID,
                bulkWithFilters: (x) => x.ID,
                package: (x) => x.ID,
                matrix: (x) => x.ID,
                thresholdTotalAmount: (x) => x.ID,
                tieredPackage: (x) => x.ID,
                tieredWithMinimum: (x) => x.ID,
                groupedTiered: (x) => x.ID,
                tieredPackageWithMinimum: (x) => x.ID,
                packageWithAllocation: (x) => x.ID,
                unitWithPercent: (x) => x.ID,
                matrixWithAllocation: (x) => x.ID,
                tieredWithProration: (x) => x.ID,
                unitWithProration: (x) => x.ID,
                groupedAllocation: (x) => x.ID,
                bulkWithProration: (x) => x.ID,
                groupedWithProratedMinimum: (x) => x.ID,
                groupedWithMeteredMinimum: (x) => x.ID,
                groupedWithMinMaxThresholds: (x) => x.ID,
                matrixWithDisplayName: (x) => x.ID,
                groupedTieredPackage: (x) => x.ID,
                maxGroupTieredPackage: (x) => x.ID,
                scalableMatrixWithUnitPricing: (x) => x.ID,
                scalableMatrixWithTieredPricing: (x) => x.ID,
                cumulativeGroupedBulk: (x) => x.ID,
                cumulativeGroupedAllocation: (x) => x.ID,
                minimum: (x) => x.ID,
                percent: (x) => x.ID,
                eventOutput: (x) => x.ID
            );
        }
    }

    public BillableMetricTiny? BillableMetric
    {
        get
        {
            return Match<BillableMetricTiny?>(
                unit: (x) => x.BillableMetric,
                tiered: (x) => x.BillableMetric,
                bulk: (x) => x.BillableMetric,
                bulkWithFilters: (x) => x.BillableMetric,
                package: (x) => x.BillableMetric,
                matrix: (x) => x.BillableMetric,
                thresholdTotalAmount: (x) => x.BillableMetric,
                tieredPackage: (x) => x.BillableMetric,
                tieredWithMinimum: (x) => x.BillableMetric,
                groupedTiered: (x) => x.BillableMetric,
                tieredPackageWithMinimum: (x) => x.BillableMetric,
                packageWithAllocation: (x) => x.BillableMetric,
                unitWithPercent: (x) => x.BillableMetric,
                matrixWithAllocation: (x) => x.BillableMetric,
                tieredWithProration: (x) => x.BillableMetric,
                unitWithProration: (x) => x.BillableMetric,
                groupedAllocation: (x) => x.BillableMetric,
                bulkWithProration: (x) => x.BillableMetric,
                groupedWithProratedMinimum: (x) => x.BillableMetric,
                groupedWithMeteredMinimum: (x) => x.BillableMetric,
                groupedWithMinMaxThresholds: (x) => x.BillableMetric,
                matrixWithDisplayName: (x) => x.BillableMetric,
                groupedTieredPackage: (x) => x.BillableMetric,
                maxGroupTieredPackage: (x) => x.BillableMetric,
                scalableMatrixWithUnitPricing: (x) => x.BillableMetric,
                scalableMatrixWithTieredPricing: (x) => x.BillableMetric,
                cumulativeGroupedBulk: (x) => x.BillableMetric,
                cumulativeGroupedAllocation: (x) => x.BillableMetric,
                minimum: (x) => x.BillableMetric,
                percent: (x) => x.BillableMetric,
                eventOutput: (x) => x.BillableMetric
            );
        }
    }

    public BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            return Match(
                unit: (x) => x.BillingCycleConfiguration,
                tiered: (x) => x.BillingCycleConfiguration,
                bulk: (x) => x.BillingCycleConfiguration,
                bulkWithFilters: (x) => x.BillingCycleConfiguration,
                package: (x) => x.BillingCycleConfiguration,
                matrix: (x) => x.BillingCycleConfiguration,
                thresholdTotalAmount: (x) => x.BillingCycleConfiguration,
                tieredPackage: (x) => x.BillingCycleConfiguration,
                tieredWithMinimum: (x) => x.BillingCycleConfiguration,
                groupedTiered: (x) => x.BillingCycleConfiguration,
                tieredPackageWithMinimum: (x) => x.BillingCycleConfiguration,
                packageWithAllocation: (x) => x.BillingCycleConfiguration,
                unitWithPercent: (x) => x.BillingCycleConfiguration,
                matrixWithAllocation: (x) => x.BillingCycleConfiguration,
                tieredWithProration: (x) => x.BillingCycleConfiguration,
                unitWithProration: (x) => x.BillingCycleConfiguration,
                groupedAllocation: (x) => x.BillingCycleConfiguration,
                bulkWithProration: (x) => x.BillingCycleConfiguration,
                groupedWithProratedMinimum: (x) => x.BillingCycleConfiguration,
                groupedWithMeteredMinimum: (x) => x.BillingCycleConfiguration,
                groupedWithMinMaxThresholds: (x) => x.BillingCycleConfiguration,
                matrixWithDisplayName: (x) => x.BillingCycleConfiguration,
                groupedTieredPackage: (x) => x.BillingCycleConfiguration,
                maxGroupTieredPackage: (x) => x.BillingCycleConfiguration,
                scalableMatrixWithUnitPricing: (x) => x.BillingCycleConfiguration,
                scalableMatrixWithTieredPricing: (x) => x.BillingCycleConfiguration,
                cumulativeGroupedBulk: (x) => x.BillingCycleConfiguration,
                cumulativeGroupedAllocation: (x) => x.BillingCycleConfiguration,
                minimum: (x) => x.BillingCycleConfiguration,
                percent: (x) => x.BillingCycleConfiguration,
                eventOutput: (x) => x.BillingCycleConfiguration
            );
        }
    }

    public double? ConversionRate
    {
        get
        {
            return Match<double?>(
                unit: (x) => x.ConversionRate,
                tiered: (x) => x.ConversionRate,
                bulk: (x) => x.ConversionRate,
                bulkWithFilters: (x) => x.ConversionRate,
                package: (x) => x.ConversionRate,
                matrix: (x) => x.ConversionRate,
                thresholdTotalAmount: (x) => x.ConversionRate,
                tieredPackage: (x) => x.ConversionRate,
                tieredWithMinimum: (x) => x.ConversionRate,
                groupedTiered: (x) => x.ConversionRate,
                tieredPackageWithMinimum: (x) => x.ConversionRate,
                packageWithAllocation: (x) => x.ConversionRate,
                unitWithPercent: (x) => x.ConversionRate,
                matrixWithAllocation: (x) => x.ConversionRate,
                tieredWithProration: (x) => x.ConversionRate,
                unitWithProration: (x) => x.ConversionRate,
                groupedAllocation: (x) => x.ConversionRate,
                bulkWithProration: (x) => x.ConversionRate,
                groupedWithProratedMinimum: (x) => x.ConversionRate,
                groupedWithMeteredMinimum: (x) => x.ConversionRate,
                groupedWithMinMaxThresholds: (x) => x.ConversionRate,
                matrixWithDisplayName: (x) => x.ConversionRate,
                groupedTieredPackage: (x) => x.ConversionRate,
                maxGroupTieredPackage: (x) => x.ConversionRate,
                scalableMatrixWithUnitPricing: (x) => x.ConversionRate,
                scalableMatrixWithTieredPricing: (x) => x.ConversionRate,
                cumulativeGroupedBulk: (x) => x.ConversionRate,
                cumulativeGroupedAllocation: (x) => x.ConversionRate,
                minimum: (x) => x.ConversionRate,
                percent: (x) => x.ConversionRate,
                eventOutput: (x) => x.ConversionRate
            );
        }
    }

    public System::DateTimeOffset CreatedAt
    {
        get
        {
            return Match(
                unit: (x) => x.CreatedAt,
                tiered: (x) => x.CreatedAt,
                bulk: (x) => x.CreatedAt,
                bulkWithFilters: (x) => x.CreatedAt,
                package: (x) => x.CreatedAt,
                matrix: (x) => x.CreatedAt,
                thresholdTotalAmount: (x) => x.CreatedAt,
                tieredPackage: (x) => x.CreatedAt,
                tieredWithMinimum: (x) => x.CreatedAt,
                groupedTiered: (x) => x.CreatedAt,
                tieredPackageWithMinimum: (x) => x.CreatedAt,
                packageWithAllocation: (x) => x.CreatedAt,
                unitWithPercent: (x) => x.CreatedAt,
                matrixWithAllocation: (x) => x.CreatedAt,
                tieredWithProration: (x) => x.CreatedAt,
                unitWithProration: (x) => x.CreatedAt,
                groupedAllocation: (x) => x.CreatedAt,
                bulkWithProration: (x) => x.CreatedAt,
                groupedWithProratedMinimum: (x) => x.CreatedAt,
                groupedWithMeteredMinimum: (x) => x.CreatedAt,
                groupedWithMinMaxThresholds: (x) => x.CreatedAt,
                matrixWithDisplayName: (x) => x.CreatedAt,
                groupedTieredPackage: (x) => x.CreatedAt,
                maxGroupTieredPackage: (x) => x.CreatedAt,
                scalableMatrixWithUnitPricing: (x) => x.CreatedAt,
                scalableMatrixWithTieredPricing: (x) => x.CreatedAt,
                cumulativeGroupedBulk: (x) => x.CreatedAt,
                cumulativeGroupedAllocation: (x) => x.CreatedAt,
                minimum: (x) => x.CreatedAt,
                percent: (x) => x.CreatedAt,
                eventOutput: (x) => x.CreatedAt
            );
        }
    }

    public Allocation? CreditAllocation
    {
        get
        {
            return Match<Allocation?>(
                unit: (x) => x.CreditAllocation,
                tiered: (x) => x.CreditAllocation,
                bulk: (x) => x.CreditAllocation,
                bulkWithFilters: (x) => x.CreditAllocation,
                package: (x) => x.CreditAllocation,
                matrix: (x) => x.CreditAllocation,
                thresholdTotalAmount: (x) => x.CreditAllocation,
                tieredPackage: (x) => x.CreditAllocation,
                tieredWithMinimum: (x) => x.CreditAllocation,
                groupedTiered: (x) => x.CreditAllocation,
                tieredPackageWithMinimum: (x) => x.CreditAllocation,
                packageWithAllocation: (x) => x.CreditAllocation,
                unitWithPercent: (x) => x.CreditAllocation,
                matrixWithAllocation: (x) => x.CreditAllocation,
                tieredWithProration: (x) => x.CreditAllocation,
                unitWithProration: (x) => x.CreditAllocation,
                groupedAllocation: (x) => x.CreditAllocation,
                bulkWithProration: (x) => x.CreditAllocation,
                groupedWithProratedMinimum: (x) => x.CreditAllocation,
                groupedWithMeteredMinimum: (x) => x.CreditAllocation,
                groupedWithMinMaxThresholds: (x) => x.CreditAllocation,
                matrixWithDisplayName: (x) => x.CreditAllocation,
                groupedTieredPackage: (x) => x.CreditAllocation,
                maxGroupTieredPackage: (x) => x.CreditAllocation,
                scalableMatrixWithUnitPricing: (x) => x.CreditAllocation,
                scalableMatrixWithTieredPricing: (x) => x.CreditAllocation,
                cumulativeGroupedBulk: (x) => x.CreditAllocation,
                cumulativeGroupedAllocation: (x) => x.CreditAllocation,
                minimum: (x) => x.CreditAllocation,
                percent: (x) => x.CreditAllocation,
                eventOutput: (x) => x.CreditAllocation
            );
        }
    }

    public string Currency
    {
        get
        {
            return Match(
                unit: (x) => x.Currency,
                tiered: (x) => x.Currency,
                bulk: (x) => x.Currency,
                bulkWithFilters: (x) => x.Currency,
                package: (x) => x.Currency,
                matrix: (x) => x.Currency,
                thresholdTotalAmount: (x) => x.Currency,
                tieredPackage: (x) => x.Currency,
                tieredWithMinimum: (x) => x.Currency,
                groupedTiered: (x) => x.Currency,
                tieredPackageWithMinimum: (x) => x.Currency,
                packageWithAllocation: (x) => x.Currency,
                unitWithPercent: (x) => x.Currency,
                matrixWithAllocation: (x) => x.Currency,
                tieredWithProration: (x) => x.Currency,
                unitWithProration: (x) => x.Currency,
                groupedAllocation: (x) => x.Currency,
                bulkWithProration: (x) => x.Currency,
                groupedWithProratedMinimum: (x) => x.Currency,
                groupedWithMeteredMinimum: (x) => x.Currency,
                groupedWithMinMaxThresholds: (x) => x.Currency,
                matrixWithDisplayName: (x) => x.Currency,
                groupedTieredPackage: (x) => x.Currency,
                maxGroupTieredPackage: (x) => x.Currency,
                scalableMatrixWithUnitPricing: (x) => x.Currency,
                scalableMatrixWithTieredPricing: (x) => x.Currency,
                cumulativeGroupedBulk: (x) => x.Currency,
                cumulativeGroupedAllocation: (x) => x.Currency,
                minimum: (x) => x.Currency,
                percent: (x) => x.Currency,
                eventOutput: (x) => x.Currency
            );
        }
    }

    public SharedDiscount? Discount
    {
        get
        {
            return Match<SharedDiscount?>(
                unit: (x) => x.Discount,
                tiered: (x) => x.Discount,
                bulk: (x) => x.Discount,
                bulkWithFilters: (x) => x.Discount,
                package: (x) => x.Discount,
                matrix: (x) => x.Discount,
                thresholdTotalAmount: (x) => x.Discount,
                tieredPackage: (x) => x.Discount,
                tieredWithMinimum: (x) => x.Discount,
                groupedTiered: (x) => x.Discount,
                tieredPackageWithMinimum: (x) => x.Discount,
                packageWithAllocation: (x) => x.Discount,
                unitWithPercent: (x) => x.Discount,
                matrixWithAllocation: (x) => x.Discount,
                tieredWithProration: (x) => x.Discount,
                unitWithProration: (x) => x.Discount,
                groupedAllocation: (x) => x.Discount,
                bulkWithProration: (x) => x.Discount,
                groupedWithProratedMinimum: (x) => x.Discount,
                groupedWithMeteredMinimum: (x) => x.Discount,
                groupedWithMinMaxThresholds: (x) => x.Discount,
                matrixWithDisplayName: (x) => x.Discount,
                groupedTieredPackage: (x) => x.Discount,
                maxGroupTieredPackage: (x) => x.Discount,
                scalableMatrixWithUnitPricing: (x) => x.Discount,
                scalableMatrixWithTieredPricing: (x) => x.Discount,
                cumulativeGroupedBulk: (x) => x.Discount,
                cumulativeGroupedAllocation: (x) => x.Discount,
                minimum: (x) => x.Discount,
                percent: (x) => x.Discount,
                eventOutput: (x) => x.Discount
            );
        }
    }

    public string? ExternalPriceID
    {
        get
        {
            return Match<string?>(
                unit: (x) => x.ExternalPriceID,
                tiered: (x) => x.ExternalPriceID,
                bulk: (x) => x.ExternalPriceID,
                bulkWithFilters: (x) => x.ExternalPriceID,
                package: (x) => x.ExternalPriceID,
                matrix: (x) => x.ExternalPriceID,
                thresholdTotalAmount: (x) => x.ExternalPriceID,
                tieredPackage: (x) => x.ExternalPriceID,
                tieredWithMinimum: (x) => x.ExternalPriceID,
                groupedTiered: (x) => x.ExternalPriceID,
                tieredPackageWithMinimum: (x) => x.ExternalPriceID,
                packageWithAllocation: (x) => x.ExternalPriceID,
                unitWithPercent: (x) => x.ExternalPriceID,
                matrixWithAllocation: (x) => x.ExternalPriceID,
                tieredWithProration: (x) => x.ExternalPriceID,
                unitWithProration: (x) => x.ExternalPriceID,
                groupedAllocation: (x) => x.ExternalPriceID,
                bulkWithProration: (x) => x.ExternalPriceID,
                groupedWithProratedMinimum: (x) => x.ExternalPriceID,
                groupedWithMeteredMinimum: (x) => x.ExternalPriceID,
                groupedWithMinMaxThresholds: (x) => x.ExternalPriceID,
                matrixWithDisplayName: (x) => x.ExternalPriceID,
                groupedTieredPackage: (x) => x.ExternalPriceID,
                maxGroupTieredPackage: (x) => x.ExternalPriceID,
                scalableMatrixWithUnitPricing: (x) => x.ExternalPriceID,
                scalableMatrixWithTieredPricing: (x) => x.ExternalPriceID,
                cumulativeGroupedBulk: (x) => x.ExternalPriceID,
                cumulativeGroupedAllocation: (x) => x.ExternalPriceID,
                minimum: (x) => x.ExternalPriceID,
                percent: (x) => x.ExternalPriceID,
                eventOutput: (x) => x.ExternalPriceID
            );
        }
    }

    public double? FixedPriceQuantity
    {
        get
        {
            return Match<double?>(
                unit: (x) => x.FixedPriceQuantity,
                tiered: (x) => x.FixedPriceQuantity,
                bulk: (x) => x.FixedPriceQuantity,
                bulkWithFilters: (x) => x.FixedPriceQuantity,
                package: (x) => x.FixedPriceQuantity,
                matrix: (x) => x.FixedPriceQuantity,
                thresholdTotalAmount: (x) => x.FixedPriceQuantity,
                tieredPackage: (x) => x.FixedPriceQuantity,
                tieredWithMinimum: (x) => x.FixedPriceQuantity,
                groupedTiered: (x) => x.FixedPriceQuantity,
                tieredPackageWithMinimum: (x) => x.FixedPriceQuantity,
                packageWithAllocation: (x) => x.FixedPriceQuantity,
                unitWithPercent: (x) => x.FixedPriceQuantity,
                matrixWithAllocation: (x) => x.FixedPriceQuantity,
                tieredWithProration: (x) => x.FixedPriceQuantity,
                unitWithProration: (x) => x.FixedPriceQuantity,
                groupedAllocation: (x) => x.FixedPriceQuantity,
                bulkWithProration: (x) => x.FixedPriceQuantity,
                groupedWithProratedMinimum: (x) => x.FixedPriceQuantity,
                groupedWithMeteredMinimum: (x) => x.FixedPriceQuantity,
                groupedWithMinMaxThresholds: (x) => x.FixedPriceQuantity,
                matrixWithDisplayName: (x) => x.FixedPriceQuantity,
                groupedTieredPackage: (x) => x.FixedPriceQuantity,
                maxGroupTieredPackage: (x) => x.FixedPriceQuantity,
                scalableMatrixWithUnitPricing: (x) => x.FixedPriceQuantity,
                scalableMatrixWithTieredPricing: (x) => x.FixedPriceQuantity,
                cumulativeGroupedBulk: (x) => x.FixedPriceQuantity,
                cumulativeGroupedAllocation: (x) => x.FixedPriceQuantity,
                minimum: (x) => x.FixedPriceQuantity,
                percent: (x) => x.FixedPriceQuantity,
                eventOutput: (x) => x.FixedPriceQuantity
            );
        }
    }

    public BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            return Match<BillingCycleConfiguration?>(
                unit: (x) => x.InvoicingCycleConfiguration,
                tiered: (x) => x.InvoicingCycleConfiguration,
                bulk: (x) => x.InvoicingCycleConfiguration,
                bulkWithFilters: (x) => x.InvoicingCycleConfiguration,
                package: (x) => x.InvoicingCycleConfiguration,
                matrix: (x) => x.InvoicingCycleConfiguration,
                thresholdTotalAmount: (x) => x.InvoicingCycleConfiguration,
                tieredPackage: (x) => x.InvoicingCycleConfiguration,
                tieredWithMinimum: (x) => x.InvoicingCycleConfiguration,
                groupedTiered: (x) => x.InvoicingCycleConfiguration,
                tieredPackageWithMinimum: (x) => x.InvoicingCycleConfiguration,
                packageWithAllocation: (x) => x.InvoicingCycleConfiguration,
                unitWithPercent: (x) => x.InvoicingCycleConfiguration,
                matrixWithAllocation: (x) => x.InvoicingCycleConfiguration,
                tieredWithProration: (x) => x.InvoicingCycleConfiguration,
                unitWithProration: (x) => x.InvoicingCycleConfiguration,
                groupedAllocation: (x) => x.InvoicingCycleConfiguration,
                bulkWithProration: (x) => x.InvoicingCycleConfiguration,
                groupedWithProratedMinimum: (x) => x.InvoicingCycleConfiguration,
                groupedWithMeteredMinimum: (x) => x.InvoicingCycleConfiguration,
                groupedWithMinMaxThresholds: (x) => x.InvoicingCycleConfiguration,
                matrixWithDisplayName: (x) => x.InvoicingCycleConfiguration,
                groupedTieredPackage: (x) => x.InvoicingCycleConfiguration,
                maxGroupTieredPackage: (x) => x.InvoicingCycleConfiguration,
                scalableMatrixWithUnitPricing: (x) => x.InvoicingCycleConfiguration,
                scalableMatrixWithTieredPricing: (x) => x.InvoicingCycleConfiguration,
                cumulativeGroupedBulk: (x) => x.InvoicingCycleConfiguration,
                cumulativeGroupedAllocation: (x) => x.InvoicingCycleConfiguration,
                minimum: (x) => x.InvoicingCycleConfiguration,
                percent: (x) => x.InvoicingCycleConfiguration,
                eventOutput: (x) => x.InvoicingCycleConfiguration
            );
        }
    }

    public ItemSlim Item
    {
        get
        {
            return Match(
                unit: (x) => x.Item,
                tiered: (x) => x.Item,
                bulk: (x) => x.Item,
                bulkWithFilters: (x) => x.Item,
                package: (x) => x.Item,
                matrix: (x) => x.Item,
                thresholdTotalAmount: (x) => x.Item,
                tieredPackage: (x) => x.Item,
                tieredWithMinimum: (x) => x.Item,
                groupedTiered: (x) => x.Item,
                tieredPackageWithMinimum: (x) => x.Item,
                packageWithAllocation: (x) => x.Item,
                unitWithPercent: (x) => x.Item,
                matrixWithAllocation: (x) => x.Item,
                tieredWithProration: (x) => x.Item,
                unitWithProration: (x) => x.Item,
                groupedAllocation: (x) => x.Item,
                bulkWithProration: (x) => x.Item,
                groupedWithProratedMinimum: (x) => x.Item,
                groupedWithMeteredMinimum: (x) => x.Item,
                groupedWithMinMaxThresholds: (x) => x.Item,
                matrixWithDisplayName: (x) => x.Item,
                groupedTieredPackage: (x) => x.Item,
                maxGroupTieredPackage: (x) => x.Item,
                scalableMatrixWithUnitPricing: (x) => x.Item,
                scalableMatrixWithTieredPricing: (x) => x.Item,
                cumulativeGroupedBulk: (x) => x.Item,
                cumulativeGroupedAllocation: (x) => x.Item,
                minimum: (x) => x.Item,
                percent: (x) => x.Item,
                eventOutput: (x) => x.Item
            );
        }
    }

    public Maximum? Maximum
    {
        get
        {
            return Match<Maximum?>(
                unit: (x) => x.Maximum,
                tiered: (x) => x.Maximum,
                bulk: (x) => x.Maximum,
                bulkWithFilters: (x) => x.Maximum,
                package: (x) => x.Maximum,
                matrix: (x) => x.Maximum,
                thresholdTotalAmount: (x) => x.Maximum,
                tieredPackage: (x) => x.Maximum,
                tieredWithMinimum: (x) => x.Maximum,
                groupedTiered: (x) => x.Maximum,
                tieredPackageWithMinimum: (x) => x.Maximum,
                packageWithAllocation: (x) => x.Maximum,
                unitWithPercent: (x) => x.Maximum,
                matrixWithAllocation: (x) => x.Maximum,
                tieredWithProration: (x) => x.Maximum,
                unitWithProration: (x) => x.Maximum,
                groupedAllocation: (x) => x.Maximum,
                bulkWithProration: (x) => x.Maximum,
                groupedWithProratedMinimum: (x) => x.Maximum,
                groupedWithMeteredMinimum: (x) => x.Maximum,
                groupedWithMinMaxThresholds: (x) => x.Maximum,
                matrixWithDisplayName: (x) => x.Maximum,
                groupedTieredPackage: (x) => x.Maximum,
                maxGroupTieredPackage: (x) => x.Maximum,
                scalableMatrixWithUnitPricing: (x) => x.Maximum,
                scalableMatrixWithTieredPricing: (x) => x.Maximum,
                cumulativeGroupedBulk: (x) => x.Maximum,
                cumulativeGroupedAllocation: (x) => x.Maximum,
                minimum: (x) => x.Maximum,
                percent: (x) => x.Maximum,
                eventOutput: (x) => x.Maximum
            );
        }
    }

    public string? MaximumAmount
    {
        get
        {
            return Match<string?>(
                unit: (x) => x.MaximumAmount,
                tiered: (x) => x.MaximumAmount,
                bulk: (x) => x.MaximumAmount,
                bulkWithFilters: (x) => x.MaximumAmount,
                package: (x) => x.MaximumAmount,
                matrix: (x) => x.MaximumAmount,
                thresholdTotalAmount: (x) => x.MaximumAmount,
                tieredPackage: (x) => x.MaximumAmount,
                tieredWithMinimum: (x) => x.MaximumAmount,
                groupedTiered: (x) => x.MaximumAmount,
                tieredPackageWithMinimum: (x) => x.MaximumAmount,
                packageWithAllocation: (x) => x.MaximumAmount,
                unitWithPercent: (x) => x.MaximumAmount,
                matrixWithAllocation: (x) => x.MaximumAmount,
                tieredWithProration: (x) => x.MaximumAmount,
                unitWithProration: (x) => x.MaximumAmount,
                groupedAllocation: (x) => x.MaximumAmount,
                bulkWithProration: (x) => x.MaximumAmount,
                groupedWithProratedMinimum: (x) => x.MaximumAmount,
                groupedWithMeteredMinimum: (x) => x.MaximumAmount,
                groupedWithMinMaxThresholds: (x) => x.MaximumAmount,
                matrixWithDisplayName: (x) => x.MaximumAmount,
                groupedTieredPackage: (x) => x.MaximumAmount,
                maxGroupTieredPackage: (x) => x.MaximumAmount,
                scalableMatrixWithUnitPricing: (x) => x.MaximumAmount,
                scalableMatrixWithTieredPricing: (x) => x.MaximumAmount,
                cumulativeGroupedBulk: (x) => x.MaximumAmount,
                cumulativeGroupedAllocation: (x) => x.MaximumAmount,
                minimum: (x) => x.MaximumAmount,
                percent: (x) => x.MaximumAmount,
                eventOutput: (x) => x.MaximumAmount
            );
        }
    }

    public Minimum? Minimum
    {
        get
        {
            return Match<Minimum?>(
                unit: (x) => x.Minimum,
                tiered: (x) => x.Minimum,
                bulk: (x) => x.Minimum,
                bulkWithFilters: (x) => x.Minimum,
                package: (x) => x.Minimum,
                matrix: (x) => x.Minimum,
                thresholdTotalAmount: (x) => x.Minimum,
                tieredPackage: (x) => x.Minimum,
                tieredWithMinimum: (x) => x.Minimum,
                groupedTiered: (x) => x.Minimum,
                tieredPackageWithMinimum: (x) => x.Minimum,
                packageWithAllocation: (x) => x.Minimum,
                unitWithPercent: (x) => x.Minimum,
                matrixWithAllocation: (x) => x.Minimum,
                tieredWithProration: (x) => x.Minimum,
                unitWithProration: (x) => x.Minimum,
                groupedAllocation: (x) => x.Minimum,
                bulkWithProration: (x) => x.Minimum,
                groupedWithProratedMinimum: (x) => x.Minimum,
                groupedWithMeteredMinimum: (x) => x.Minimum,
                groupedWithMinMaxThresholds: (x) => x.Minimum,
                matrixWithDisplayName: (x) => x.Minimum,
                groupedTieredPackage: (x) => x.Minimum,
                maxGroupTieredPackage: (x) => x.Minimum,
                scalableMatrixWithUnitPricing: (x) => x.Minimum,
                scalableMatrixWithTieredPricing: (x) => x.Minimum,
                cumulativeGroupedBulk: (x) => x.Minimum,
                cumulativeGroupedAllocation: (x) => x.Minimum,
                minimum: (x) => x.Minimum,
                percent: (x) => x.Minimum,
                eventOutput: (x) => x.Minimum
            );
        }
    }

    public string? MinimumAmount
    {
        get
        {
            return Match<string?>(
                unit: (x) => x.MinimumAmount,
                tiered: (x) => x.MinimumAmount,
                bulk: (x) => x.MinimumAmount,
                bulkWithFilters: (x) => x.MinimumAmount,
                package: (x) => x.MinimumAmount,
                matrix: (x) => x.MinimumAmount,
                thresholdTotalAmount: (x) => x.MinimumAmount,
                tieredPackage: (x) => x.MinimumAmount,
                tieredWithMinimum: (x) => x.MinimumAmount,
                groupedTiered: (x) => x.MinimumAmount,
                tieredPackageWithMinimum: (x) => x.MinimumAmount,
                packageWithAllocation: (x) => x.MinimumAmount,
                unitWithPercent: (x) => x.MinimumAmount,
                matrixWithAllocation: (x) => x.MinimumAmount,
                tieredWithProration: (x) => x.MinimumAmount,
                unitWithProration: (x) => x.MinimumAmount,
                groupedAllocation: (x) => x.MinimumAmount,
                bulkWithProration: (x) => x.MinimumAmount,
                groupedWithProratedMinimum: (x) => x.MinimumAmount,
                groupedWithMeteredMinimum: (x) => x.MinimumAmount,
                groupedWithMinMaxThresholds: (x) => x.MinimumAmount,
                matrixWithDisplayName: (x) => x.MinimumAmount,
                groupedTieredPackage: (x) => x.MinimumAmount,
                maxGroupTieredPackage: (x) => x.MinimumAmount,
                scalableMatrixWithUnitPricing: (x) => x.MinimumAmount,
                scalableMatrixWithTieredPricing: (x) => x.MinimumAmount,
                cumulativeGroupedBulk: (x) => x.MinimumAmount,
                cumulativeGroupedAllocation: (x) => x.MinimumAmount,
                minimum: (x) => x.MinimumAmount,
                percent: (x) => x.MinimumAmount,
                eventOutput: (x) => x.MinimumAmount
            );
        }
    }

    public string Name
    {
        get
        {
            return Match(
                unit: (x) => x.Name,
                tiered: (x) => x.Name,
                bulk: (x) => x.Name,
                bulkWithFilters: (x) => x.Name,
                package: (x) => x.Name,
                matrix: (x) => x.Name,
                thresholdTotalAmount: (x) => x.Name,
                tieredPackage: (x) => x.Name,
                tieredWithMinimum: (x) => x.Name,
                groupedTiered: (x) => x.Name,
                tieredPackageWithMinimum: (x) => x.Name,
                packageWithAllocation: (x) => x.Name,
                unitWithPercent: (x) => x.Name,
                matrixWithAllocation: (x) => x.Name,
                tieredWithProration: (x) => x.Name,
                unitWithProration: (x) => x.Name,
                groupedAllocation: (x) => x.Name,
                bulkWithProration: (x) => x.Name,
                groupedWithProratedMinimum: (x) => x.Name,
                groupedWithMeteredMinimum: (x) => x.Name,
                groupedWithMinMaxThresholds: (x) => x.Name,
                matrixWithDisplayName: (x) => x.Name,
                groupedTieredPackage: (x) => x.Name,
                maxGroupTieredPackage: (x) => x.Name,
                scalableMatrixWithUnitPricing: (x) => x.Name,
                scalableMatrixWithTieredPricing: (x) => x.Name,
                cumulativeGroupedBulk: (x) => x.Name,
                cumulativeGroupedAllocation: (x) => x.Name,
                minimum: (x) => x.Name,
                percent: (x) => x.Name,
                eventOutput: (x) => x.Name
            );
        }
    }

    public long? PlanPhaseOrder
    {
        get
        {
            return Match<long?>(
                unit: (x) => x.PlanPhaseOrder,
                tiered: (x) => x.PlanPhaseOrder,
                bulk: (x) => x.PlanPhaseOrder,
                bulkWithFilters: (x) => x.PlanPhaseOrder,
                package: (x) => x.PlanPhaseOrder,
                matrix: (x) => x.PlanPhaseOrder,
                thresholdTotalAmount: (x) => x.PlanPhaseOrder,
                tieredPackage: (x) => x.PlanPhaseOrder,
                tieredWithMinimum: (x) => x.PlanPhaseOrder,
                groupedTiered: (x) => x.PlanPhaseOrder,
                tieredPackageWithMinimum: (x) => x.PlanPhaseOrder,
                packageWithAllocation: (x) => x.PlanPhaseOrder,
                unitWithPercent: (x) => x.PlanPhaseOrder,
                matrixWithAllocation: (x) => x.PlanPhaseOrder,
                tieredWithProration: (x) => x.PlanPhaseOrder,
                unitWithProration: (x) => x.PlanPhaseOrder,
                groupedAllocation: (x) => x.PlanPhaseOrder,
                bulkWithProration: (x) => x.PlanPhaseOrder,
                groupedWithProratedMinimum: (x) => x.PlanPhaseOrder,
                groupedWithMeteredMinimum: (x) => x.PlanPhaseOrder,
                groupedWithMinMaxThresholds: (x) => x.PlanPhaseOrder,
                matrixWithDisplayName: (x) => x.PlanPhaseOrder,
                groupedTieredPackage: (x) => x.PlanPhaseOrder,
                maxGroupTieredPackage: (x) => x.PlanPhaseOrder,
                scalableMatrixWithUnitPricing: (x) => x.PlanPhaseOrder,
                scalableMatrixWithTieredPricing: (x) => x.PlanPhaseOrder,
                cumulativeGroupedBulk: (x) => x.PlanPhaseOrder,
                cumulativeGroupedAllocation: (x) => x.PlanPhaseOrder,
                minimum: (x) => x.PlanPhaseOrder,
                percent: (x) => x.PlanPhaseOrder,
                eventOutput: (x) => x.PlanPhaseOrder
            );
        }
    }

    public string? ReplacesPriceID
    {
        get
        {
            return Match<string?>(
                unit: (x) => x.ReplacesPriceID,
                tiered: (x) => x.ReplacesPriceID,
                bulk: (x) => x.ReplacesPriceID,
                bulkWithFilters: (x) => x.ReplacesPriceID,
                package: (x) => x.ReplacesPriceID,
                matrix: (x) => x.ReplacesPriceID,
                thresholdTotalAmount: (x) => x.ReplacesPriceID,
                tieredPackage: (x) => x.ReplacesPriceID,
                tieredWithMinimum: (x) => x.ReplacesPriceID,
                groupedTiered: (x) => x.ReplacesPriceID,
                tieredPackageWithMinimum: (x) => x.ReplacesPriceID,
                packageWithAllocation: (x) => x.ReplacesPriceID,
                unitWithPercent: (x) => x.ReplacesPriceID,
                matrixWithAllocation: (x) => x.ReplacesPriceID,
                tieredWithProration: (x) => x.ReplacesPriceID,
                unitWithProration: (x) => x.ReplacesPriceID,
                groupedAllocation: (x) => x.ReplacesPriceID,
                bulkWithProration: (x) => x.ReplacesPriceID,
                groupedWithProratedMinimum: (x) => x.ReplacesPriceID,
                groupedWithMeteredMinimum: (x) => x.ReplacesPriceID,
                groupedWithMinMaxThresholds: (x) => x.ReplacesPriceID,
                matrixWithDisplayName: (x) => x.ReplacesPriceID,
                groupedTieredPackage: (x) => x.ReplacesPriceID,
                maxGroupTieredPackage: (x) => x.ReplacesPriceID,
                scalableMatrixWithUnitPricing: (x) => x.ReplacesPriceID,
                scalableMatrixWithTieredPricing: (x) => x.ReplacesPriceID,
                cumulativeGroupedBulk: (x) => x.ReplacesPriceID,
                cumulativeGroupedAllocation: (x) => x.ReplacesPriceID,
                minimum: (x) => x.ReplacesPriceID,
                percent: (x) => x.ReplacesPriceID,
                eventOutput: (x) => x.ReplacesPriceID
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            return Match<DimensionalPriceConfiguration?>(
                unit: (x) => x.DimensionalPriceConfiguration,
                tiered: (x) => x.DimensionalPriceConfiguration,
                bulk: (x) => x.DimensionalPriceConfiguration,
                bulkWithFilters: (x) => x.DimensionalPriceConfiguration,
                package: (x) => x.DimensionalPriceConfiguration,
                matrix: (x) => x.DimensionalPriceConfiguration,
                thresholdTotalAmount: (x) => x.DimensionalPriceConfiguration,
                tieredPackage: (x) => x.DimensionalPriceConfiguration,
                tieredWithMinimum: (x) => x.DimensionalPriceConfiguration,
                groupedTiered: (x) => x.DimensionalPriceConfiguration,
                tieredPackageWithMinimum: (x) => x.DimensionalPriceConfiguration,
                packageWithAllocation: (x) => x.DimensionalPriceConfiguration,
                unitWithPercent: (x) => x.DimensionalPriceConfiguration,
                matrixWithAllocation: (x) => x.DimensionalPriceConfiguration,
                tieredWithProration: (x) => x.DimensionalPriceConfiguration,
                unitWithProration: (x) => x.DimensionalPriceConfiguration,
                groupedAllocation: (x) => x.DimensionalPriceConfiguration,
                bulkWithProration: (x) => x.DimensionalPriceConfiguration,
                groupedWithProratedMinimum: (x) => x.DimensionalPriceConfiguration,
                groupedWithMeteredMinimum: (x) => x.DimensionalPriceConfiguration,
                groupedWithMinMaxThresholds: (x) => x.DimensionalPriceConfiguration,
                matrixWithDisplayName: (x) => x.DimensionalPriceConfiguration,
                groupedTieredPackage: (x) => x.DimensionalPriceConfiguration,
                maxGroupTieredPackage: (x) => x.DimensionalPriceConfiguration,
                scalableMatrixWithUnitPricing: (x) => x.DimensionalPriceConfiguration,
                scalableMatrixWithTieredPricing: (x) => x.DimensionalPriceConfiguration,
                cumulativeGroupedBulk: (x) => x.DimensionalPriceConfiguration,
                cumulativeGroupedAllocation: (x) => x.DimensionalPriceConfiguration,
                minimum: (x) => x.DimensionalPriceConfiguration,
                percent: (x) => x.DimensionalPriceConfiguration,
                eventOutput: (x) => x.DimensionalPriceConfiguration
            );
        }
    }

    public Price(Unit value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(Tiered value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(Bulk value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(BulkWithFilters value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(Package value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(Matrix value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(ThresholdTotalAmount value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(TieredPackage value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(TieredWithMinimum value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedTiered value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(TieredPackageWithMinimum value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(PackageWithAllocation value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(UnitWithPercent value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(MatrixWithAllocation value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(TieredWithProration value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(UnitWithProration value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedAllocation value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(BulkWithProration value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedWithProratedMinimum value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedWithMeteredMinimum value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedWithMinMaxThresholds value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(MatrixWithDisplayName value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(GroupedTieredPackage value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(MaxGroupTieredPackage value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(ScalableMatrixWithUnitPricing value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(ScalableMatrixWithTieredPricing value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(CumulativeGroupedBulk value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(CumulativeGroupedAllocation value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(PriceMinimum value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(Percent value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(EventOutput value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public Price(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out Unit? value)
    {
        value = this.Value as Unit;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out Tiered? value)
    {
        value = this.Value as Tiered;
        return value != null;
    }

    public bool TryPickBulk([NotNullWhen(true)] out Bulk? value)
    {
        value = this.Value as Bulk;
        return value != null;
    }

    public bool TryPickBulkWithFilters([NotNullWhen(true)] out BulkWithFilters? value)
    {
        value = this.Value as BulkWithFilters;
        return value != null;
    }

    public bool TryPickPackage([NotNullWhen(true)] out Package? value)
    {
        value = this.Value as Package;
        return value != null;
    }

    public bool TryPickMatrix([NotNullWhen(true)] out Matrix? value)
    {
        value = this.Value as Matrix;
        return value != null;
    }

    public bool TryPickThresholdTotalAmount([NotNullWhen(true)] out ThresholdTotalAmount? value)
    {
        value = this.Value as ThresholdTotalAmount;
        return value != null;
    }

    public bool TryPickTieredPackage([NotNullWhen(true)] out TieredPackage? value)
    {
        value = this.Value as TieredPackage;
        return value != null;
    }

    public bool TryPickTieredWithMinimum([NotNullWhen(true)] out TieredWithMinimum? value)
    {
        value = this.Value as TieredWithMinimum;
        return value != null;
    }

    public bool TryPickGroupedTiered([NotNullWhen(true)] out GroupedTiered? value)
    {
        value = this.Value as GroupedTiered;
        return value != null;
    }

    public bool TryPickTieredPackageWithMinimum(
        [NotNullWhen(true)] out TieredPackageWithMinimum? value
    )
    {
        value = this.Value as TieredPackageWithMinimum;
        return value != null;
    }

    public bool TryPickPackageWithAllocation([NotNullWhen(true)] out PackageWithAllocation? value)
    {
        value = this.Value as PackageWithAllocation;
        return value != null;
    }

    public bool TryPickUnitWithPercent([NotNullWhen(true)] out UnitWithPercent? value)
    {
        value = this.Value as UnitWithPercent;
        return value != null;
    }

    public bool TryPickMatrixWithAllocation([NotNullWhen(true)] out MatrixWithAllocation? value)
    {
        value = this.Value as MatrixWithAllocation;
        return value != null;
    }

    public bool TryPickTieredWithProration([NotNullWhen(true)] out TieredWithProration? value)
    {
        value = this.Value as TieredWithProration;
        return value != null;
    }

    public bool TryPickUnitWithProration([NotNullWhen(true)] out UnitWithProration? value)
    {
        value = this.Value as UnitWithProration;
        return value != null;
    }

    public bool TryPickGroupedAllocation([NotNullWhen(true)] out GroupedAllocation? value)
    {
        value = this.Value as GroupedAllocation;
        return value != null;
    }

    public bool TryPickBulkWithProration([NotNullWhen(true)] out BulkWithProration? value)
    {
        value = this.Value as BulkWithProration;
        return value != null;
    }

    public bool TryPickGroupedWithProratedMinimum(
        [NotNullWhen(true)] out GroupedWithProratedMinimum? value
    )
    {
        value = this.Value as GroupedWithProratedMinimum;
        return value != null;
    }

    public bool TryPickGroupedWithMeteredMinimum(
        [NotNullWhen(true)] out GroupedWithMeteredMinimum? value
    )
    {
        value = this.Value as GroupedWithMeteredMinimum;
        return value != null;
    }

    public bool TryPickGroupedWithMinMaxThresholds(
        [NotNullWhen(true)] out GroupedWithMinMaxThresholds? value
    )
    {
        value = this.Value as GroupedWithMinMaxThresholds;
        return value != null;
    }

    public bool TryPickMatrixWithDisplayName([NotNullWhen(true)] out MatrixWithDisplayName? value)
    {
        value = this.Value as MatrixWithDisplayName;
        return value != null;
    }

    public bool TryPickGroupedTieredPackage([NotNullWhen(true)] out GroupedTieredPackage? value)
    {
        value = this.Value as GroupedTieredPackage;
        return value != null;
    }

    public bool TryPickMaxGroupTieredPackage([NotNullWhen(true)] out MaxGroupTieredPackage? value)
    {
        value = this.Value as MaxGroupTieredPackage;
        return value != null;
    }

    public bool TryPickScalableMatrixWithUnitPricing(
        [NotNullWhen(true)] out ScalableMatrixWithUnitPricing? value
    )
    {
        value = this.Value as ScalableMatrixWithUnitPricing;
        return value != null;
    }

    public bool TryPickScalableMatrixWithTieredPricing(
        [NotNullWhen(true)] out ScalableMatrixWithTieredPricing? value
    )
    {
        value = this.Value as ScalableMatrixWithTieredPricing;
        return value != null;
    }

    public bool TryPickCumulativeGroupedBulk([NotNullWhen(true)] out CumulativeGroupedBulk? value)
    {
        value = this.Value as CumulativeGroupedBulk;
        return value != null;
    }

    public bool TryPickCumulativeGroupedAllocation(
        [NotNullWhen(true)] out CumulativeGroupedAllocation? value
    )
    {
        value = this.Value as CumulativeGroupedAllocation;
        return value != null;
    }

    public bool TryPickMinimum([NotNullWhen(true)] out PriceMinimum? value)
    {
        value = this.Value as PriceMinimum;
        return value != null;
    }

    public bool TryPickPercent([NotNullWhen(true)] out Percent? value)
    {
        value = this.Value as Percent;
        return value != null;
    }

    public bool TryPickEventOutput([NotNullWhen(true)] out EventOutput? value)
    {
        value = this.Value as EventOutput;
        return value != null;
    }

    public void Switch(
        System::Action<Unit> unit,
        System::Action<Tiered> tiered,
        System::Action<Bulk> bulk,
        System::Action<BulkWithFilters> bulkWithFilters,
        System::Action<Package> package,
        System::Action<Matrix> matrix,
        System::Action<ThresholdTotalAmount> thresholdTotalAmount,
        System::Action<TieredPackage> tieredPackage,
        System::Action<TieredWithMinimum> tieredWithMinimum,
        System::Action<GroupedTiered> groupedTiered,
        System::Action<TieredPackageWithMinimum> tieredPackageWithMinimum,
        System::Action<PackageWithAllocation> packageWithAllocation,
        System::Action<UnitWithPercent> unitWithPercent,
        System::Action<MatrixWithAllocation> matrixWithAllocation,
        System::Action<TieredWithProration> tieredWithProration,
        System::Action<UnitWithProration> unitWithProration,
        System::Action<GroupedAllocation> groupedAllocation,
        System::Action<BulkWithProration> bulkWithProration,
        System::Action<GroupedWithProratedMinimum> groupedWithProratedMinimum,
        System::Action<GroupedWithMeteredMinimum> groupedWithMeteredMinimum,
        System::Action<GroupedWithMinMaxThresholds> groupedWithMinMaxThresholds,
        System::Action<MatrixWithDisplayName> matrixWithDisplayName,
        System::Action<GroupedTieredPackage> groupedTieredPackage,
        System::Action<MaxGroupTieredPackage> maxGroupTieredPackage,
        System::Action<ScalableMatrixWithUnitPricing> scalableMatrixWithUnitPricing,
        System::Action<ScalableMatrixWithTieredPricing> scalableMatrixWithTieredPricing,
        System::Action<CumulativeGroupedBulk> cumulativeGroupedBulk,
        System::Action<CumulativeGroupedAllocation> cumulativeGroupedAllocation,
        System::Action<PriceMinimum> minimum,
        System::Action<Percent> percent,
        System::Action<EventOutput> eventOutput
    )
    {
        switch (this.Value)
        {
            case Unit value:
                unit(value);
                break;
            case Tiered value:
                tiered(value);
                break;
            case Bulk value:
                bulk(value);
                break;
            case BulkWithFilters value:
                bulkWithFilters(value);
                break;
            case Package value:
                package(value);
                break;
            case Matrix value:
                matrix(value);
                break;
            case ThresholdTotalAmount value:
                thresholdTotalAmount(value);
                break;
            case TieredPackage value:
                tieredPackage(value);
                break;
            case TieredWithMinimum value:
                tieredWithMinimum(value);
                break;
            case GroupedTiered value:
                groupedTiered(value);
                break;
            case TieredPackageWithMinimum value:
                tieredPackageWithMinimum(value);
                break;
            case PackageWithAllocation value:
                packageWithAllocation(value);
                break;
            case UnitWithPercent value:
                unitWithPercent(value);
                break;
            case MatrixWithAllocation value:
                matrixWithAllocation(value);
                break;
            case TieredWithProration value:
                tieredWithProration(value);
                break;
            case UnitWithProration value:
                unitWithProration(value);
                break;
            case GroupedAllocation value:
                groupedAllocation(value);
                break;
            case BulkWithProration value:
                bulkWithProration(value);
                break;
            case GroupedWithProratedMinimum value:
                groupedWithProratedMinimum(value);
                break;
            case GroupedWithMeteredMinimum value:
                groupedWithMeteredMinimum(value);
                break;
            case GroupedWithMinMaxThresholds value:
                groupedWithMinMaxThresholds(value);
                break;
            case MatrixWithDisplayName value:
                matrixWithDisplayName(value);
                break;
            case GroupedTieredPackage value:
                groupedTieredPackage(value);
                break;
            case MaxGroupTieredPackage value:
                maxGroupTieredPackage(value);
                break;
            case ScalableMatrixWithUnitPricing value:
                scalableMatrixWithUnitPricing(value);
                break;
            case ScalableMatrixWithTieredPricing value:
                scalableMatrixWithTieredPricing(value);
                break;
            case CumulativeGroupedBulk value:
                cumulativeGroupedBulk(value);
                break;
            case CumulativeGroupedAllocation value:
                cumulativeGroupedAllocation(value);
                break;
            case PriceMinimum value:
                minimum(value);
                break;
            case Percent value:
                percent(value);
                break;
            case EventOutput value:
                eventOutput(value);
                break;
            default:
                throw new OrbInvalidDataException("Data did not match any variant of Price");
        }
    }

    public T Match<T>(
        System::Func<Unit, T> unit,
        System::Func<Tiered, T> tiered,
        System::Func<Bulk, T> bulk,
        System::Func<BulkWithFilters, T> bulkWithFilters,
        System::Func<Package, T> package,
        System::Func<Matrix, T> matrix,
        System::Func<ThresholdTotalAmount, T> thresholdTotalAmount,
        System::Func<TieredPackage, T> tieredPackage,
        System::Func<TieredWithMinimum, T> tieredWithMinimum,
        System::Func<GroupedTiered, T> groupedTiered,
        System::Func<TieredPackageWithMinimum, T> tieredPackageWithMinimum,
        System::Func<PackageWithAllocation, T> packageWithAllocation,
        System::Func<UnitWithPercent, T> unitWithPercent,
        System::Func<MatrixWithAllocation, T> matrixWithAllocation,
        System::Func<TieredWithProration, T> tieredWithProration,
        System::Func<UnitWithProration, T> unitWithProration,
        System::Func<GroupedAllocation, T> groupedAllocation,
        System::Func<BulkWithProration, T> bulkWithProration,
        System::Func<GroupedWithProratedMinimum, T> groupedWithProratedMinimum,
        System::Func<GroupedWithMeteredMinimum, T> groupedWithMeteredMinimum,
        System::Func<GroupedWithMinMaxThresholds, T> groupedWithMinMaxThresholds,
        System::Func<MatrixWithDisplayName, T> matrixWithDisplayName,
        System::Func<GroupedTieredPackage, T> groupedTieredPackage,
        System::Func<MaxGroupTieredPackage, T> maxGroupTieredPackage,
        System::Func<ScalableMatrixWithUnitPricing, T> scalableMatrixWithUnitPricing,
        System::Func<ScalableMatrixWithTieredPricing, T> scalableMatrixWithTieredPricing,
        System::Func<CumulativeGroupedBulk, T> cumulativeGroupedBulk,
        System::Func<CumulativeGroupedAllocation, T> cumulativeGroupedAllocation,
        System::Func<PriceMinimum, T> minimum,
        System::Func<Percent, T> percent,
        System::Func<EventOutput, T> eventOutput
    )
    {
        return this.Value switch
        {
            Unit value => unit(value),
            Tiered value => tiered(value),
            Bulk value => bulk(value),
            BulkWithFilters value => bulkWithFilters(value),
            Package value => package(value),
            Matrix value => matrix(value),
            ThresholdTotalAmount value => thresholdTotalAmount(value),
            TieredPackage value => tieredPackage(value),
            TieredWithMinimum value => tieredWithMinimum(value),
            GroupedTiered value => groupedTiered(value),
            TieredPackageWithMinimum value => tieredPackageWithMinimum(value),
            PackageWithAllocation value => packageWithAllocation(value),
            UnitWithPercent value => unitWithPercent(value),
            MatrixWithAllocation value => matrixWithAllocation(value),
            TieredWithProration value => tieredWithProration(value),
            UnitWithProration value => unitWithProration(value),
            GroupedAllocation value => groupedAllocation(value),
            BulkWithProration value => bulkWithProration(value),
            GroupedWithProratedMinimum value => groupedWithProratedMinimum(value),
            GroupedWithMeteredMinimum value => groupedWithMeteredMinimum(value),
            GroupedWithMinMaxThresholds value => groupedWithMinMaxThresholds(value),
            MatrixWithDisplayName value => matrixWithDisplayName(value),
            GroupedTieredPackage value => groupedTieredPackage(value),
            MaxGroupTieredPackage value => maxGroupTieredPackage(value),
            ScalableMatrixWithUnitPricing value => scalableMatrixWithUnitPricing(value),
            ScalableMatrixWithTieredPricing value => scalableMatrixWithTieredPricing(value),
            CumulativeGroupedBulk value => cumulativeGroupedBulk(value),
            CumulativeGroupedAllocation value => cumulativeGroupedAllocation(value),
            PriceMinimum value => minimum(value),
            Percent value => percent(value),
            EventOutput value => eventOutput(value),
            _ => throw new OrbInvalidDataException("Data did not match any variant of Price"),
        };
    }

    public static implicit operator Price(Unit value) => new(value);

    public static implicit operator Price(Tiered value) => new(value);

    public static implicit operator Price(Bulk value) => new(value);

    public static implicit operator Price(BulkWithFilters value) => new(value);

    public static implicit operator Price(Package value) => new(value);

    public static implicit operator Price(Matrix value) => new(value);

    public static implicit operator Price(ThresholdTotalAmount value) => new(value);

    public static implicit operator Price(TieredPackage value) => new(value);

    public static implicit operator Price(TieredWithMinimum value) => new(value);

    public static implicit operator Price(GroupedTiered value) => new(value);

    public static implicit operator Price(TieredPackageWithMinimum value) => new(value);

    public static implicit operator Price(PackageWithAllocation value) => new(value);

    public static implicit operator Price(UnitWithPercent value) => new(value);

    public static implicit operator Price(MatrixWithAllocation value) => new(value);

    public static implicit operator Price(TieredWithProration value) => new(value);

    public static implicit operator Price(UnitWithProration value) => new(value);

    public static implicit operator Price(GroupedAllocation value) => new(value);

    public static implicit operator Price(BulkWithProration value) => new(value);

    public static implicit operator Price(GroupedWithProratedMinimum value) => new(value);

    public static implicit operator Price(GroupedWithMeteredMinimum value) => new(value);

    public static implicit operator Price(GroupedWithMinMaxThresholds value) => new(value);

    public static implicit operator Price(MatrixWithDisplayName value) => new(value);

    public static implicit operator Price(GroupedTieredPackage value) => new(value);

    public static implicit operator Price(MaxGroupTieredPackage value) => new(value);

    public static implicit operator Price(ScalableMatrixWithUnitPricing value) => new(value);

    public static implicit operator Price(ScalableMatrixWithTieredPricing value) => new(value);

    public static implicit operator Price(CumulativeGroupedBulk value) => new(value);

    public static implicit operator Price(CumulativeGroupedAllocation value) => new(value);

    public static implicit operator Price(PriceMinimum value) => new(value);

    public static implicit operator Price(Percent value) => new(value);

    public static implicit operator Price(EventOutput value) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException("Data did not match any variant of Price");
        }
    }
}

sealed class PriceConverter : JsonConverter<Price>
{
    public override Price? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? modelType;
        try
        {
            modelType = json.GetProperty("model_type").GetString();
        }
        catch
        {
            modelType = null;
        }

        switch (modelType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Unit>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Tiered>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "bulk":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Bulk>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "bulk_with_filters":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<BulkWithFilters>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "package":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Package>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "matrix":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Matrix>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "threshold_total_amount":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<ThresholdTotalAmount>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered_package":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<TieredPackage>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered_with_minimum":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<TieredWithMinimum>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedTiered>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered_package_with_minimum":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<TieredPackageWithMinimum>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "package_with_allocation":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<PackageWithAllocation>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "unit_with_percent":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<UnitWithPercent>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "matrix_with_allocation":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<MatrixWithAllocation>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered_with_proration":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<TieredWithProration>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "unit_with_proration":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<UnitWithProration>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_allocation":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedAllocation>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "bulk_with_proration":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<BulkWithProration>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_with_prorated_minimum":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedWithProratedMinimum>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_with_metered_minimum":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedWithMeteredMinimum>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_with_min_max_thresholds":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedWithMinMaxThresholds>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "matrix_with_display_name":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<MatrixWithDisplayName>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "grouped_tiered_package":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<GroupedTieredPackage>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "max_group_tiered_package":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<MaxGroupTieredPackage>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "scalable_matrix_with_unit_pricing":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<ScalableMatrixWithUnitPricing>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "scalable_matrix_with_tiered_pricing":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<ScalableMatrixWithTieredPricing>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "cumulative_grouped_bulk":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<CumulativeGroupedBulk>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "cumulative_grouped_allocation":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<CumulativeGroupedAllocation>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "minimum":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<PriceMinimum>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "percent":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<Percent>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "event_output":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<EventOutput>(json, options);
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new Price(json);
            }
        }
    }

    public override void Write(Utf8JsonWriter writer, Price value, JsonSerializerOptions options)
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

[JsonConverter(typeof(ModelConverter<Unit>))]
public sealed record class Unit : ModelBase, IFromRaw<Unit>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required UnitConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<UnitConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public UnitModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitModelType>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for unit pricing
    /// </summary>
    public required UnitConfig UnitConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_config' cannot be null",
                    new System::ArgumentNullException("unit_config")
                );
        }
        init
        {
            this._rawData["unit_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.UnitConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Unit()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Unit(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Unit(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Unit FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(BillingModeConverter))]
public enum BillingMode
{
    InAdvance,
    InArrear,
}

sealed class BillingModeConverter : JsonConverter<BillingMode>
{
    public override BillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => BillingMode.InAdvance,
            "in_arrear" => BillingMode.InArrear,
            _ => (BillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BillingMode.InAdvance => "in_advance",
                BillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitCadenceConverter))]
public enum UnitCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class UnitCadenceConverter : JsonConverter<UnitCadence>
{
    public override UnitCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => UnitCadence.OneTime,
            "monthly" => UnitCadence.Monthly,
            "quarterly" => UnitCadence.Quarterly,
            "semi_annual" => UnitCadence.SemiAnnual,
            "annual" => UnitCadence.Annual,
            "custom" => UnitCadence.Custom,
            _ => (UnitCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitCadence.OneTime => "one_time",
                UnitCadence.Monthly => "monthly",
                UnitCadence.Quarterly => "quarterly",
                UnitCadence.SemiAnnual => "semi_annual",
                UnitCadence.Annual => "annual",
                UnitCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter>))]
public sealed record class CompositePriceFilter : ModelBase, IFromRaw<CompositePriceFilter>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilterField> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilterField>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilterOperator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilterOperator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter() { }

    public CompositePriceFilter(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilterFieldConverter))]
public enum CompositePriceFilterField
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilterFieldConverter : JsonConverter<CompositePriceFilterField>
{
    public override CompositePriceFilterField Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilterField.PriceID,
            "item_id" => CompositePriceFilterField.ItemID,
            "price_type" => CompositePriceFilterField.PriceType,
            "currency" => CompositePriceFilterField.Currency,
            "pricing_unit_id" => CompositePriceFilterField.PricingUnitID,
            _ => (CompositePriceFilterField)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilterField value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilterField.PriceID => "price_id",
                CompositePriceFilterField.ItemID => "item_id",
                CompositePriceFilterField.PriceType => "price_type",
                CompositePriceFilterField.Currency => "currency",
                CompositePriceFilterField.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilterOperatorConverter))]
public enum CompositePriceFilterOperator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilterOperatorConverter : JsonConverter<CompositePriceFilterOperator>
{
    public override CompositePriceFilterOperator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilterOperator.Includes,
            "excludes" => CompositePriceFilterOperator.Excludes,
            _ => (CompositePriceFilterOperator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilterOperator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilterOperator.Includes => "includes",
                CompositePriceFilterOperator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitConversionRateConfigConverter))]
public record class UnitConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public UnitConversionRateConfig(SharedUnitConversionRateConfig value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public UnitConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public UnitConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of UnitConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of UnitConversionRateConfig"
            ),
        };
    }

    public static implicit operator UnitConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator UnitConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of UnitConversionRateConfig"
            );
        }
    }
}

sealed class UnitConversionRateConfigConverter : JsonConverter<UnitConversionRateConfig>
{
    public override UnitConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new UnitConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class UnitModelType
{
    public JsonElement Json { get; private init; }

    public UnitModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"unit\"");
    }

    UnitModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new UnitModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'UnitModelType'");
        }
    }

    class Converter : JsonConverter<UnitModelType>
    {
        public override UnitModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            UnitModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(UnitPriceTypeConverter))]
public enum UnitPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class UnitPriceTypeConverter : JsonConverter<UnitPriceType>
{
    public override UnitPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => UnitPriceType.UsagePrice,
            "fixed_price" => UnitPriceType.FixedPrice,
            "composite_price" => UnitPriceType.CompositePrice,
            _ => (UnitPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitPriceType.UsagePrice => "usage_price",
                UnitPriceType.FixedPrice => "fixed_price",
                UnitPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<Tiered>))]
public sealed record class Tiered : ModelBase, IFromRaw<Tiered>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilterModel>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilterModel>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required TieredConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<TieredConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public TieredModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredModelType>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for tiered pricing
    /// </summary>
    public required TieredConfig TieredConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("tiered_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiered_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tiered_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiered_config' cannot be null",
                    new System::ArgumentNullException("tiered_config")
                );
        }
        init
        {
            this._rawData["tiered_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.TieredConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Tiered()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Tiered(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Tiered(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tiered FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(TieredBillingModeConverter))]
public enum TieredBillingMode
{
    InAdvance,
    InArrear,
}

sealed class TieredBillingModeConverter : JsonConverter<TieredBillingMode>
{
    public override TieredBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => TieredBillingMode.InAdvance,
            "in_arrear" => TieredBillingMode.InArrear,
            _ => (TieredBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredBillingMode.InAdvance => "in_advance",
                TieredBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredCadenceConverter))]
public enum TieredCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class TieredCadenceConverter : JsonConverter<TieredCadence>
{
    public override TieredCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => TieredCadence.OneTime,
            "monthly" => TieredCadence.Monthly,
            "quarterly" => TieredCadence.Quarterly,
            "semi_annual" => TieredCadence.SemiAnnual,
            "annual" => TieredCadence.Annual,
            "custom" => TieredCadence.Custom,
            _ => (TieredCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredCadence.OneTime => "one_time",
                TieredCadence.Monthly => "monthly",
                TieredCadence.Quarterly => "quarterly",
                TieredCadence.SemiAnnual => "semi_annual",
                TieredCadence.Annual => "annual",
                TieredCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilterModel>))]
public sealed record class CompositePriceFilterModel
    : ModelBase,
        IFromRaw<CompositePriceFilterModel>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilterModelField> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilterModelField>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilterModelOperator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilterModelOperator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilterModel() { }

    public CompositePriceFilterModel(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilterModel(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilterModel FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilterModelFieldConverter))]
public enum CompositePriceFilterModelField
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilterModelFieldConverter : JsonConverter<CompositePriceFilterModelField>
{
    public override CompositePriceFilterModelField Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilterModelField.PriceID,
            "item_id" => CompositePriceFilterModelField.ItemID,
            "price_type" => CompositePriceFilterModelField.PriceType,
            "currency" => CompositePriceFilterModelField.Currency,
            "pricing_unit_id" => CompositePriceFilterModelField.PricingUnitID,
            _ => (CompositePriceFilterModelField)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilterModelField value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilterModelField.PriceID => "price_id",
                CompositePriceFilterModelField.ItemID => "item_id",
                CompositePriceFilterModelField.PriceType => "price_type",
                CompositePriceFilterModelField.Currency => "currency",
                CompositePriceFilterModelField.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilterModelOperatorConverter))]
public enum CompositePriceFilterModelOperator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilterModelOperatorConverter
    : JsonConverter<CompositePriceFilterModelOperator>
{
    public override CompositePriceFilterModelOperator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilterModelOperator.Includes,
            "excludes" => CompositePriceFilterModelOperator.Excludes,
            _ => (CompositePriceFilterModelOperator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilterModelOperator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilterModelOperator.Includes => "includes",
                CompositePriceFilterModelOperator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredConversionRateConfigConverter))]
public record class TieredConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public TieredConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of TieredConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of TieredConversionRateConfig"
            ),
        };
    }

    public static implicit operator TieredConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator TieredConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of TieredConversionRateConfig"
            );
        }
    }
}

sealed class TieredConversionRateConfigConverter : JsonConverter<TieredConversionRateConfig>
{
    public override TieredConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new TieredConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class TieredModelType
{
    public JsonElement Json { get; private init; }

    public TieredModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"tiered\"");
    }

    TieredModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new TieredModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'TieredModelType'");
        }
    }

    class Converter : JsonConverter<TieredModelType>
    {
        public override TieredModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            TieredModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(TieredPriceTypeConverter))]
public enum TieredPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class TieredPriceTypeConverter : JsonConverter<TieredPriceType>
{
    public override TieredPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => TieredPriceType.UsagePrice,
            "fixed_price" => TieredPriceType.FixedPrice,
            "composite_price" => TieredPriceType.CompositePrice,
            _ => (TieredPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPriceType.UsagePrice => "usage_price",
                TieredPriceType.FixedPrice => "fixed_price",
                TieredPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<Bulk>))]
public sealed record class Bulk : ModelBase, IFromRaw<Bulk>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for bulk pricing
    /// </summary>
    public required BulkConfig BulkConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("bulk_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'bulk_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "bulk_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'bulk_config' cannot be null",
                    new System::ArgumentNullException("bulk_config")
                );
        }
        init
        {
            this._rawData["bulk_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter1>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter1>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BulkConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BulkConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public BulkModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkModelType>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.BulkConfig.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Bulk()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Bulk(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Bulk(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Bulk FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(BulkBillingModeConverter))]
public enum BulkBillingMode
{
    InAdvance,
    InArrear,
}

sealed class BulkBillingModeConverter : JsonConverter<BulkBillingMode>
{
    public override BulkBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => BulkBillingMode.InAdvance,
            "in_arrear" => BulkBillingMode.InArrear,
            _ => (BulkBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkBillingMode.InAdvance => "in_advance",
                BulkBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(BulkCadenceConverter))]
public enum BulkCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class BulkCadenceConverter : JsonConverter<BulkCadence>
{
    public override BulkCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => BulkCadence.OneTime,
            "monthly" => BulkCadence.Monthly,
            "quarterly" => BulkCadence.Quarterly,
            "semi_annual" => BulkCadence.SemiAnnual,
            "annual" => BulkCadence.Annual,
            "custom" => BulkCadence.Custom,
            _ => (BulkCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkCadence.OneTime => "one_time",
                BulkCadence.Monthly => "monthly",
                BulkCadence.Quarterly => "quarterly",
                BulkCadence.SemiAnnual => "semi_annual",
                BulkCadence.Annual => "annual",
                BulkCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter1>))]
public sealed record class CompositePriceFilter1 : ModelBase, IFromRaw<CompositePriceFilter1>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter1Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter1Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter1Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter1Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter1() { }

    public CompositePriceFilter1(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter1(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter1 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter1FieldConverter))]
public enum CompositePriceFilter1Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter1FieldConverter : JsonConverter<CompositePriceFilter1Field>
{
    public override CompositePriceFilter1Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter1Field.PriceID,
            "item_id" => CompositePriceFilter1Field.ItemID,
            "price_type" => CompositePriceFilter1Field.PriceType,
            "currency" => CompositePriceFilter1Field.Currency,
            "pricing_unit_id" => CompositePriceFilter1Field.PricingUnitID,
            _ => (CompositePriceFilter1Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter1Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter1Field.PriceID => "price_id",
                CompositePriceFilter1Field.ItemID => "item_id",
                CompositePriceFilter1Field.PriceType => "price_type",
                CompositePriceFilter1Field.Currency => "currency",
                CompositePriceFilter1Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter1OperatorConverter))]
public enum CompositePriceFilter1Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter1OperatorConverter : JsonConverter<CompositePriceFilter1Operator>
{
    public override CompositePriceFilter1Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter1Operator.Includes,
            "excludes" => CompositePriceFilter1Operator.Excludes,
            _ => (CompositePriceFilter1Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter1Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter1Operator.Includes => "includes",
                CompositePriceFilter1Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(BulkConversionRateConfigConverter))]
public record class BulkConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public BulkConversionRateConfig(SharedUnitConversionRateConfig value, JsonElement? json = null)
    {
        this.Value = value;
        this._json = json;
    }

    public BulkConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public BulkConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of BulkConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of BulkConversionRateConfig"
            ),
        };
    }

    public static implicit operator BulkConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator BulkConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of BulkConversionRateConfig"
            );
        }
    }
}

sealed class BulkConversionRateConfigConverter : JsonConverter<BulkConversionRateConfig>
{
    public override BulkConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new BulkConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class BulkModelType
{
    public JsonElement Json { get; private init; }

    public BulkModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"bulk\"");
    }

    BulkModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new BulkModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'BulkModelType'");
        }
    }

    class Converter : JsonConverter<BulkModelType>
    {
        public override BulkModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            BulkModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(BulkPriceTypeConverter))]
public enum BulkPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class BulkPriceTypeConverter : JsonConverter<BulkPriceType>
{
    public override BulkPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => BulkPriceType.UsagePrice,
            "fixed_price" => BulkPriceType.FixedPrice,
            "composite_price" => BulkPriceType.CompositePrice,
            _ => (BulkPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkPriceType.UsagePrice => "usage_price",
                BulkPriceType.FixedPrice => "fixed_price",
                BulkPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<BulkWithFilters>))]
public sealed record class BulkWithFilters : ModelBase, IFromRaw<BulkWithFilters>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithFiltersBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithFiltersBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for bulk_with_filters pricing
    /// </summary>
    public required BulkWithFiltersConfig BulkWithFiltersConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("bulk_with_filters_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'bulk_with_filters_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "bulk_with_filters_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkWithFiltersConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'bulk_with_filters_config' cannot be null",
                    new System::ArgumentNullException("bulk_with_filters_config")
                );
        }
        init
        {
            this._rawData["bulk_with_filters_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithFiltersCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithFiltersCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter2>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter2>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BulkWithFiltersConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BulkWithFiltersConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public BulkWithFiltersModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkWithFiltersModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithFiltersPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithFiltersPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.BulkWithFiltersConfig.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public BulkWithFilters()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public BulkWithFilters(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    BulkWithFilters(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static BulkWithFilters FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(BulkWithFiltersBillingModeConverter))]
public enum BulkWithFiltersBillingMode
{
    InAdvance,
    InArrear,
}

sealed class BulkWithFiltersBillingModeConverter : JsonConverter<BulkWithFiltersBillingMode>
{
    public override BulkWithFiltersBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => BulkWithFiltersBillingMode.InAdvance,
            "in_arrear" => BulkWithFiltersBillingMode.InArrear,
            _ => (BulkWithFiltersBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithFiltersBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithFiltersBillingMode.InAdvance => "in_advance",
                BulkWithFiltersBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for bulk_with_filters pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<BulkWithFiltersConfig>))]
public sealed record class BulkWithFiltersConfig : ModelBase, IFromRaw<BulkWithFiltersConfig>
{
    /// <summary>
    /// Property filters to apply (all must match)
    /// </summary>
    public required List<Filter24> Filters
    {
        get
        {
            if (!this._rawData.TryGetValue("filters", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'filters' cannot be null",
                    new System::ArgumentOutOfRangeException("filters", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Filter24>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'filters' cannot be null",
                    new System::ArgumentNullException("filters")
                );
        }
        init
        {
            this._rawData["filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Bulk tiers for rating based on total usage volume
    /// </summary>
    public required List<Tier16> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier16>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.Filters)
        {
            item.Validate();
        }
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public BulkWithFiltersConfig() { }

    public BulkWithFiltersConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    BulkWithFiltersConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static BulkWithFiltersConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single property filter
/// </summary>
[JsonConverter(typeof(ModelConverter<Filter24>))]
public sealed record class Filter24 : ModelBase, IFromRaw<Filter24>
{
    /// <summary>
    /// Event property key to filter on
    /// </summary>
    public required string PropertyKey
    {
        get
        {
            if (!this._rawData.TryGetValue("property_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'property_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "property_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'property_key' cannot be null",
                    new System::ArgumentNullException("property_key")
                );
        }
        init
        {
            this._rawData["property_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Event property value to match
    /// </summary>
    public required string PropertyValue
    {
        get
        {
            if (!this._rawData.TryGetValue("property_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'property_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "property_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'property_value' cannot be null",
                    new System::ArgumentNullException("property_value")
                );
        }
        init
        {
            this._rawData["property_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PropertyKey;
        _ = this.PropertyValue;
    }

    public Filter24() { }

    public Filter24(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Filter24(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Filter24 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single bulk pricing tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier16>))]
public sealed record class Tier16 : ModelBase, IFromRaw<Tier16>
{
    /// <summary>
    /// Amount per unit
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The lower bound for this tier
    /// </summary>
    public string? TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.UnitAmount;
        _ = this.TierLowerBound;
    }

    public Tier16() { }

    public Tier16(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier16(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier16 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public Tier16(string unitAmount)
        : this()
    {
        this.UnitAmount = unitAmount;
    }
}

[JsonConverter(typeof(BulkWithFiltersCadenceConverter))]
public enum BulkWithFiltersCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class BulkWithFiltersCadenceConverter : JsonConverter<BulkWithFiltersCadence>
{
    public override BulkWithFiltersCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => BulkWithFiltersCadence.OneTime,
            "monthly" => BulkWithFiltersCadence.Monthly,
            "quarterly" => BulkWithFiltersCadence.Quarterly,
            "semi_annual" => BulkWithFiltersCadence.SemiAnnual,
            "annual" => BulkWithFiltersCadence.Annual,
            "custom" => BulkWithFiltersCadence.Custom,
            _ => (BulkWithFiltersCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithFiltersCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithFiltersCadence.OneTime => "one_time",
                BulkWithFiltersCadence.Monthly => "monthly",
                BulkWithFiltersCadence.Quarterly => "quarterly",
                BulkWithFiltersCadence.SemiAnnual => "semi_annual",
                BulkWithFiltersCadence.Annual => "annual",
                BulkWithFiltersCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter2>))]
public sealed record class CompositePriceFilter2 : ModelBase, IFromRaw<CompositePriceFilter2>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter2Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter2Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter2Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter2Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter2() { }

    public CompositePriceFilter2(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter2(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter2 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter2FieldConverter))]
public enum CompositePriceFilter2Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter2FieldConverter : JsonConverter<CompositePriceFilter2Field>
{
    public override CompositePriceFilter2Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter2Field.PriceID,
            "item_id" => CompositePriceFilter2Field.ItemID,
            "price_type" => CompositePriceFilter2Field.PriceType,
            "currency" => CompositePriceFilter2Field.Currency,
            "pricing_unit_id" => CompositePriceFilter2Field.PricingUnitID,
            _ => (CompositePriceFilter2Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter2Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter2Field.PriceID => "price_id",
                CompositePriceFilter2Field.ItemID => "item_id",
                CompositePriceFilter2Field.PriceType => "price_type",
                CompositePriceFilter2Field.Currency => "currency",
                CompositePriceFilter2Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter2OperatorConverter))]
public enum CompositePriceFilter2Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter2OperatorConverter : JsonConverter<CompositePriceFilter2Operator>
{
    public override CompositePriceFilter2Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter2Operator.Includes,
            "excludes" => CompositePriceFilter2Operator.Excludes,
            _ => (CompositePriceFilter2Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter2Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter2Operator.Includes => "includes",
                CompositePriceFilter2Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(BulkWithFiltersConversionRateConfigConverter))]
public record class BulkWithFiltersConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public BulkWithFiltersConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public BulkWithFiltersConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public BulkWithFiltersConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of BulkWithFiltersConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of BulkWithFiltersConversionRateConfig"
            ),
        };
    }

    public static implicit operator BulkWithFiltersConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator BulkWithFiltersConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of BulkWithFiltersConversionRateConfig"
            );
        }
    }
}

sealed class BulkWithFiltersConversionRateConfigConverter
    : JsonConverter<BulkWithFiltersConversionRateConfig>
{
    public override BulkWithFiltersConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new BulkWithFiltersConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithFiltersConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class BulkWithFiltersModelType
{
    public JsonElement Json { get; private init; }

    public BulkWithFiltersModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"bulk_with_filters\"");
    }

    BulkWithFiltersModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new BulkWithFiltersModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'BulkWithFiltersModelType'");
        }
    }

    class Converter : JsonConverter<BulkWithFiltersModelType>
    {
        public override BulkWithFiltersModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            BulkWithFiltersModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(BulkWithFiltersPriceTypeConverter))]
public enum BulkWithFiltersPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class BulkWithFiltersPriceTypeConverter : JsonConverter<BulkWithFiltersPriceType>
{
    public override BulkWithFiltersPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => BulkWithFiltersPriceType.UsagePrice,
            "fixed_price" => BulkWithFiltersPriceType.FixedPrice,
            "composite_price" => BulkWithFiltersPriceType.CompositePrice,
            _ => (BulkWithFiltersPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithFiltersPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithFiltersPriceType.UsagePrice => "usage_price",
                BulkWithFiltersPriceType.FixedPrice => "fixed_price",
                BulkWithFiltersPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<Package>))]
public sealed record class Package : ModelBase, IFromRaw<Package>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackageBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackageBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackageCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackageCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter3>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter3>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required PackageConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<PackageConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public PackageModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PackageModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for package pricing
    /// </summary>
    public required PackageConfig PackageConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("package_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PackageConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_config' cannot be null",
                    new System::ArgumentNullException("package_config")
                );
        }
        init
        {
            this._rawData["package_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackagePriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackagePriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        this.PackageConfig.Validate();
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Package()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Package(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Package(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Package FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(PackageBillingModeConverter))]
public enum PackageBillingMode
{
    InAdvance,
    InArrear,
}

sealed class PackageBillingModeConverter : JsonConverter<PackageBillingMode>
{
    public override PackageBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => PackageBillingMode.InAdvance,
            "in_arrear" => PackageBillingMode.InArrear,
            _ => (PackageBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackageBillingMode.InAdvance => "in_advance",
                PackageBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PackageCadenceConverter))]
public enum PackageCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class PackageCadenceConverter : JsonConverter<PackageCadence>
{
    public override PackageCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => PackageCadence.OneTime,
            "monthly" => PackageCadence.Monthly,
            "quarterly" => PackageCadence.Quarterly,
            "semi_annual" => PackageCadence.SemiAnnual,
            "annual" => PackageCadence.Annual,
            "custom" => PackageCadence.Custom,
            _ => (PackageCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackageCadence.OneTime => "one_time",
                PackageCadence.Monthly => "monthly",
                PackageCadence.Quarterly => "quarterly",
                PackageCadence.SemiAnnual => "semi_annual",
                PackageCadence.Annual => "annual",
                PackageCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter3>))]
public sealed record class CompositePriceFilter3 : ModelBase, IFromRaw<CompositePriceFilter3>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter3Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter3Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter3Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter3Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter3() { }

    public CompositePriceFilter3(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter3(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter3 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter3FieldConverter))]
public enum CompositePriceFilter3Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter3FieldConverter : JsonConverter<CompositePriceFilter3Field>
{
    public override CompositePriceFilter3Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter3Field.PriceID,
            "item_id" => CompositePriceFilter3Field.ItemID,
            "price_type" => CompositePriceFilter3Field.PriceType,
            "currency" => CompositePriceFilter3Field.Currency,
            "pricing_unit_id" => CompositePriceFilter3Field.PricingUnitID,
            _ => (CompositePriceFilter3Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter3Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter3Field.PriceID => "price_id",
                CompositePriceFilter3Field.ItemID => "item_id",
                CompositePriceFilter3Field.PriceType => "price_type",
                CompositePriceFilter3Field.Currency => "currency",
                CompositePriceFilter3Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter3OperatorConverter))]
public enum CompositePriceFilter3Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter3OperatorConverter : JsonConverter<CompositePriceFilter3Operator>
{
    public override CompositePriceFilter3Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter3Operator.Includes,
            "excludes" => CompositePriceFilter3Operator.Excludes,
            _ => (CompositePriceFilter3Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter3Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter3Operator.Includes => "includes",
                CompositePriceFilter3Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PackageConversionRateConfigConverter))]
public record class PackageConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public PackageConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PackageConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PackageConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of PackageConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of PackageConversionRateConfig"
            ),
        };
    }

    public static implicit operator PackageConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator PackageConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of PackageConversionRateConfig"
            );
        }
    }
}

sealed class PackageConversionRateConfigConverter : JsonConverter<PackageConversionRateConfig>
{
    public override PackageConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new PackageConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class PackageModelType
{
    public JsonElement Json { get; private init; }

    public PackageModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"package\"");
    }

    PackageModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new PackageModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'PackageModelType'");
        }
    }

    class Converter : JsonConverter<PackageModelType>
    {
        public override PackageModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            PackageModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(PackagePriceTypeConverter))]
public enum PackagePriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class PackagePriceTypeConverter : JsonConverter<PackagePriceType>
{
    public override PackagePriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => PackagePriceType.UsagePrice,
            "fixed_price" => PackagePriceType.FixedPrice,
            "composite_price" => PackagePriceType.CompositePrice,
            _ => (PackagePriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackagePriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackagePriceType.UsagePrice => "usage_price",
                PackagePriceType.FixedPrice => "fixed_price",
                PackagePriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<Matrix>))]
public sealed record class Matrix : ModelBase, IFromRaw<Matrix>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter4>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter4>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required MatrixConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<MatrixConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for matrix pricing
    /// </summary>
    public required MatrixConfig MatrixConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("matrix_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'matrix_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "matrix_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'matrix_config' cannot be null",
                    new System::ArgumentNullException("matrix_config")
                );
        }
        init
        {
            this._rawData["matrix_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public MatrixModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixModelType>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.MatrixConfig.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Matrix()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Matrix(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Matrix(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Matrix FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(MatrixBillingModeConverter))]
public enum MatrixBillingMode
{
    InAdvance,
    InArrear,
}

sealed class MatrixBillingModeConverter : JsonConverter<MatrixBillingMode>
{
    public override MatrixBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => MatrixBillingMode.InAdvance,
            "in_arrear" => MatrixBillingMode.InArrear,
            _ => (MatrixBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixBillingMode.InAdvance => "in_advance",
                MatrixBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixCadenceConverter))]
public enum MatrixCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class MatrixCadenceConverter : JsonConverter<MatrixCadence>
{
    public override MatrixCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => MatrixCadence.OneTime,
            "monthly" => MatrixCadence.Monthly,
            "quarterly" => MatrixCadence.Quarterly,
            "semi_annual" => MatrixCadence.SemiAnnual,
            "annual" => MatrixCadence.Annual,
            "custom" => MatrixCadence.Custom,
            _ => (MatrixCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixCadence.OneTime => "one_time",
                MatrixCadence.Monthly => "monthly",
                MatrixCadence.Quarterly => "quarterly",
                MatrixCadence.SemiAnnual => "semi_annual",
                MatrixCadence.Annual => "annual",
                MatrixCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter4>))]
public sealed record class CompositePriceFilter4 : ModelBase, IFromRaw<CompositePriceFilter4>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter4Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter4Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter4Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter4Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter4() { }

    public CompositePriceFilter4(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter4(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter4 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter4FieldConverter))]
public enum CompositePriceFilter4Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter4FieldConverter : JsonConverter<CompositePriceFilter4Field>
{
    public override CompositePriceFilter4Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter4Field.PriceID,
            "item_id" => CompositePriceFilter4Field.ItemID,
            "price_type" => CompositePriceFilter4Field.PriceType,
            "currency" => CompositePriceFilter4Field.Currency,
            "pricing_unit_id" => CompositePriceFilter4Field.PricingUnitID,
            _ => (CompositePriceFilter4Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter4Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter4Field.PriceID => "price_id",
                CompositePriceFilter4Field.ItemID => "item_id",
                CompositePriceFilter4Field.PriceType => "price_type",
                CompositePriceFilter4Field.Currency => "currency",
                CompositePriceFilter4Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter4OperatorConverter))]
public enum CompositePriceFilter4Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter4OperatorConverter : JsonConverter<CompositePriceFilter4Operator>
{
    public override CompositePriceFilter4Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter4Operator.Includes,
            "excludes" => CompositePriceFilter4Operator.Excludes,
            _ => (CompositePriceFilter4Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter4Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter4Operator.Includes => "includes",
                CompositePriceFilter4Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixConversionRateConfigConverter))]
public record class MatrixConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public MatrixConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of MatrixConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixConversionRateConfig"
            ),
        };
    }

    public static implicit operator MatrixConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator MatrixConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixConversionRateConfig"
            );
        }
    }
}

sealed class MatrixConversionRateConfigConverter : JsonConverter<MatrixConversionRateConfig>
{
    public override MatrixConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new MatrixConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class MatrixModelType
{
    public JsonElement Json { get; private init; }

    public MatrixModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"matrix\"");
    }

    MatrixModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new MatrixModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'MatrixModelType'");
        }
    }

    class Converter : JsonConverter<MatrixModelType>
    {
        public override MatrixModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            MatrixModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(MatrixPriceTypeConverter))]
public enum MatrixPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class MatrixPriceTypeConverter : JsonConverter<MatrixPriceType>
{
    public override MatrixPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => MatrixPriceType.UsagePrice,
            "fixed_price" => MatrixPriceType.FixedPrice,
            "composite_price" => MatrixPriceType.CompositePrice,
            _ => (MatrixPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixPriceType.UsagePrice => "usage_price",
                MatrixPriceType.FixedPrice => "fixed_price",
                MatrixPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<ThresholdTotalAmount>))]
public sealed record class ThresholdTotalAmount : ModelBase, IFromRaw<ThresholdTotalAmount>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ThresholdTotalAmountBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, ThresholdTotalAmountBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ThresholdTotalAmountCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, ThresholdTotalAmountCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter5>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter5>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ThresholdTotalAmountConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<ThresholdTotalAmountConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public ThresholdTotalAmountModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ThresholdTotalAmountModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ThresholdTotalAmountPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, ThresholdTotalAmountPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for threshold_total_amount pricing
    /// </summary>
    public required ThresholdTotalAmountThresholdTotalAmountConfig ThresholdTotalAmountConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue("threshold_total_amount_config", out JsonElement element)
            )
                throw new OrbInvalidDataException(
                    "'threshold_total_amount_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "threshold_total_amount_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ThresholdTotalAmountThresholdTotalAmountConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'threshold_total_amount_config' cannot be null",
                    new System::ArgumentNullException("threshold_total_amount_config")
                );
        }
        init
        {
            this._rawData["threshold_total_amount_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.ThresholdTotalAmountConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ThresholdTotalAmount()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ThresholdTotalAmount(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    ThresholdTotalAmount(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ThresholdTotalAmount FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ThresholdTotalAmountBillingModeConverter))]
public enum ThresholdTotalAmountBillingMode
{
    InAdvance,
    InArrear,
}

sealed class ThresholdTotalAmountBillingModeConverter
    : JsonConverter<ThresholdTotalAmountBillingMode>
{
    public override ThresholdTotalAmountBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => ThresholdTotalAmountBillingMode.InAdvance,
            "in_arrear" => ThresholdTotalAmountBillingMode.InArrear,
            _ => (ThresholdTotalAmountBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ThresholdTotalAmountBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ThresholdTotalAmountBillingMode.InAdvance => "in_advance",
                ThresholdTotalAmountBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ThresholdTotalAmountCadenceConverter))]
public enum ThresholdTotalAmountCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class ThresholdTotalAmountCadenceConverter : JsonConverter<ThresholdTotalAmountCadence>
{
    public override ThresholdTotalAmountCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => ThresholdTotalAmountCadence.OneTime,
            "monthly" => ThresholdTotalAmountCadence.Monthly,
            "quarterly" => ThresholdTotalAmountCadence.Quarterly,
            "semi_annual" => ThresholdTotalAmountCadence.SemiAnnual,
            "annual" => ThresholdTotalAmountCadence.Annual,
            "custom" => ThresholdTotalAmountCadence.Custom,
            _ => (ThresholdTotalAmountCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ThresholdTotalAmountCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ThresholdTotalAmountCadence.OneTime => "one_time",
                ThresholdTotalAmountCadence.Monthly => "monthly",
                ThresholdTotalAmountCadence.Quarterly => "quarterly",
                ThresholdTotalAmountCadence.SemiAnnual => "semi_annual",
                ThresholdTotalAmountCadence.Annual => "annual",
                ThresholdTotalAmountCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter5>))]
public sealed record class CompositePriceFilter5 : ModelBase, IFromRaw<CompositePriceFilter5>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter5Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter5Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter5Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter5Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter5() { }

    public CompositePriceFilter5(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter5(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter5 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter5FieldConverter))]
public enum CompositePriceFilter5Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter5FieldConverter : JsonConverter<CompositePriceFilter5Field>
{
    public override CompositePriceFilter5Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter5Field.PriceID,
            "item_id" => CompositePriceFilter5Field.ItemID,
            "price_type" => CompositePriceFilter5Field.PriceType,
            "currency" => CompositePriceFilter5Field.Currency,
            "pricing_unit_id" => CompositePriceFilter5Field.PricingUnitID,
            _ => (CompositePriceFilter5Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter5Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter5Field.PriceID => "price_id",
                CompositePriceFilter5Field.ItemID => "item_id",
                CompositePriceFilter5Field.PriceType => "price_type",
                CompositePriceFilter5Field.Currency => "currency",
                CompositePriceFilter5Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter5OperatorConverter))]
public enum CompositePriceFilter5Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter5OperatorConverter : JsonConverter<CompositePriceFilter5Operator>
{
    public override CompositePriceFilter5Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter5Operator.Includes,
            "excludes" => CompositePriceFilter5Operator.Excludes,
            _ => (CompositePriceFilter5Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter5Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter5Operator.Includes => "includes",
                CompositePriceFilter5Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ThresholdTotalAmountConversionRateConfigConverter))]
public record class ThresholdTotalAmountConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public ThresholdTotalAmountConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ThresholdTotalAmountConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ThresholdTotalAmountConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of ThresholdTotalAmountConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of ThresholdTotalAmountConversionRateConfig"
            ),
        };
    }

    public static implicit operator ThresholdTotalAmountConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator ThresholdTotalAmountConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of ThresholdTotalAmountConversionRateConfig"
            );
        }
    }
}

sealed class ThresholdTotalAmountConversionRateConfigConverter
    : JsonConverter<ThresholdTotalAmountConversionRateConfig>
{
    public override ThresholdTotalAmountConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new ThresholdTotalAmountConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        ThresholdTotalAmountConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class ThresholdTotalAmountModelType
{
    public JsonElement Json { get; private init; }

    public ThresholdTotalAmountModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"threshold_total_amount\"");
    }

    ThresholdTotalAmountModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new ThresholdTotalAmountModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'ThresholdTotalAmountModelType'"
            );
        }
    }

    class Converter : JsonConverter<ThresholdTotalAmountModelType>
    {
        public override ThresholdTotalAmountModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            ThresholdTotalAmountModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(ThresholdTotalAmountPriceTypeConverter))]
public enum ThresholdTotalAmountPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class ThresholdTotalAmountPriceTypeConverter : JsonConverter<ThresholdTotalAmountPriceType>
{
    public override ThresholdTotalAmountPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => ThresholdTotalAmountPriceType.UsagePrice,
            "fixed_price" => ThresholdTotalAmountPriceType.FixedPrice,
            "composite_price" => ThresholdTotalAmountPriceType.CompositePrice,
            _ => (ThresholdTotalAmountPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ThresholdTotalAmountPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ThresholdTotalAmountPriceType.UsagePrice => "usage_price",
                ThresholdTotalAmountPriceType.FixedPrice => "fixed_price",
                ThresholdTotalAmountPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for threshold_total_amount pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<ThresholdTotalAmountThresholdTotalAmountConfig>))]
public sealed record class ThresholdTotalAmountThresholdTotalAmountConfig
    : ModelBase,
        IFromRaw<ThresholdTotalAmountThresholdTotalAmountConfig>
{
    /// <summary>
    /// When the quantity consumed passes a provided threshold, the configured total
    /// will be charged
    /// </summary>
    public required List<ConsumptionTable1> ConsumptionTable
    {
        get
        {
            if (!this._rawData.TryGetValue("consumption_table", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'consumption_table' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "consumption_table",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<ConsumptionTable1>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'consumption_table' cannot be null",
                    new System::ArgumentNullException("consumption_table")
                );
        }
        init
        {
            this._rawData["consumption_table"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If true, the unit price will be prorated to the billing period
    /// </summary>
    public bool? Prorate
    {
        get
        {
            if (!this._rawData.TryGetValue("prorate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<bool?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["prorate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.ConsumptionTable)
        {
            item.Validate();
        }
        _ = this.Prorate;
    }

    public ThresholdTotalAmountThresholdTotalAmountConfig() { }

    public ThresholdTotalAmountThresholdTotalAmountConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    ThresholdTotalAmountThresholdTotalAmountConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ThresholdTotalAmountThresholdTotalAmountConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public ThresholdTotalAmountThresholdTotalAmountConfig(List<ConsumptionTable1> consumptionTable)
        : this()
    {
        this.ConsumptionTable = consumptionTable;
    }
}

/// <summary>
/// Configuration for a single threshold
/// </summary>
[JsonConverter(typeof(ModelConverter<ConsumptionTable1>))]
public sealed record class ConsumptionTable1 : ModelBase, IFromRaw<ConsumptionTable1>
{
    /// <summary>
    /// Quantity threshold
    /// </summary>
    public required string Threshold
    {
        get
        {
            if (!this._rawData.TryGetValue("threshold", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'threshold' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "threshold",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'threshold' cannot be null",
                    new System::ArgumentNullException("threshold")
                );
        }
        init
        {
            this._rawData["threshold"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Total amount for this threshold
    /// </summary>
    public required string TotalAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("total_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'total_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "total_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'total_amount' cannot be null",
                    new System::ArgumentNullException("total_amount")
                );
        }
        init
        {
            this._rawData["total_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Threshold;
        _ = this.TotalAmount;
    }

    public ConsumptionTable1() { }

    public ConsumptionTable1(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    ConsumptionTable1(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ConsumptionTable1 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<TieredPackage>))]
public sealed record class TieredPackage : ModelBase, IFromRaw<TieredPackage>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackageBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackageBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackageCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackageCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter6>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter6>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required TieredPackageConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<TieredPackageConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public TieredPackageModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredPackageModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackagePriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackagePriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for tiered_package pricing
    /// </summary>
    public required TieredPackageTieredPackageConfig TieredPackageConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("tiered_package_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiered_package_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tiered_package_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredPackageTieredPackageConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'tiered_package_config' cannot be null",
                    new System::ArgumentNullException("tiered_package_config")
                );
        }
        init
        {
            this._rawData["tiered_package_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.TieredPackageConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredPackage()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredPackage(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    TieredPackage(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredPackage FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(TieredPackageBillingModeConverter))]
public enum TieredPackageBillingMode
{
    InAdvance,
    InArrear,
}

sealed class TieredPackageBillingModeConverter : JsonConverter<TieredPackageBillingMode>
{
    public override TieredPackageBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => TieredPackageBillingMode.InAdvance,
            "in_arrear" => TieredPackageBillingMode.InArrear,
            _ => (TieredPackageBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackageBillingMode.InAdvance => "in_advance",
                TieredPackageBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredPackageCadenceConverter))]
public enum TieredPackageCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class TieredPackageCadenceConverter : JsonConverter<TieredPackageCadence>
{
    public override TieredPackageCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => TieredPackageCadence.OneTime,
            "monthly" => TieredPackageCadence.Monthly,
            "quarterly" => TieredPackageCadence.Quarterly,
            "semi_annual" => TieredPackageCadence.SemiAnnual,
            "annual" => TieredPackageCadence.Annual,
            "custom" => TieredPackageCadence.Custom,
            _ => (TieredPackageCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackageCadence.OneTime => "one_time",
                TieredPackageCadence.Monthly => "monthly",
                TieredPackageCadence.Quarterly => "quarterly",
                TieredPackageCadence.SemiAnnual => "semi_annual",
                TieredPackageCadence.Annual => "annual",
                TieredPackageCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter6>))]
public sealed record class CompositePriceFilter6 : ModelBase, IFromRaw<CompositePriceFilter6>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter6Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter6Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter6Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter6Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter6() { }

    public CompositePriceFilter6(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter6(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter6 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter6FieldConverter))]
public enum CompositePriceFilter6Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter6FieldConverter : JsonConverter<CompositePriceFilter6Field>
{
    public override CompositePriceFilter6Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter6Field.PriceID,
            "item_id" => CompositePriceFilter6Field.ItemID,
            "price_type" => CompositePriceFilter6Field.PriceType,
            "currency" => CompositePriceFilter6Field.Currency,
            "pricing_unit_id" => CompositePriceFilter6Field.PricingUnitID,
            _ => (CompositePriceFilter6Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter6Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter6Field.PriceID => "price_id",
                CompositePriceFilter6Field.ItemID => "item_id",
                CompositePriceFilter6Field.PriceType => "price_type",
                CompositePriceFilter6Field.Currency => "currency",
                CompositePriceFilter6Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter6OperatorConverter))]
public enum CompositePriceFilter6Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter6OperatorConverter : JsonConverter<CompositePriceFilter6Operator>
{
    public override CompositePriceFilter6Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter6Operator.Includes,
            "excludes" => CompositePriceFilter6Operator.Excludes,
            _ => (CompositePriceFilter6Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter6Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter6Operator.Includes => "includes",
                CompositePriceFilter6Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredPackageConversionRateConfigConverter))]
public record class TieredPackageConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public TieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredPackageConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of TieredPackageConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of TieredPackageConversionRateConfig"
            ),
        };
    }

    public static implicit operator TieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator TieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of TieredPackageConversionRateConfig"
            );
        }
    }
}

sealed class TieredPackageConversionRateConfigConverter
    : JsonConverter<TieredPackageConversionRateConfig>
{
    public override TieredPackageConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new TieredPackageConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class TieredPackageModelType
{
    public JsonElement Json { get; private init; }

    public TieredPackageModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"tiered_package\"");
    }

    TieredPackageModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new TieredPackageModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'TieredPackageModelType'");
        }
    }

    class Converter : JsonConverter<TieredPackageModelType>
    {
        public override TieredPackageModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            TieredPackageModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(TieredPackagePriceTypeConverter))]
public enum TieredPackagePriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class TieredPackagePriceTypeConverter : JsonConverter<TieredPackagePriceType>
{
    public override TieredPackagePriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => TieredPackagePriceType.UsagePrice,
            "fixed_price" => TieredPackagePriceType.FixedPrice,
            "composite_price" => TieredPackagePriceType.CompositePrice,
            _ => (TieredPackagePriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackagePriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackagePriceType.UsagePrice => "usage_price",
                TieredPackagePriceType.FixedPrice => "fixed_price",
                TieredPackagePriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for tiered_package pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<TieredPackageTieredPackageConfig>))]
public sealed record class TieredPackageTieredPackageConfig
    : ModelBase,
        IFromRaw<TieredPackageTieredPackageConfig>
{
    /// <summary>
    /// Package size
    /// </summary>
    public required string PackageSize
    {
        get
        {
            if (!this._rawData.TryGetValue("package_size", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_size",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentNullException("package_size")
                );
        }
        init
        {
            this._rawData["package_size"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply tiered pricing after rounding up the quantity to the package size.
    /// Tiers are defined using exclusive lower bounds. The tier bounds are defined
    /// based on the total quantity rather than the number of packages, so they must
    /// be multiples of the package size.
    /// </summary>
    public required List<Tier17> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier17>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PackageSize;
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public TieredPackageTieredPackageConfig() { }

    public TieredPackageTieredPackageConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    TieredPackageTieredPackageConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredPackageTieredPackageConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier with business logic
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier17>))]
public sealed record class Tier17 : ModelBase, IFromRaw<Tier17>
{
    /// <summary>
    /// Price per package
    /// </summary>
    public required string PerUnit
    {
        get
        {
            if (!this._rawData.TryGetValue("per_unit", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentOutOfRangeException("per_unit", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentNullException("per_unit")
                );
        }
        init
        {
            this._rawData["per_unit"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PerUnit;
        _ = this.TierLowerBound;
    }

    public Tier17() { }

    public Tier17(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier17(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier17 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<TieredWithMinimum>))]
public sealed record class TieredWithMinimum : ModelBase, IFromRaw<TieredWithMinimum>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithMinimumBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithMinimumBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithMinimumCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithMinimumCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter7>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter7>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required TieredWithMinimumConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<TieredWithMinimumConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public TieredWithMinimumModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredWithMinimumModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithMinimumPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithMinimumPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for tiered_with_minimum pricing
    /// </summary>
    public required TieredWithMinimumTieredWithMinimumConfig TieredWithMinimumConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("tiered_with_minimum_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiered_with_minimum_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tiered_with_minimum_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredWithMinimumTieredWithMinimumConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'tiered_with_minimum_config' cannot be null",
                    new System::ArgumentNullException("tiered_with_minimum_config")
                );
        }
        init
        {
            this._rawData["tiered_with_minimum_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.TieredWithMinimumConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredWithMinimum()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredWithMinimum(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    TieredWithMinimum(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredWithMinimum FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(TieredWithMinimumBillingModeConverter))]
public enum TieredWithMinimumBillingMode
{
    InAdvance,
    InArrear,
}

sealed class TieredWithMinimumBillingModeConverter : JsonConverter<TieredWithMinimumBillingMode>
{
    public override TieredWithMinimumBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => TieredWithMinimumBillingMode.InAdvance,
            "in_arrear" => TieredWithMinimumBillingMode.InArrear,
            _ => (TieredWithMinimumBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithMinimumBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithMinimumBillingMode.InAdvance => "in_advance",
                TieredWithMinimumBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredWithMinimumCadenceConverter))]
public enum TieredWithMinimumCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class TieredWithMinimumCadenceConverter : JsonConverter<TieredWithMinimumCadence>
{
    public override TieredWithMinimumCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => TieredWithMinimumCadence.OneTime,
            "monthly" => TieredWithMinimumCadence.Monthly,
            "quarterly" => TieredWithMinimumCadence.Quarterly,
            "semi_annual" => TieredWithMinimumCadence.SemiAnnual,
            "annual" => TieredWithMinimumCadence.Annual,
            "custom" => TieredWithMinimumCadence.Custom,
            _ => (TieredWithMinimumCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithMinimumCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithMinimumCadence.OneTime => "one_time",
                TieredWithMinimumCadence.Monthly => "monthly",
                TieredWithMinimumCadence.Quarterly => "quarterly",
                TieredWithMinimumCadence.SemiAnnual => "semi_annual",
                TieredWithMinimumCadence.Annual => "annual",
                TieredWithMinimumCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter7>))]
public sealed record class CompositePriceFilter7 : ModelBase, IFromRaw<CompositePriceFilter7>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter7Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter7Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter7Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter7Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter7() { }

    public CompositePriceFilter7(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter7(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter7 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter7FieldConverter))]
public enum CompositePriceFilter7Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter7FieldConverter : JsonConverter<CompositePriceFilter7Field>
{
    public override CompositePriceFilter7Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter7Field.PriceID,
            "item_id" => CompositePriceFilter7Field.ItemID,
            "price_type" => CompositePriceFilter7Field.PriceType,
            "currency" => CompositePriceFilter7Field.Currency,
            "pricing_unit_id" => CompositePriceFilter7Field.PricingUnitID,
            _ => (CompositePriceFilter7Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter7Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter7Field.PriceID => "price_id",
                CompositePriceFilter7Field.ItemID => "item_id",
                CompositePriceFilter7Field.PriceType => "price_type",
                CompositePriceFilter7Field.Currency => "currency",
                CompositePriceFilter7Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter7OperatorConverter))]
public enum CompositePriceFilter7Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter7OperatorConverter : JsonConverter<CompositePriceFilter7Operator>
{
    public override CompositePriceFilter7Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter7Operator.Includes,
            "excludes" => CompositePriceFilter7Operator.Excludes,
            _ => (CompositePriceFilter7Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter7Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter7Operator.Includes => "includes",
                CompositePriceFilter7Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredWithMinimumConversionRateConfigConverter))]
public record class TieredWithMinimumConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public TieredWithMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredWithMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredWithMinimumConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of TieredWithMinimumConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of TieredWithMinimumConversionRateConfig"
            ),
        };
    }

    public static implicit operator TieredWithMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator TieredWithMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of TieredWithMinimumConversionRateConfig"
            );
        }
    }
}

sealed class TieredWithMinimumConversionRateConfigConverter
    : JsonConverter<TieredWithMinimumConversionRateConfig>
{
    public override TieredWithMinimumConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new TieredWithMinimumConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithMinimumConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class TieredWithMinimumModelType
{
    public JsonElement Json { get; private init; }

    public TieredWithMinimumModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"tiered_with_minimum\"");
    }

    TieredWithMinimumModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new TieredWithMinimumModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'TieredWithMinimumModelType'"
            );
        }
    }

    class Converter : JsonConverter<TieredWithMinimumModelType>
    {
        public override TieredWithMinimumModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            TieredWithMinimumModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(TieredWithMinimumPriceTypeConverter))]
public enum TieredWithMinimumPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class TieredWithMinimumPriceTypeConverter : JsonConverter<TieredWithMinimumPriceType>
{
    public override TieredWithMinimumPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => TieredWithMinimumPriceType.UsagePrice,
            "fixed_price" => TieredWithMinimumPriceType.FixedPrice,
            "composite_price" => TieredWithMinimumPriceType.CompositePrice,
            _ => (TieredWithMinimumPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithMinimumPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithMinimumPriceType.UsagePrice => "usage_price",
                TieredWithMinimumPriceType.FixedPrice => "fixed_price",
                TieredWithMinimumPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for tiered_with_minimum pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<TieredWithMinimumTieredWithMinimumConfig>))]
public sealed record class TieredWithMinimumTieredWithMinimumConfig
    : ModelBase,
        IFromRaw<TieredWithMinimumTieredWithMinimumConfig>
{
    /// <summary>
    /// Tiered pricing with a minimum amount dependent on the volume tier. Tiers
    /// are defined using exclusive lower bounds.
    /// </summary>
    public required List<Tier18> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier18>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If true, tiers with an accrued amount of 0 will not be included in the rating.
    /// </summary>
    public bool? HideZeroAmountTiers
    {
        get
        {
            if (!this._rawData.TryGetValue("hide_zero_amount_tiers", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<bool?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            if (value == null)
            {
                return;
            }

            this._rawData["hide_zero_amount_tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If true, the unit price will be prorated to the billing period
    /// </summary>
    public bool? Prorate
    {
        get
        {
            if (!this._rawData.TryGetValue("prorate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<bool?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            if (value == null)
            {
                return;
            }

            this._rawData["prorate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
        _ = this.HideZeroAmountTiers;
        _ = this.Prorate;
    }

    public TieredWithMinimumTieredWithMinimumConfig() { }

    public TieredWithMinimumTieredWithMinimumConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    TieredWithMinimumTieredWithMinimumConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredWithMinimumTieredWithMinimumConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public TieredWithMinimumTieredWithMinimumConfig(List<Tier18> tiers)
        : this()
    {
        this.Tiers = tiers;
    }
}

/// <summary>
/// Configuration for a single tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier18>))]
public sealed record class Tier18 : ModelBase, IFromRaw<Tier18>
{
    /// <summary>
    /// Minimum amount
    /// </summary>
    public required string MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentNullException("minimum_amount")
                );
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.MinimumAmount;
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public Tier18() { }

    public Tier18(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier18(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier18 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<GroupedTiered>))]
public sealed record class GroupedTiered : ModelBase, IFromRaw<GroupedTiered>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter8>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter8>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedTieredConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedTieredConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_tiered pricing
    /// </summary>
    public required GroupedTieredGroupedTieredConfig GroupedTieredConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("grouped_tiered_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouped_tiered_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_tiered_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedTieredGroupedTieredConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_tiered_config' cannot be null",
                    new System::ArgumentNullException("grouped_tiered_config")
                );
        }
        init
        {
            this._rawData["grouped_tiered_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedTieredModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedTieredModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedTieredConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedTiered()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedTiered(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedTiered(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedTiered FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedTieredBillingModeConverter))]
public enum GroupedTieredBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedTieredBillingModeConverter : JsonConverter<GroupedTieredBillingMode>
{
    public override GroupedTieredBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedTieredBillingMode.InAdvance,
            "in_arrear" => GroupedTieredBillingMode.InArrear,
            _ => (GroupedTieredBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredBillingMode.InAdvance => "in_advance",
                GroupedTieredBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedTieredCadenceConverter))]
public enum GroupedTieredCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedTieredCadenceConverter : JsonConverter<GroupedTieredCadence>
{
    public override GroupedTieredCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedTieredCadence.OneTime,
            "monthly" => GroupedTieredCadence.Monthly,
            "quarterly" => GroupedTieredCadence.Quarterly,
            "semi_annual" => GroupedTieredCadence.SemiAnnual,
            "annual" => GroupedTieredCadence.Annual,
            "custom" => GroupedTieredCadence.Custom,
            _ => (GroupedTieredCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredCadence.OneTime => "one_time",
                GroupedTieredCadence.Monthly => "monthly",
                GroupedTieredCadence.Quarterly => "quarterly",
                GroupedTieredCadence.SemiAnnual => "semi_annual",
                GroupedTieredCadence.Annual => "annual",
                GroupedTieredCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter8>))]
public sealed record class CompositePriceFilter8 : ModelBase, IFromRaw<CompositePriceFilter8>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter8Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter8Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter8Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter8Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter8() { }

    public CompositePriceFilter8(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter8(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter8 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter8FieldConverter))]
public enum CompositePriceFilter8Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter8FieldConverter : JsonConverter<CompositePriceFilter8Field>
{
    public override CompositePriceFilter8Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter8Field.PriceID,
            "item_id" => CompositePriceFilter8Field.ItemID,
            "price_type" => CompositePriceFilter8Field.PriceType,
            "currency" => CompositePriceFilter8Field.Currency,
            "pricing_unit_id" => CompositePriceFilter8Field.PricingUnitID,
            _ => (CompositePriceFilter8Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter8Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter8Field.PriceID => "price_id",
                CompositePriceFilter8Field.ItemID => "item_id",
                CompositePriceFilter8Field.PriceType => "price_type",
                CompositePriceFilter8Field.Currency => "currency",
                CompositePriceFilter8Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter8OperatorConverter))]
public enum CompositePriceFilter8Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter8OperatorConverter : JsonConverter<CompositePriceFilter8Operator>
{
    public override CompositePriceFilter8Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter8Operator.Includes,
            "excludes" => CompositePriceFilter8Operator.Excludes,
            _ => (CompositePriceFilter8Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter8Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter8Operator.Includes => "includes",
                CompositePriceFilter8Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedTieredConversionRateConfigConverter))]
public record class GroupedTieredConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedTieredConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedTieredConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedTieredConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedTieredConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedTieredConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedTieredConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedTieredConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedTieredConversionRateConfig"
            );
        }
    }
}

sealed class GroupedTieredConversionRateConfigConverter
    : JsonConverter<GroupedTieredConversionRateConfig>
{
    public override GroupedTieredConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedTieredConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_tiered pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedTieredGroupedTieredConfig>))]
public sealed record class GroupedTieredGroupedTieredConfig
    : ModelBase,
        IFromRaw<GroupedTieredGroupedTieredConfig>
{
    /// <summary>
    /// The billable metric property used to group before tiering
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply tiered pricing to each segment generated after grouping with the provided key
    /// </summary>
    public required List<Tier19> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier19>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public GroupedTieredGroupedTieredConfig() { }

    public GroupedTieredGroupedTieredConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedTieredGroupedTieredConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedTieredGroupedTieredConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier19>))]
public sealed record class Tier19 : ModelBase, IFromRaw<Tier19>
{
    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public Tier19() { }

    public Tier19(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier19(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier19 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedTieredModelType
{
    public JsonElement Json { get; private init; }

    public GroupedTieredModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_tiered\"");
    }

    GroupedTieredModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedTieredModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'GroupedTieredModelType'");
        }
    }

    class Converter : JsonConverter<GroupedTieredModelType>
    {
        public override GroupedTieredModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedTieredModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedTieredPriceTypeConverter))]
public enum GroupedTieredPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedTieredPriceTypeConverter : JsonConverter<GroupedTieredPriceType>
{
    public override GroupedTieredPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedTieredPriceType.UsagePrice,
            "fixed_price" => GroupedTieredPriceType.FixedPrice,
            "composite_price" => GroupedTieredPriceType.CompositePrice,
            _ => (GroupedTieredPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredPriceType.UsagePrice => "usage_price",
                GroupedTieredPriceType.FixedPrice => "fixed_price",
                GroupedTieredPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<TieredPackageWithMinimum>))]
public sealed record class TieredPackageWithMinimum : ModelBase, IFromRaw<TieredPackageWithMinimum>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackageWithMinimumBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackageWithMinimumBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackageWithMinimumCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackageWithMinimumCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter9>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter9>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required TieredPackageWithMinimumConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<TieredPackageWithMinimumConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public TieredPackageWithMinimumModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredPackageWithMinimumModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredPackageWithMinimumPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredPackageWithMinimumPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for tiered_package_with_minimum pricing
    /// </summary>
    public required TieredPackageWithMinimumTieredPackageWithMinimumConfig TieredPackageWithMinimumConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "tiered_package_with_minimum_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'tiered_package_with_minimum_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tiered_package_with_minimum_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredPackageWithMinimumTieredPackageWithMinimumConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'tiered_package_with_minimum_config' cannot be null",
                    new System::ArgumentNullException("tiered_package_with_minimum_config")
                );
        }
        init
        {
            this._rawData["tiered_package_with_minimum_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.TieredPackageWithMinimumConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredPackageWithMinimum()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredPackageWithMinimum(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    TieredPackageWithMinimum(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredPackageWithMinimum FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(TieredPackageWithMinimumBillingModeConverter))]
public enum TieredPackageWithMinimumBillingMode
{
    InAdvance,
    InArrear,
}

sealed class TieredPackageWithMinimumBillingModeConverter
    : JsonConverter<TieredPackageWithMinimumBillingMode>
{
    public override TieredPackageWithMinimumBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => TieredPackageWithMinimumBillingMode.InAdvance,
            "in_arrear" => TieredPackageWithMinimumBillingMode.InArrear,
            _ => (TieredPackageWithMinimumBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageWithMinimumBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackageWithMinimumBillingMode.InAdvance => "in_advance",
                TieredPackageWithMinimumBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredPackageWithMinimumCadenceConverter))]
public enum TieredPackageWithMinimumCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class TieredPackageWithMinimumCadenceConverter
    : JsonConverter<TieredPackageWithMinimumCadence>
{
    public override TieredPackageWithMinimumCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => TieredPackageWithMinimumCadence.OneTime,
            "monthly" => TieredPackageWithMinimumCadence.Monthly,
            "quarterly" => TieredPackageWithMinimumCadence.Quarterly,
            "semi_annual" => TieredPackageWithMinimumCadence.SemiAnnual,
            "annual" => TieredPackageWithMinimumCadence.Annual,
            "custom" => TieredPackageWithMinimumCadence.Custom,
            _ => (TieredPackageWithMinimumCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageWithMinimumCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackageWithMinimumCadence.OneTime => "one_time",
                TieredPackageWithMinimumCadence.Monthly => "monthly",
                TieredPackageWithMinimumCadence.Quarterly => "quarterly",
                TieredPackageWithMinimumCadence.SemiAnnual => "semi_annual",
                TieredPackageWithMinimumCadence.Annual => "annual",
                TieredPackageWithMinimumCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter9>))]
public sealed record class CompositePriceFilter9 : ModelBase, IFromRaw<CompositePriceFilter9>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter9Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter9Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter9Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter9Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter9() { }

    public CompositePriceFilter9(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter9(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter9 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter9FieldConverter))]
public enum CompositePriceFilter9Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter9FieldConverter : JsonConverter<CompositePriceFilter9Field>
{
    public override CompositePriceFilter9Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter9Field.PriceID,
            "item_id" => CompositePriceFilter9Field.ItemID,
            "price_type" => CompositePriceFilter9Field.PriceType,
            "currency" => CompositePriceFilter9Field.Currency,
            "pricing_unit_id" => CompositePriceFilter9Field.PricingUnitID,
            _ => (CompositePriceFilter9Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter9Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter9Field.PriceID => "price_id",
                CompositePriceFilter9Field.ItemID => "item_id",
                CompositePriceFilter9Field.PriceType => "price_type",
                CompositePriceFilter9Field.Currency => "currency",
                CompositePriceFilter9Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter9OperatorConverter))]
public enum CompositePriceFilter9Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter9OperatorConverter : JsonConverter<CompositePriceFilter9Operator>
{
    public override CompositePriceFilter9Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter9Operator.Includes,
            "excludes" => CompositePriceFilter9Operator.Excludes,
            _ => (CompositePriceFilter9Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter9Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter9Operator.Includes => "includes",
                CompositePriceFilter9Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredPackageWithMinimumConversionRateConfigConverter))]
public record class TieredPackageWithMinimumConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public TieredPackageWithMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredPackageWithMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredPackageWithMinimumConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of TieredPackageWithMinimumConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of TieredPackageWithMinimumConversionRateConfig"
            ),
        };
    }

    public static implicit operator TieredPackageWithMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator TieredPackageWithMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of TieredPackageWithMinimumConversionRateConfig"
            );
        }
    }
}

sealed class TieredPackageWithMinimumConversionRateConfigConverter
    : JsonConverter<TieredPackageWithMinimumConversionRateConfig>
{
    public override TieredPackageWithMinimumConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new TieredPackageWithMinimumConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageWithMinimumConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class TieredPackageWithMinimumModelType
{
    public JsonElement Json { get; private init; }

    public TieredPackageWithMinimumModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"tiered_package_with_minimum\"");
    }

    TieredPackageWithMinimumModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new TieredPackageWithMinimumModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'TieredPackageWithMinimumModelType'"
            );
        }
    }

    class Converter : JsonConverter<TieredPackageWithMinimumModelType>
    {
        public override TieredPackageWithMinimumModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            TieredPackageWithMinimumModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(TieredPackageWithMinimumPriceTypeConverter))]
public enum TieredPackageWithMinimumPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class TieredPackageWithMinimumPriceTypeConverter
    : JsonConverter<TieredPackageWithMinimumPriceType>
{
    public override TieredPackageWithMinimumPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => TieredPackageWithMinimumPriceType.UsagePrice,
            "fixed_price" => TieredPackageWithMinimumPriceType.FixedPrice,
            "composite_price" => TieredPackageWithMinimumPriceType.CompositePrice,
            _ => (TieredPackageWithMinimumPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredPackageWithMinimumPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredPackageWithMinimumPriceType.UsagePrice => "usage_price",
                TieredPackageWithMinimumPriceType.FixedPrice => "fixed_price",
                TieredPackageWithMinimumPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for tiered_package_with_minimum pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<TieredPackageWithMinimumTieredPackageWithMinimumConfig>))]
public sealed record class TieredPackageWithMinimumTieredPackageWithMinimumConfig
    : ModelBase,
        IFromRaw<TieredPackageWithMinimumTieredPackageWithMinimumConfig>
{
    /// <summary>
    /// Package size
    /// </summary>
    public required double PackageSize
    {
        get
        {
            if (!this._rawData.TryGetValue("package_size", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_size",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<double>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["package_size"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply tiered pricing after rounding up the quantity to the package size.
    /// Tiers are defined using exclusive lower bounds.
    /// </summary>
    public required List<Tier20> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier20>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PackageSize;
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public TieredPackageWithMinimumTieredPackageWithMinimumConfig() { }

    public TieredPackageWithMinimumTieredPackageWithMinimumConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    TieredPackageWithMinimumTieredPackageWithMinimumConfig(
        FrozenDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredPackageWithMinimumTieredPackageWithMinimumConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier20>))]
public sealed record class Tier20 : ModelBase, IFromRaw<Tier20>
{
    /// <summary>
    /// Minimum amount
    /// </summary>
    public required string MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentNullException("minimum_amount")
                );
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Price per package
    /// </summary>
    public required string PerUnit
    {
        get
        {
            if (!this._rawData.TryGetValue("per_unit", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentOutOfRangeException("per_unit", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentNullException("per_unit")
                );
        }
        init
        {
            this._rawData["per_unit"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.MinimumAmount;
        _ = this.PerUnit;
        _ = this.TierLowerBound;
    }

    public Tier20() { }

    public Tier20(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier20(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier20 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<PackageWithAllocation>))]
public sealed record class PackageWithAllocation : ModelBase, IFromRaw<PackageWithAllocation>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackageWithAllocationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackageWithAllocationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackageWithAllocationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackageWithAllocationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter10>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter10>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required PackageWithAllocationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<PackageWithAllocationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public PackageWithAllocationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PackageWithAllocationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for package_with_allocation pricing
    /// </summary>
    public required PackageWithAllocationPackageWithAllocationConfig PackageWithAllocationConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "package_with_allocation_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'package_with_allocation_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_with_allocation_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PackageWithAllocationPackageWithAllocationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'package_with_allocation_config' cannot be null",
                    new System::ArgumentNullException("package_with_allocation_config")
                );
        }
        init
        {
            this._rawData["package_with_allocation_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PackageWithAllocationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PackageWithAllocationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        this.PackageWithAllocationConfig.Validate();
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public PackageWithAllocation()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public PackageWithAllocation(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    PackageWithAllocation(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static PackageWithAllocation FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(PackageWithAllocationBillingModeConverter))]
public enum PackageWithAllocationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class PackageWithAllocationBillingModeConverter
    : JsonConverter<PackageWithAllocationBillingMode>
{
    public override PackageWithAllocationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => PackageWithAllocationBillingMode.InAdvance,
            "in_arrear" => PackageWithAllocationBillingMode.InArrear,
            _ => (PackageWithAllocationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageWithAllocationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackageWithAllocationBillingMode.InAdvance => "in_advance",
                PackageWithAllocationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PackageWithAllocationCadenceConverter))]
public enum PackageWithAllocationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class PackageWithAllocationCadenceConverter : JsonConverter<PackageWithAllocationCadence>
{
    public override PackageWithAllocationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => PackageWithAllocationCadence.OneTime,
            "monthly" => PackageWithAllocationCadence.Monthly,
            "quarterly" => PackageWithAllocationCadence.Quarterly,
            "semi_annual" => PackageWithAllocationCadence.SemiAnnual,
            "annual" => PackageWithAllocationCadence.Annual,
            "custom" => PackageWithAllocationCadence.Custom,
            _ => (PackageWithAllocationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageWithAllocationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackageWithAllocationCadence.OneTime => "one_time",
                PackageWithAllocationCadence.Monthly => "monthly",
                PackageWithAllocationCadence.Quarterly => "quarterly",
                PackageWithAllocationCadence.SemiAnnual => "semi_annual",
                PackageWithAllocationCadence.Annual => "annual",
                PackageWithAllocationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter10>))]
public sealed record class CompositePriceFilter10 : ModelBase, IFromRaw<CompositePriceFilter10>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter10Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter10Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter10Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter10Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter10() { }

    public CompositePriceFilter10(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter10(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter10 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter10FieldConverter))]
public enum CompositePriceFilter10Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter10FieldConverter : JsonConverter<CompositePriceFilter10Field>
{
    public override CompositePriceFilter10Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter10Field.PriceID,
            "item_id" => CompositePriceFilter10Field.ItemID,
            "price_type" => CompositePriceFilter10Field.PriceType,
            "currency" => CompositePriceFilter10Field.Currency,
            "pricing_unit_id" => CompositePriceFilter10Field.PricingUnitID,
            _ => (CompositePriceFilter10Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter10Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter10Field.PriceID => "price_id",
                CompositePriceFilter10Field.ItemID => "item_id",
                CompositePriceFilter10Field.PriceType => "price_type",
                CompositePriceFilter10Field.Currency => "currency",
                CompositePriceFilter10Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter10OperatorConverter))]
public enum CompositePriceFilter10Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter10OperatorConverter : JsonConverter<CompositePriceFilter10Operator>
{
    public override CompositePriceFilter10Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter10Operator.Includes,
            "excludes" => CompositePriceFilter10Operator.Excludes,
            _ => (CompositePriceFilter10Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter10Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter10Operator.Includes => "includes",
                CompositePriceFilter10Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PackageWithAllocationConversionRateConfigConverter))]
public record class PackageWithAllocationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public PackageWithAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PackageWithAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PackageWithAllocationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of PackageWithAllocationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of PackageWithAllocationConversionRateConfig"
            ),
        };
    }

    public static implicit operator PackageWithAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator PackageWithAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of PackageWithAllocationConversionRateConfig"
            );
        }
    }
}

sealed class PackageWithAllocationConversionRateConfigConverter
    : JsonConverter<PackageWithAllocationConversionRateConfig>
{
    public override PackageWithAllocationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new PackageWithAllocationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageWithAllocationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class PackageWithAllocationModelType
{
    public JsonElement Json { get; private init; }

    public PackageWithAllocationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"package_with_allocation\"");
    }

    PackageWithAllocationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new PackageWithAllocationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'PackageWithAllocationModelType'"
            );
        }
    }

    class Converter : JsonConverter<PackageWithAllocationModelType>
    {
        public override PackageWithAllocationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            PackageWithAllocationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

/// <summary>
/// Configuration for package_with_allocation pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<PackageWithAllocationPackageWithAllocationConfig>))]
public sealed record class PackageWithAllocationPackageWithAllocationConfig
    : ModelBase,
        IFromRaw<PackageWithAllocationPackageWithAllocationConfig>
{
    /// <summary>
    /// Usage allocation
    /// </summary>
    public required string Allocation
    {
        get
        {
            if (!this._rawData.TryGetValue("allocation", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'allocation' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "allocation",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'allocation' cannot be null",
                    new System::ArgumentNullException("allocation")
                );
        }
        init
        {
            this._rawData["allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Price per package
    /// </summary>
    public required string PackageAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("package_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_amount' cannot be null",
                    new System::ArgumentNullException("package_amount")
                );
        }
        init
        {
            this._rawData["package_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Package size
    /// </summary>
    public required string PackageSize
    {
        get
        {
            if (!this._rawData.TryGetValue("package_size", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_size",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentNullException("package_size")
                );
        }
        init
        {
            this._rawData["package_size"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Allocation;
        _ = this.PackageAmount;
        _ = this.PackageSize;
    }

    public PackageWithAllocationPackageWithAllocationConfig() { }

    public PackageWithAllocationPackageWithAllocationConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    PackageWithAllocationPackageWithAllocationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static PackageWithAllocationPackageWithAllocationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(PackageWithAllocationPriceTypeConverter))]
public enum PackageWithAllocationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class PackageWithAllocationPriceTypeConverter : JsonConverter<PackageWithAllocationPriceType>
{
    public override PackageWithAllocationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => PackageWithAllocationPriceType.UsagePrice,
            "fixed_price" => PackageWithAllocationPriceType.FixedPrice,
            "composite_price" => PackageWithAllocationPriceType.CompositePrice,
            _ => (PackageWithAllocationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PackageWithAllocationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PackageWithAllocationPriceType.UsagePrice => "usage_price",
                PackageWithAllocationPriceType.FixedPrice => "fixed_price",
                PackageWithAllocationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<UnitWithPercent>))]
public sealed record class UnitWithPercent : ModelBase, IFromRaw<UnitWithPercent>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithPercentBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithPercentBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithPercentCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithPercentCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter11>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter11>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required UnitWithPercentConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<UnitWithPercentConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public UnitWithPercentModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitWithPercentModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithPercentPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithPercentPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for unit_with_percent pricing
    /// </summary>
    public required UnitWithPercentUnitWithPercentConfig UnitWithPercentConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_with_percent_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_with_percent_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_with_percent_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitWithPercentUnitWithPercentConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'unit_with_percent_config' cannot be null",
                    new System::ArgumentNullException("unit_with_percent_config")
                );
        }
        init
        {
            this._rawData["unit_with_percent_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.UnitWithPercentConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public UnitWithPercent()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public UnitWithPercent(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    UnitWithPercent(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitWithPercent FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(UnitWithPercentBillingModeConverter))]
public enum UnitWithPercentBillingMode
{
    InAdvance,
    InArrear,
}

sealed class UnitWithPercentBillingModeConverter : JsonConverter<UnitWithPercentBillingMode>
{
    public override UnitWithPercentBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => UnitWithPercentBillingMode.InAdvance,
            "in_arrear" => UnitWithPercentBillingMode.InArrear,
            _ => (UnitWithPercentBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithPercentBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithPercentBillingMode.InAdvance => "in_advance",
                UnitWithPercentBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitWithPercentCadenceConverter))]
public enum UnitWithPercentCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class UnitWithPercentCadenceConverter : JsonConverter<UnitWithPercentCadence>
{
    public override UnitWithPercentCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => UnitWithPercentCadence.OneTime,
            "monthly" => UnitWithPercentCadence.Monthly,
            "quarterly" => UnitWithPercentCadence.Quarterly,
            "semi_annual" => UnitWithPercentCadence.SemiAnnual,
            "annual" => UnitWithPercentCadence.Annual,
            "custom" => UnitWithPercentCadence.Custom,
            _ => (UnitWithPercentCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithPercentCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithPercentCadence.OneTime => "one_time",
                UnitWithPercentCadence.Monthly => "monthly",
                UnitWithPercentCadence.Quarterly => "quarterly",
                UnitWithPercentCadence.SemiAnnual => "semi_annual",
                UnitWithPercentCadence.Annual => "annual",
                UnitWithPercentCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter11>))]
public sealed record class CompositePriceFilter11 : ModelBase, IFromRaw<CompositePriceFilter11>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter11Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter11Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter11Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter11Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter11() { }

    public CompositePriceFilter11(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter11(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter11 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter11FieldConverter))]
public enum CompositePriceFilter11Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter11FieldConverter : JsonConverter<CompositePriceFilter11Field>
{
    public override CompositePriceFilter11Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter11Field.PriceID,
            "item_id" => CompositePriceFilter11Field.ItemID,
            "price_type" => CompositePriceFilter11Field.PriceType,
            "currency" => CompositePriceFilter11Field.Currency,
            "pricing_unit_id" => CompositePriceFilter11Field.PricingUnitID,
            _ => (CompositePriceFilter11Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter11Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter11Field.PriceID => "price_id",
                CompositePriceFilter11Field.ItemID => "item_id",
                CompositePriceFilter11Field.PriceType => "price_type",
                CompositePriceFilter11Field.Currency => "currency",
                CompositePriceFilter11Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter11OperatorConverter))]
public enum CompositePriceFilter11Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter11OperatorConverter : JsonConverter<CompositePriceFilter11Operator>
{
    public override CompositePriceFilter11Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter11Operator.Includes,
            "excludes" => CompositePriceFilter11Operator.Excludes,
            _ => (CompositePriceFilter11Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter11Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter11Operator.Includes => "includes",
                CompositePriceFilter11Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitWithPercentConversionRateConfigConverter))]
public record class UnitWithPercentConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public UnitWithPercentConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public UnitWithPercentConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public UnitWithPercentConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of UnitWithPercentConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of UnitWithPercentConversionRateConfig"
            ),
        };
    }

    public static implicit operator UnitWithPercentConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator UnitWithPercentConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of UnitWithPercentConversionRateConfig"
            );
        }
    }
}

sealed class UnitWithPercentConversionRateConfigConverter
    : JsonConverter<UnitWithPercentConversionRateConfig>
{
    public override UnitWithPercentConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new UnitWithPercentConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithPercentConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class UnitWithPercentModelType
{
    public JsonElement Json { get; private init; }

    public UnitWithPercentModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"unit_with_percent\"");
    }

    UnitWithPercentModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new UnitWithPercentModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'UnitWithPercentModelType'");
        }
    }

    class Converter : JsonConverter<UnitWithPercentModelType>
    {
        public override UnitWithPercentModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            UnitWithPercentModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(UnitWithPercentPriceTypeConverter))]
public enum UnitWithPercentPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class UnitWithPercentPriceTypeConverter : JsonConverter<UnitWithPercentPriceType>
{
    public override UnitWithPercentPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => UnitWithPercentPriceType.UsagePrice,
            "fixed_price" => UnitWithPercentPriceType.FixedPrice,
            "composite_price" => UnitWithPercentPriceType.CompositePrice,
            _ => (UnitWithPercentPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithPercentPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithPercentPriceType.UsagePrice => "usage_price",
                UnitWithPercentPriceType.FixedPrice => "fixed_price",
                UnitWithPercentPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for unit_with_percent pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<UnitWithPercentUnitWithPercentConfig>))]
public sealed record class UnitWithPercentUnitWithPercentConfig
    : ModelBase,
        IFromRaw<UnitWithPercentUnitWithPercentConfig>
{
    /// <summary>
    /// What percent, out of 100, of the calculated total to charge
    /// </summary>
    public required string Percent
    {
        get
        {
            if (!this._rawData.TryGetValue("percent", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'percent' cannot be null",
                    new System::ArgumentOutOfRangeException("percent", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'percent' cannot be null",
                    new System::ArgumentNullException("percent")
                );
        }
        init
        {
            this._rawData["percent"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Rate per unit of usage
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Percent;
        _ = this.UnitAmount;
    }

    public UnitWithPercentUnitWithPercentConfig() { }

    public UnitWithPercentUnitWithPercentConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    UnitWithPercentUnitWithPercentConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitWithPercentUnitWithPercentConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<MatrixWithAllocation>))]
public sealed record class MatrixWithAllocation : ModelBase, IFromRaw<MatrixWithAllocation>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithAllocationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithAllocationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithAllocationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithAllocationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter12>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter12>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required MatrixWithAllocationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<MatrixWithAllocationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for matrix_with_allocation pricing
    /// </summary>
    public required MatrixWithAllocationConfig MatrixWithAllocationConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue("matrix_with_allocation_config", out JsonElement element)
            )
                throw new OrbInvalidDataException(
                    "'matrix_with_allocation_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "matrix_with_allocation_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixWithAllocationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'matrix_with_allocation_config' cannot be null",
                    new System::ArgumentNullException("matrix_with_allocation_config")
                );
        }
        init
        {
            this._rawData["matrix_with_allocation_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public MatrixWithAllocationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixWithAllocationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithAllocationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithAllocationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.MatrixWithAllocationConfig.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MatrixWithAllocation()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MatrixWithAllocation(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    MatrixWithAllocation(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MatrixWithAllocation FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(MatrixWithAllocationBillingModeConverter))]
public enum MatrixWithAllocationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class MatrixWithAllocationBillingModeConverter
    : JsonConverter<MatrixWithAllocationBillingMode>
{
    public override MatrixWithAllocationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => MatrixWithAllocationBillingMode.InAdvance,
            "in_arrear" => MatrixWithAllocationBillingMode.InArrear,
            _ => (MatrixWithAllocationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithAllocationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithAllocationBillingMode.InAdvance => "in_advance",
                MatrixWithAllocationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixWithAllocationCadenceConverter))]
public enum MatrixWithAllocationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class MatrixWithAllocationCadenceConverter : JsonConverter<MatrixWithAllocationCadence>
{
    public override MatrixWithAllocationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => MatrixWithAllocationCadence.OneTime,
            "monthly" => MatrixWithAllocationCadence.Monthly,
            "quarterly" => MatrixWithAllocationCadence.Quarterly,
            "semi_annual" => MatrixWithAllocationCadence.SemiAnnual,
            "annual" => MatrixWithAllocationCadence.Annual,
            "custom" => MatrixWithAllocationCadence.Custom,
            _ => (MatrixWithAllocationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithAllocationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithAllocationCadence.OneTime => "one_time",
                MatrixWithAllocationCadence.Monthly => "monthly",
                MatrixWithAllocationCadence.Quarterly => "quarterly",
                MatrixWithAllocationCadence.SemiAnnual => "semi_annual",
                MatrixWithAllocationCadence.Annual => "annual",
                MatrixWithAllocationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter12>))]
public sealed record class CompositePriceFilter12 : ModelBase, IFromRaw<CompositePriceFilter12>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter12Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter12Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter12Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter12Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter12() { }

    public CompositePriceFilter12(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter12(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter12 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter12FieldConverter))]
public enum CompositePriceFilter12Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter12FieldConverter : JsonConverter<CompositePriceFilter12Field>
{
    public override CompositePriceFilter12Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter12Field.PriceID,
            "item_id" => CompositePriceFilter12Field.ItemID,
            "price_type" => CompositePriceFilter12Field.PriceType,
            "currency" => CompositePriceFilter12Field.Currency,
            "pricing_unit_id" => CompositePriceFilter12Field.PricingUnitID,
            _ => (CompositePriceFilter12Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter12Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter12Field.PriceID => "price_id",
                CompositePriceFilter12Field.ItemID => "item_id",
                CompositePriceFilter12Field.PriceType => "price_type",
                CompositePriceFilter12Field.Currency => "currency",
                CompositePriceFilter12Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter12OperatorConverter))]
public enum CompositePriceFilter12Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter12OperatorConverter : JsonConverter<CompositePriceFilter12Operator>
{
    public override CompositePriceFilter12Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter12Operator.Includes,
            "excludes" => CompositePriceFilter12Operator.Excludes,
            _ => (CompositePriceFilter12Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter12Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter12Operator.Includes => "includes",
                CompositePriceFilter12Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixWithAllocationConversionRateConfigConverter))]
public record class MatrixWithAllocationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public MatrixWithAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixWithAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixWithAllocationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of MatrixWithAllocationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixWithAllocationConversionRateConfig"
            ),
        };
    }

    public static implicit operator MatrixWithAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator MatrixWithAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixWithAllocationConversionRateConfig"
            );
        }
    }
}

sealed class MatrixWithAllocationConversionRateConfigConverter
    : JsonConverter<MatrixWithAllocationConversionRateConfig>
{
    public override MatrixWithAllocationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new MatrixWithAllocationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithAllocationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class MatrixWithAllocationModelType
{
    public JsonElement Json { get; private init; }

    public MatrixWithAllocationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"matrix_with_allocation\"");
    }

    MatrixWithAllocationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new MatrixWithAllocationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'MatrixWithAllocationModelType'"
            );
        }
    }

    class Converter : JsonConverter<MatrixWithAllocationModelType>
    {
        public override MatrixWithAllocationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            MatrixWithAllocationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(MatrixWithAllocationPriceTypeConverter))]
public enum MatrixWithAllocationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class MatrixWithAllocationPriceTypeConverter : JsonConverter<MatrixWithAllocationPriceType>
{
    public override MatrixWithAllocationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => MatrixWithAllocationPriceType.UsagePrice,
            "fixed_price" => MatrixWithAllocationPriceType.FixedPrice,
            "composite_price" => MatrixWithAllocationPriceType.CompositePrice,
            _ => (MatrixWithAllocationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithAllocationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithAllocationPriceType.UsagePrice => "usage_price",
                MatrixWithAllocationPriceType.FixedPrice => "fixed_price",
                MatrixWithAllocationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<TieredWithProration>))]
public sealed record class TieredWithProration : ModelBase, IFromRaw<TieredWithProration>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithProrationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithProrationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithProrationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithProrationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter13>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter13>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required TieredWithProrationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<TieredWithProrationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public TieredWithProrationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredWithProrationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, TieredWithProrationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, TieredWithProrationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for tiered_with_proration pricing
    /// </summary>
    public required TieredWithProrationTieredWithProrationConfig TieredWithProrationConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("tiered_with_proration_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiered_with_proration_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tiered_with_proration_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<TieredWithProrationTieredWithProrationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'tiered_with_proration_config' cannot be null",
                    new System::ArgumentNullException("tiered_with_proration_config")
                );
        }
        init
        {
            this._rawData["tiered_with_proration_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.TieredWithProrationConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredWithProration()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public TieredWithProration(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    TieredWithProration(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredWithProration FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(TieredWithProrationBillingModeConverter))]
public enum TieredWithProrationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class TieredWithProrationBillingModeConverter : JsonConverter<TieredWithProrationBillingMode>
{
    public override TieredWithProrationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => TieredWithProrationBillingMode.InAdvance,
            "in_arrear" => TieredWithProrationBillingMode.InArrear,
            _ => (TieredWithProrationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithProrationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithProrationBillingMode.InAdvance => "in_advance",
                TieredWithProrationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredWithProrationCadenceConverter))]
public enum TieredWithProrationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class TieredWithProrationCadenceConverter : JsonConverter<TieredWithProrationCadence>
{
    public override TieredWithProrationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => TieredWithProrationCadence.OneTime,
            "monthly" => TieredWithProrationCadence.Monthly,
            "quarterly" => TieredWithProrationCadence.Quarterly,
            "semi_annual" => TieredWithProrationCadence.SemiAnnual,
            "annual" => TieredWithProrationCadence.Annual,
            "custom" => TieredWithProrationCadence.Custom,
            _ => (TieredWithProrationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithProrationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithProrationCadence.OneTime => "one_time",
                TieredWithProrationCadence.Monthly => "monthly",
                TieredWithProrationCadence.Quarterly => "quarterly",
                TieredWithProrationCadence.SemiAnnual => "semi_annual",
                TieredWithProrationCadence.Annual => "annual",
                TieredWithProrationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter13>))]
public sealed record class CompositePriceFilter13 : ModelBase, IFromRaw<CompositePriceFilter13>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter13Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter13Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter13Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter13Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter13() { }

    public CompositePriceFilter13(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter13(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter13 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter13FieldConverter))]
public enum CompositePriceFilter13Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter13FieldConverter : JsonConverter<CompositePriceFilter13Field>
{
    public override CompositePriceFilter13Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter13Field.PriceID,
            "item_id" => CompositePriceFilter13Field.ItemID,
            "price_type" => CompositePriceFilter13Field.PriceType,
            "currency" => CompositePriceFilter13Field.Currency,
            "pricing_unit_id" => CompositePriceFilter13Field.PricingUnitID,
            _ => (CompositePriceFilter13Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter13Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter13Field.PriceID => "price_id",
                CompositePriceFilter13Field.ItemID => "item_id",
                CompositePriceFilter13Field.PriceType => "price_type",
                CompositePriceFilter13Field.Currency => "currency",
                CompositePriceFilter13Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter13OperatorConverter))]
public enum CompositePriceFilter13Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter13OperatorConverter : JsonConverter<CompositePriceFilter13Operator>
{
    public override CompositePriceFilter13Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter13Operator.Includes,
            "excludes" => CompositePriceFilter13Operator.Excludes,
            _ => (CompositePriceFilter13Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter13Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter13Operator.Includes => "includes",
                CompositePriceFilter13Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(TieredWithProrationConversionRateConfigConverter))]
public record class TieredWithProrationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public TieredWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public TieredWithProrationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of TieredWithProrationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of TieredWithProrationConversionRateConfig"
            ),
        };
    }

    public static implicit operator TieredWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator TieredWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of TieredWithProrationConversionRateConfig"
            );
        }
    }
}

sealed class TieredWithProrationConversionRateConfigConverter
    : JsonConverter<TieredWithProrationConversionRateConfig>
{
    public override TieredWithProrationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new TieredWithProrationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithProrationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class TieredWithProrationModelType
{
    public JsonElement Json { get; private init; }

    public TieredWithProrationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"tiered_with_proration\"");
    }

    TieredWithProrationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new TieredWithProrationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'TieredWithProrationModelType'"
            );
        }
    }

    class Converter : JsonConverter<TieredWithProrationModelType>
    {
        public override TieredWithProrationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            TieredWithProrationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(TieredWithProrationPriceTypeConverter))]
public enum TieredWithProrationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class TieredWithProrationPriceTypeConverter : JsonConverter<TieredWithProrationPriceType>
{
    public override TieredWithProrationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => TieredWithProrationPriceType.UsagePrice,
            "fixed_price" => TieredWithProrationPriceType.FixedPrice,
            "composite_price" => TieredWithProrationPriceType.CompositePrice,
            _ => (TieredWithProrationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        TieredWithProrationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                TieredWithProrationPriceType.UsagePrice => "usage_price",
                TieredWithProrationPriceType.FixedPrice => "fixed_price",
                TieredWithProrationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for tiered_with_proration pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<TieredWithProrationTieredWithProrationConfig>))]
public sealed record class TieredWithProrationTieredWithProrationConfig
    : ModelBase,
        IFromRaw<TieredWithProrationTieredWithProrationConfig>
{
    /// <summary>
    /// Tiers for rating based on total usage quantities into the specified tier
    /// with proration
    /// </summary>
    public required List<Tier21> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier21>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public TieredWithProrationTieredWithProrationConfig() { }

    public TieredWithProrationTieredWithProrationConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    TieredWithProrationTieredWithProrationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static TieredWithProrationTieredWithProrationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public TieredWithProrationTieredWithProrationConfig(List<Tier21> tiers)
        : this()
    {
        this.Tiers = tiers;
    }
}

/// <summary>
/// Configuration for a single tiered with proration tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier21>))]
public sealed record class Tier21 : ModelBase, IFromRaw<Tier21>
{
    /// <summary>
    /// Inclusive tier starting value
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Amount per unit
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public Tier21() { }

    public Tier21(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier21(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier21 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<UnitWithProration>))]
public sealed record class UnitWithProration : ModelBase, IFromRaw<UnitWithProration>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithProrationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithProrationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithProrationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithProrationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter14>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter14>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required UnitWithProrationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<UnitWithProrationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public UnitWithProrationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitWithProrationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, UnitWithProrationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, UnitWithProrationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for unit_with_proration pricing
    /// </summary>
    public required UnitWithProrationUnitWithProrationConfig UnitWithProrationConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_with_proration_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_with_proration_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_with_proration_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<UnitWithProrationUnitWithProrationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'unit_with_proration_config' cannot be null",
                    new System::ArgumentNullException("unit_with_proration_config")
                );
        }
        init
        {
            this._rawData["unit_with_proration_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.UnitWithProrationConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public UnitWithProration()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public UnitWithProration(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    UnitWithProration(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitWithProration FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(UnitWithProrationBillingModeConverter))]
public enum UnitWithProrationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class UnitWithProrationBillingModeConverter : JsonConverter<UnitWithProrationBillingMode>
{
    public override UnitWithProrationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => UnitWithProrationBillingMode.InAdvance,
            "in_arrear" => UnitWithProrationBillingMode.InArrear,
            _ => (UnitWithProrationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithProrationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithProrationBillingMode.InAdvance => "in_advance",
                UnitWithProrationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitWithProrationCadenceConverter))]
public enum UnitWithProrationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class UnitWithProrationCadenceConverter : JsonConverter<UnitWithProrationCadence>
{
    public override UnitWithProrationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => UnitWithProrationCadence.OneTime,
            "monthly" => UnitWithProrationCadence.Monthly,
            "quarterly" => UnitWithProrationCadence.Quarterly,
            "semi_annual" => UnitWithProrationCadence.SemiAnnual,
            "annual" => UnitWithProrationCadence.Annual,
            "custom" => UnitWithProrationCadence.Custom,
            _ => (UnitWithProrationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithProrationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithProrationCadence.OneTime => "one_time",
                UnitWithProrationCadence.Monthly => "monthly",
                UnitWithProrationCadence.Quarterly => "quarterly",
                UnitWithProrationCadence.SemiAnnual => "semi_annual",
                UnitWithProrationCadence.Annual => "annual",
                UnitWithProrationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter14>))]
public sealed record class CompositePriceFilter14 : ModelBase, IFromRaw<CompositePriceFilter14>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter14Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter14Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter14Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter14Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter14() { }

    public CompositePriceFilter14(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter14(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter14 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter14FieldConverter))]
public enum CompositePriceFilter14Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter14FieldConverter : JsonConverter<CompositePriceFilter14Field>
{
    public override CompositePriceFilter14Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter14Field.PriceID,
            "item_id" => CompositePriceFilter14Field.ItemID,
            "price_type" => CompositePriceFilter14Field.PriceType,
            "currency" => CompositePriceFilter14Field.Currency,
            "pricing_unit_id" => CompositePriceFilter14Field.PricingUnitID,
            _ => (CompositePriceFilter14Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter14Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter14Field.PriceID => "price_id",
                CompositePriceFilter14Field.ItemID => "item_id",
                CompositePriceFilter14Field.PriceType => "price_type",
                CompositePriceFilter14Field.Currency => "currency",
                CompositePriceFilter14Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter14OperatorConverter))]
public enum CompositePriceFilter14Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter14OperatorConverter : JsonConverter<CompositePriceFilter14Operator>
{
    public override CompositePriceFilter14Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter14Operator.Includes,
            "excludes" => CompositePriceFilter14Operator.Excludes,
            _ => (CompositePriceFilter14Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter14Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter14Operator.Includes => "includes",
                CompositePriceFilter14Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(UnitWithProrationConversionRateConfigConverter))]
public record class UnitWithProrationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public UnitWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public UnitWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public UnitWithProrationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of UnitWithProrationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of UnitWithProrationConversionRateConfig"
            ),
        };
    }

    public static implicit operator UnitWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator UnitWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of UnitWithProrationConversionRateConfig"
            );
        }
    }
}

sealed class UnitWithProrationConversionRateConfigConverter
    : JsonConverter<UnitWithProrationConversionRateConfig>
{
    public override UnitWithProrationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new UnitWithProrationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithProrationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class UnitWithProrationModelType
{
    public JsonElement Json { get; private init; }

    public UnitWithProrationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"unit_with_proration\"");
    }

    UnitWithProrationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new UnitWithProrationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'UnitWithProrationModelType'"
            );
        }
    }

    class Converter : JsonConverter<UnitWithProrationModelType>
    {
        public override UnitWithProrationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            UnitWithProrationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(UnitWithProrationPriceTypeConverter))]
public enum UnitWithProrationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class UnitWithProrationPriceTypeConverter : JsonConverter<UnitWithProrationPriceType>
{
    public override UnitWithProrationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => UnitWithProrationPriceType.UsagePrice,
            "fixed_price" => UnitWithProrationPriceType.FixedPrice,
            "composite_price" => UnitWithProrationPriceType.CompositePrice,
            _ => (UnitWithProrationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        UnitWithProrationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                UnitWithProrationPriceType.UsagePrice => "usage_price",
                UnitWithProrationPriceType.FixedPrice => "fixed_price",
                UnitWithProrationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for unit_with_proration pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<UnitWithProrationUnitWithProrationConfig>))]
public sealed record class UnitWithProrationUnitWithProrationConfig
    : ModelBase,
        IFromRaw<UnitWithProrationUnitWithProrationConfig>
{
    /// <summary>
    /// Rate per unit of usage
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.UnitAmount;
    }

    public UnitWithProrationUnitWithProrationConfig() { }

    public UnitWithProrationUnitWithProrationConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    UnitWithProrationUnitWithProrationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitWithProrationUnitWithProrationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public UnitWithProrationUnitWithProrationConfig(string unitAmount)
        : this()
    {
        this.UnitAmount = unitAmount;
    }
}

[JsonConverter(typeof(ModelConverter<GroupedAllocation>))]
public sealed record class GroupedAllocation : ModelBase, IFromRaw<GroupedAllocation>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedAllocationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedAllocationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedAllocationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedAllocationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter15>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter15>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedAllocationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedAllocationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_allocation pricing
    /// </summary>
    public required GroupedAllocationGroupedAllocationConfig GroupedAllocationConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("grouped_allocation_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouped_allocation_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_allocation_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedAllocationGroupedAllocationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_allocation_config' cannot be null",
                    new System::ArgumentNullException("grouped_allocation_config")
                );
        }
        init
        {
            this._rawData["grouped_allocation_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedAllocationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedAllocationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedAllocationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedAllocationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedAllocationConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedAllocation()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedAllocation(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedAllocation(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedAllocation FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedAllocationBillingModeConverter))]
public enum GroupedAllocationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedAllocationBillingModeConverter : JsonConverter<GroupedAllocationBillingMode>
{
    public override GroupedAllocationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedAllocationBillingMode.InAdvance,
            "in_arrear" => GroupedAllocationBillingMode.InArrear,
            _ => (GroupedAllocationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedAllocationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedAllocationBillingMode.InAdvance => "in_advance",
                GroupedAllocationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedAllocationCadenceConverter))]
public enum GroupedAllocationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedAllocationCadenceConverter : JsonConverter<GroupedAllocationCadence>
{
    public override GroupedAllocationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedAllocationCadence.OneTime,
            "monthly" => GroupedAllocationCadence.Monthly,
            "quarterly" => GroupedAllocationCadence.Quarterly,
            "semi_annual" => GroupedAllocationCadence.SemiAnnual,
            "annual" => GroupedAllocationCadence.Annual,
            "custom" => GroupedAllocationCadence.Custom,
            _ => (GroupedAllocationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedAllocationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedAllocationCadence.OneTime => "one_time",
                GroupedAllocationCadence.Monthly => "monthly",
                GroupedAllocationCadence.Quarterly => "quarterly",
                GroupedAllocationCadence.SemiAnnual => "semi_annual",
                GroupedAllocationCadence.Annual => "annual",
                GroupedAllocationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter15>))]
public sealed record class CompositePriceFilter15 : ModelBase, IFromRaw<CompositePriceFilter15>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter15Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter15Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter15Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter15Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter15() { }

    public CompositePriceFilter15(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter15(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter15 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter15FieldConverter))]
public enum CompositePriceFilter15Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter15FieldConverter : JsonConverter<CompositePriceFilter15Field>
{
    public override CompositePriceFilter15Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter15Field.PriceID,
            "item_id" => CompositePriceFilter15Field.ItemID,
            "price_type" => CompositePriceFilter15Field.PriceType,
            "currency" => CompositePriceFilter15Field.Currency,
            "pricing_unit_id" => CompositePriceFilter15Field.PricingUnitID,
            _ => (CompositePriceFilter15Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter15Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter15Field.PriceID => "price_id",
                CompositePriceFilter15Field.ItemID => "item_id",
                CompositePriceFilter15Field.PriceType => "price_type",
                CompositePriceFilter15Field.Currency => "currency",
                CompositePriceFilter15Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter15OperatorConverter))]
public enum CompositePriceFilter15Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter15OperatorConverter : JsonConverter<CompositePriceFilter15Operator>
{
    public override CompositePriceFilter15Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter15Operator.Includes,
            "excludes" => CompositePriceFilter15Operator.Excludes,
            _ => (CompositePriceFilter15Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter15Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter15Operator.Includes => "includes",
                CompositePriceFilter15Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedAllocationConversionRateConfigConverter))]
public record class GroupedAllocationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedAllocationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedAllocationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedAllocationConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedAllocationConversionRateConfig"
            );
        }
    }
}

sealed class GroupedAllocationConversionRateConfigConverter
    : JsonConverter<GroupedAllocationConversionRateConfig>
{
    public override GroupedAllocationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedAllocationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedAllocationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_allocation pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedAllocationGroupedAllocationConfig>))]
public sealed record class GroupedAllocationGroupedAllocationConfig
    : ModelBase,
        IFromRaw<GroupedAllocationGroupedAllocationConfig>
{
    /// <summary>
    /// Usage allocation per group
    /// </summary>
    public required string Allocation
    {
        get
        {
            if (!this._rawData.TryGetValue("allocation", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'allocation' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "allocation",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'allocation' cannot be null",
                    new System::ArgumentNullException("allocation")
                );
        }
        init
        {
            this._rawData["allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// How to determine the groups that should each be allocated some quantity
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Unit rate for post-allocation
    /// </summary>
    public required string OverageUnitRate
    {
        get
        {
            if (!this._rawData.TryGetValue("overage_unit_rate", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'overage_unit_rate' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "overage_unit_rate",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'overage_unit_rate' cannot be null",
                    new System::ArgumentNullException("overage_unit_rate")
                );
        }
        init
        {
            this._rawData["overage_unit_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Allocation;
        _ = this.GroupingKey;
        _ = this.OverageUnitRate;
    }

    public GroupedAllocationGroupedAllocationConfig() { }

    public GroupedAllocationGroupedAllocationConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedAllocationGroupedAllocationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedAllocationGroupedAllocationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedAllocationModelType
{
    public JsonElement Json { get; private init; }

    public GroupedAllocationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_allocation\"");
    }

    GroupedAllocationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedAllocationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'GroupedAllocationModelType'"
            );
        }
    }

    class Converter : JsonConverter<GroupedAllocationModelType>
    {
        public override GroupedAllocationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedAllocationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedAllocationPriceTypeConverter))]
public enum GroupedAllocationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedAllocationPriceTypeConverter : JsonConverter<GroupedAllocationPriceType>
{
    public override GroupedAllocationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedAllocationPriceType.UsagePrice,
            "fixed_price" => GroupedAllocationPriceType.FixedPrice,
            "composite_price" => GroupedAllocationPriceType.CompositePrice,
            _ => (GroupedAllocationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedAllocationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedAllocationPriceType.UsagePrice => "usage_price",
                GroupedAllocationPriceType.FixedPrice => "fixed_price",
                GroupedAllocationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<BulkWithProration>))]
public sealed record class BulkWithProration : ModelBase, IFromRaw<BulkWithProration>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithProrationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithProrationBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for bulk_with_proration pricing
    /// </summary>
    public required BulkWithProrationBulkWithProrationConfig BulkWithProrationConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("bulk_with_proration_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'bulk_with_proration_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "bulk_with_proration_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkWithProrationBulkWithProrationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'bulk_with_proration_config' cannot be null",
                    new System::ArgumentNullException("bulk_with_proration_config")
                );
        }
        init
        {
            this._rawData["bulk_with_proration_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithProrationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithProrationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter16>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter16>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BulkWithProrationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BulkWithProrationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public BulkWithProrationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BulkWithProrationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, BulkWithProrationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, BulkWithProrationPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.BulkWithProrationConfig.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public BulkWithProration()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public BulkWithProration(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    BulkWithProration(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static BulkWithProration FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(BulkWithProrationBillingModeConverter))]
public enum BulkWithProrationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class BulkWithProrationBillingModeConverter : JsonConverter<BulkWithProrationBillingMode>
{
    public override BulkWithProrationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => BulkWithProrationBillingMode.InAdvance,
            "in_arrear" => BulkWithProrationBillingMode.InArrear,
            _ => (BulkWithProrationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithProrationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithProrationBillingMode.InAdvance => "in_advance",
                BulkWithProrationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for bulk_with_proration pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<BulkWithProrationBulkWithProrationConfig>))]
public sealed record class BulkWithProrationBulkWithProrationConfig
    : ModelBase,
        IFromRaw<BulkWithProrationBulkWithProrationConfig>
{
    /// <summary>
    /// Bulk tiers for rating based on total usage volume
    /// </summary>
    public required List<Tier22> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier22>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public BulkWithProrationBulkWithProrationConfig() { }

    public BulkWithProrationBulkWithProrationConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    BulkWithProrationBulkWithProrationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static BulkWithProrationBulkWithProrationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public BulkWithProrationBulkWithProrationConfig(List<Tier22> tiers)
        : this()
    {
        this.Tiers = tiers;
    }
}

/// <summary>
/// Configuration for a single bulk pricing tier with proration
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier22>))]
public sealed record class Tier22 : ModelBase, IFromRaw<Tier22>
{
    /// <summary>
    /// Cost per unit
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The lower bound for this tier
    /// </summary>
    public string? TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.UnitAmount;
        _ = this.TierLowerBound;
    }

    public Tier22() { }

    public Tier22(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier22(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier22 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public Tier22(string unitAmount)
        : this()
    {
        this.UnitAmount = unitAmount;
    }
}

[JsonConverter(typeof(BulkWithProrationCadenceConverter))]
public enum BulkWithProrationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class BulkWithProrationCadenceConverter : JsonConverter<BulkWithProrationCadence>
{
    public override BulkWithProrationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => BulkWithProrationCadence.OneTime,
            "monthly" => BulkWithProrationCadence.Monthly,
            "quarterly" => BulkWithProrationCadence.Quarterly,
            "semi_annual" => BulkWithProrationCadence.SemiAnnual,
            "annual" => BulkWithProrationCadence.Annual,
            "custom" => BulkWithProrationCadence.Custom,
            _ => (BulkWithProrationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithProrationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithProrationCadence.OneTime => "one_time",
                BulkWithProrationCadence.Monthly => "monthly",
                BulkWithProrationCadence.Quarterly => "quarterly",
                BulkWithProrationCadence.SemiAnnual => "semi_annual",
                BulkWithProrationCadence.Annual => "annual",
                BulkWithProrationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter16>))]
public sealed record class CompositePriceFilter16 : ModelBase, IFromRaw<CompositePriceFilter16>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter16Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter16Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter16Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter16Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter16() { }

    public CompositePriceFilter16(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter16(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter16 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter16FieldConverter))]
public enum CompositePriceFilter16Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter16FieldConverter : JsonConverter<CompositePriceFilter16Field>
{
    public override CompositePriceFilter16Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter16Field.PriceID,
            "item_id" => CompositePriceFilter16Field.ItemID,
            "price_type" => CompositePriceFilter16Field.PriceType,
            "currency" => CompositePriceFilter16Field.Currency,
            "pricing_unit_id" => CompositePriceFilter16Field.PricingUnitID,
            _ => (CompositePriceFilter16Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter16Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter16Field.PriceID => "price_id",
                CompositePriceFilter16Field.ItemID => "item_id",
                CompositePriceFilter16Field.PriceType => "price_type",
                CompositePriceFilter16Field.Currency => "currency",
                CompositePriceFilter16Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter16OperatorConverter))]
public enum CompositePriceFilter16Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter16OperatorConverter : JsonConverter<CompositePriceFilter16Operator>
{
    public override CompositePriceFilter16Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter16Operator.Includes,
            "excludes" => CompositePriceFilter16Operator.Excludes,
            _ => (CompositePriceFilter16Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter16Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter16Operator.Includes => "includes",
                CompositePriceFilter16Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(BulkWithProrationConversionRateConfigConverter))]
public record class BulkWithProrationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public BulkWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public BulkWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public BulkWithProrationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of BulkWithProrationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of BulkWithProrationConversionRateConfig"
            ),
        };
    }

    public static implicit operator BulkWithProrationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator BulkWithProrationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of BulkWithProrationConversionRateConfig"
            );
        }
    }
}

sealed class BulkWithProrationConversionRateConfigConverter
    : JsonConverter<BulkWithProrationConversionRateConfig>
{
    public override BulkWithProrationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new BulkWithProrationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithProrationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class BulkWithProrationModelType
{
    public JsonElement Json { get; private init; }

    public BulkWithProrationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"bulk_with_proration\"");
    }

    BulkWithProrationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new BulkWithProrationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'BulkWithProrationModelType'"
            );
        }
    }

    class Converter : JsonConverter<BulkWithProrationModelType>
    {
        public override BulkWithProrationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            BulkWithProrationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(BulkWithProrationPriceTypeConverter))]
public enum BulkWithProrationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class BulkWithProrationPriceTypeConverter : JsonConverter<BulkWithProrationPriceType>
{
    public override BulkWithProrationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => BulkWithProrationPriceType.UsagePrice,
            "fixed_price" => BulkWithProrationPriceType.FixedPrice,
            "composite_price" => BulkWithProrationPriceType.CompositePrice,
            _ => (BulkWithProrationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        BulkWithProrationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                BulkWithProrationPriceType.UsagePrice => "usage_price",
                BulkWithProrationPriceType.FixedPrice => "fixed_price",
                BulkWithProrationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<GroupedWithProratedMinimum>))]
public sealed record class GroupedWithProratedMinimum
    : ModelBase,
        IFromRaw<GroupedWithProratedMinimum>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithProratedMinimumBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, GroupedWithProratedMinimumBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithProratedMinimumCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedWithProratedMinimumCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter17>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter17>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedWithProratedMinimumConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedWithProratedMinimumConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_with_prorated_minimum pricing
    /// </summary>
    public required GroupedWithProratedMinimumGroupedWithProratedMinimumConfig GroupedWithProratedMinimumConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "grouped_with_prorated_minimum_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'grouped_with_prorated_minimum_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_with_prorated_minimum_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithProratedMinimumGroupedWithProratedMinimumConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_with_prorated_minimum_config' cannot be null",
                    new System::ArgumentNullException("grouped_with_prorated_minimum_config")
                );
        }
        init
        {
            this._rawData["grouped_with_prorated_minimum_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedWithProratedMinimumModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithProratedMinimumModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithProratedMinimumPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedWithProratedMinimumPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedWithProratedMinimumConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithProratedMinimum()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithProratedMinimum(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedWithProratedMinimum(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithProratedMinimum FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedWithProratedMinimumBillingModeConverter))]
public enum GroupedWithProratedMinimumBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedWithProratedMinimumBillingModeConverter
    : JsonConverter<GroupedWithProratedMinimumBillingMode>
{
    public override GroupedWithProratedMinimumBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedWithProratedMinimumBillingMode.InAdvance,
            "in_arrear" => GroupedWithProratedMinimumBillingMode.InArrear,
            _ => (GroupedWithProratedMinimumBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithProratedMinimumBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithProratedMinimumBillingMode.InAdvance => "in_advance",
                GroupedWithProratedMinimumBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithProratedMinimumCadenceConverter))]
public enum GroupedWithProratedMinimumCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedWithProratedMinimumCadenceConverter
    : JsonConverter<GroupedWithProratedMinimumCadence>
{
    public override GroupedWithProratedMinimumCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedWithProratedMinimumCadence.OneTime,
            "monthly" => GroupedWithProratedMinimumCadence.Monthly,
            "quarterly" => GroupedWithProratedMinimumCadence.Quarterly,
            "semi_annual" => GroupedWithProratedMinimumCadence.SemiAnnual,
            "annual" => GroupedWithProratedMinimumCadence.Annual,
            "custom" => GroupedWithProratedMinimumCadence.Custom,
            _ => (GroupedWithProratedMinimumCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithProratedMinimumCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithProratedMinimumCadence.OneTime => "one_time",
                GroupedWithProratedMinimumCadence.Monthly => "monthly",
                GroupedWithProratedMinimumCadence.Quarterly => "quarterly",
                GroupedWithProratedMinimumCadence.SemiAnnual => "semi_annual",
                GroupedWithProratedMinimumCadence.Annual => "annual",
                GroupedWithProratedMinimumCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter17>))]
public sealed record class CompositePriceFilter17 : ModelBase, IFromRaw<CompositePriceFilter17>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter17Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter17Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter17Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter17Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter17() { }

    public CompositePriceFilter17(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter17(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter17 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter17FieldConverter))]
public enum CompositePriceFilter17Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter17FieldConverter : JsonConverter<CompositePriceFilter17Field>
{
    public override CompositePriceFilter17Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter17Field.PriceID,
            "item_id" => CompositePriceFilter17Field.ItemID,
            "price_type" => CompositePriceFilter17Field.PriceType,
            "currency" => CompositePriceFilter17Field.Currency,
            "pricing_unit_id" => CompositePriceFilter17Field.PricingUnitID,
            _ => (CompositePriceFilter17Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter17Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter17Field.PriceID => "price_id",
                CompositePriceFilter17Field.ItemID => "item_id",
                CompositePriceFilter17Field.PriceType => "price_type",
                CompositePriceFilter17Field.Currency => "currency",
                CompositePriceFilter17Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter17OperatorConverter))]
public enum CompositePriceFilter17Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter17OperatorConverter : JsonConverter<CompositePriceFilter17Operator>
{
    public override CompositePriceFilter17Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter17Operator.Includes,
            "excludes" => CompositePriceFilter17Operator.Excludes,
            _ => (CompositePriceFilter17Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter17Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter17Operator.Includes => "includes",
                CompositePriceFilter17Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithProratedMinimumConversionRateConfigConverter))]
public record class GroupedWithProratedMinimumConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedWithProratedMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithProratedMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithProratedMinimumConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedWithProratedMinimumConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithProratedMinimumConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedWithProratedMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedWithProratedMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithProratedMinimumConversionRateConfig"
            );
        }
    }
}

sealed class GroupedWithProratedMinimumConversionRateConfigConverter
    : JsonConverter<GroupedWithProratedMinimumConversionRateConfig>
{
    public override GroupedWithProratedMinimumConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedWithProratedMinimumConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithProratedMinimumConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_with_prorated_minimum pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedWithProratedMinimumGroupedWithProratedMinimumConfig>))]
public sealed record class GroupedWithProratedMinimumGroupedWithProratedMinimumConfig
    : ModelBase,
        IFromRaw<GroupedWithProratedMinimumGroupedWithProratedMinimumConfig>
{
    /// <summary>
    /// How to determine the groups that should each have a minimum
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The minimum amount to charge per group
    /// </summary>
    public required string Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum' cannot be null",
                    new System::ArgumentOutOfRangeException("minimum", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum' cannot be null",
                    new System::ArgumentNullException("minimum")
                );
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The amount to charge per unit
    /// </summary>
    public required string UnitRate
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_rate", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_rate' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_rate",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_rate' cannot be null",
                    new System::ArgumentNullException("unit_rate")
                );
        }
        init
        {
            this._rawData["unit_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.Minimum;
        _ = this.UnitRate;
    }

    public GroupedWithProratedMinimumGroupedWithProratedMinimumConfig() { }

    public GroupedWithProratedMinimumGroupedWithProratedMinimumConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedWithProratedMinimumGroupedWithProratedMinimumConfig(
        FrozenDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithProratedMinimumGroupedWithProratedMinimumConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedWithProratedMinimumModelType
{
    public JsonElement Json { get; private init; }

    public GroupedWithProratedMinimumModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_with_prorated_minimum\"");
    }

    GroupedWithProratedMinimumModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedWithProratedMinimumModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'GroupedWithProratedMinimumModelType'"
            );
        }
    }

    class Converter : JsonConverter<GroupedWithProratedMinimumModelType>
    {
        public override GroupedWithProratedMinimumModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedWithProratedMinimumModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedWithProratedMinimumPriceTypeConverter))]
public enum GroupedWithProratedMinimumPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedWithProratedMinimumPriceTypeConverter
    : JsonConverter<GroupedWithProratedMinimumPriceType>
{
    public override GroupedWithProratedMinimumPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedWithProratedMinimumPriceType.UsagePrice,
            "fixed_price" => GroupedWithProratedMinimumPriceType.FixedPrice,
            "composite_price" => GroupedWithProratedMinimumPriceType.CompositePrice,
            _ => (GroupedWithProratedMinimumPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithProratedMinimumPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithProratedMinimumPriceType.UsagePrice => "usage_price",
                GroupedWithProratedMinimumPriceType.FixedPrice => "fixed_price",
                GroupedWithProratedMinimumPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<GroupedWithMeteredMinimum>))]
public sealed record class GroupedWithMeteredMinimum
    : ModelBase,
        IFromRaw<GroupedWithMeteredMinimum>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMeteredMinimumBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, GroupedWithMeteredMinimumBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMeteredMinimumCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedWithMeteredMinimumCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter18>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter18>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedWithMeteredMinimumConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedWithMeteredMinimumConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_with_metered_minimum pricing
    /// </summary>
    public required GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig GroupedWithMeteredMinimumConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "grouped_with_metered_minimum_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'grouped_with_metered_minimum_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_with_metered_minimum_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_with_metered_minimum_config' cannot be null",
                    new System::ArgumentNullException("grouped_with_metered_minimum_config")
                );
        }
        init
        {
            this._rawData["grouped_with_metered_minimum_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedWithMeteredMinimumModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithMeteredMinimumModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMeteredMinimumPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedWithMeteredMinimumPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedWithMeteredMinimumConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithMeteredMinimum()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithMeteredMinimum(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedWithMeteredMinimum(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithMeteredMinimum FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedWithMeteredMinimumBillingModeConverter))]
public enum GroupedWithMeteredMinimumBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedWithMeteredMinimumBillingModeConverter
    : JsonConverter<GroupedWithMeteredMinimumBillingMode>
{
    public override GroupedWithMeteredMinimumBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedWithMeteredMinimumBillingMode.InAdvance,
            "in_arrear" => GroupedWithMeteredMinimumBillingMode.InArrear,
            _ => (GroupedWithMeteredMinimumBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMeteredMinimumBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMeteredMinimumBillingMode.InAdvance => "in_advance",
                GroupedWithMeteredMinimumBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithMeteredMinimumCadenceConverter))]
public enum GroupedWithMeteredMinimumCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedWithMeteredMinimumCadenceConverter
    : JsonConverter<GroupedWithMeteredMinimumCadence>
{
    public override GroupedWithMeteredMinimumCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedWithMeteredMinimumCadence.OneTime,
            "monthly" => GroupedWithMeteredMinimumCadence.Monthly,
            "quarterly" => GroupedWithMeteredMinimumCadence.Quarterly,
            "semi_annual" => GroupedWithMeteredMinimumCadence.SemiAnnual,
            "annual" => GroupedWithMeteredMinimumCadence.Annual,
            "custom" => GroupedWithMeteredMinimumCadence.Custom,
            _ => (GroupedWithMeteredMinimumCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMeteredMinimumCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMeteredMinimumCadence.OneTime => "one_time",
                GroupedWithMeteredMinimumCadence.Monthly => "monthly",
                GroupedWithMeteredMinimumCadence.Quarterly => "quarterly",
                GroupedWithMeteredMinimumCadence.SemiAnnual => "semi_annual",
                GroupedWithMeteredMinimumCadence.Annual => "annual",
                GroupedWithMeteredMinimumCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter18>))]
public sealed record class CompositePriceFilter18 : ModelBase, IFromRaw<CompositePriceFilter18>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter18Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter18Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter18Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter18Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter18() { }

    public CompositePriceFilter18(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter18(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter18 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter18FieldConverter))]
public enum CompositePriceFilter18Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter18FieldConverter : JsonConverter<CompositePriceFilter18Field>
{
    public override CompositePriceFilter18Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter18Field.PriceID,
            "item_id" => CompositePriceFilter18Field.ItemID,
            "price_type" => CompositePriceFilter18Field.PriceType,
            "currency" => CompositePriceFilter18Field.Currency,
            "pricing_unit_id" => CompositePriceFilter18Field.PricingUnitID,
            _ => (CompositePriceFilter18Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter18Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter18Field.PriceID => "price_id",
                CompositePriceFilter18Field.ItemID => "item_id",
                CompositePriceFilter18Field.PriceType => "price_type",
                CompositePriceFilter18Field.Currency => "currency",
                CompositePriceFilter18Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter18OperatorConverter))]
public enum CompositePriceFilter18Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter18OperatorConverter : JsonConverter<CompositePriceFilter18Operator>
{
    public override CompositePriceFilter18Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter18Operator.Includes,
            "excludes" => CompositePriceFilter18Operator.Excludes,
            _ => (CompositePriceFilter18Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter18Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter18Operator.Includes => "includes",
                CompositePriceFilter18Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithMeteredMinimumConversionRateConfigConverter))]
public record class GroupedWithMeteredMinimumConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedWithMeteredMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithMeteredMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithMeteredMinimumConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedWithMeteredMinimumConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithMeteredMinimumConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedWithMeteredMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedWithMeteredMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithMeteredMinimumConversionRateConfig"
            );
        }
    }
}

sealed class GroupedWithMeteredMinimumConversionRateConfigConverter
    : JsonConverter<GroupedWithMeteredMinimumConversionRateConfig>
{
    public override GroupedWithMeteredMinimumConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedWithMeteredMinimumConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMeteredMinimumConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_with_metered_minimum pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig>))]
public sealed record class GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig
    : ModelBase,
        IFromRaw<GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig>
{
    /// <summary>
    /// Used to partition the usage into groups. The minimum amount is applied to
    /// each group.
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The minimum amount to charge per group per unit
    /// </summary>
    public required string MinimumUnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum_unit_amount' cannot be null",
                    new System::ArgumentNullException("minimum_unit_amount")
                );
        }
        init
        {
            this._rawData["minimum_unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Used to determine the unit rate
    /// </summary>
    public required string PricingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("pricing_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'pricing_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "pricing_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'pricing_key' cannot be null",
                    new System::ArgumentNullException("pricing_key")
                );
        }
        init
        {
            this._rawData["pricing_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Scale the unit rates by the scaling factor.
    /// </summary>
    public required List<ScalingFactor1> ScalingFactors
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_factors", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_factors' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_factors",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<ScalingFactor1>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'scaling_factors' cannot be null",
                    new System::ArgumentNullException("scaling_factors")
                );
        }
        init
        {
            this._rawData["scaling_factors"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Used to determine the unit rate scaling factor
    /// </summary>
    public required string ScalingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'scaling_key' cannot be null",
                    new System::ArgumentNullException("scaling_key")
                );
        }
        init
        {
            this._rawData["scaling_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply per unit pricing to each pricing value. The minimum amount is applied
    /// any unmatched usage.
    /// </summary>
    public required List<UnitAmount3> UnitAmounts
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amounts", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amounts' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amounts",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<UnitAmount3>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'unit_amounts' cannot be null",
                    new System::ArgumentNullException("unit_amounts")
                );
        }
        init
        {
            this._rawData["unit_amounts"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.MinimumUnitAmount;
        _ = this.PricingKey;
        foreach (var item in this.ScalingFactors)
        {
            item.Validate();
        }
        _ = this.ScalingKey;
        foreach (var item in this.UnitAmounts)
        {
            item.Validate();
        }
    }

    public GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig() { }

    public GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig(
        FrozenDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithMeteredMinimumGroupedWithMeteredMinimumConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a scaling factor
/// </summary>
[JsonConverter(typeof(ModelConverter<ScalingFactor1>))]
public sealed record class ScalingFactor1 : ModelBase, IFromRaw<ScalingFactor1>
{
    /// <summary>
    /// Scaling factor
    /// </summary>
    public required string ScalingFactor
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_factor", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_factor",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentNullException("scaling_factor")
                );
        }
        init
        {
            this._rawData["scaling_factor"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Scaling value
    /// </summary>
    public required string ScalingValue
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'scaling_value' cannot be null",
                    new System::ArgumentNullException("scaling_value")
                );
        }
        init
        {
            this._rawData["scaling_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ScalingFactor;
        _ = this.ScalingValue;
    }

    public ScalingFactor1() { }

    public ScalingFactor1(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    ScalingFactor1(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ScalingFactor1 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a unit amount
/// </summary>
[JsonConverter(typeof(ModelConverter<UnitAmount3>))]
public sealed record class UnitAmount3 : ModelBase, IFromRaw<UnitAmount3>
{
    /// <summary>
    /// Pricing value
    /// </summary>
    public required string PricingValue
    {
        get
        {
            if (!this._rawData.TryGetValue("pricing_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'pricing_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "pricing_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'pricing_value' cannot be null",
                    new System::ArgumentNullException("pricing_value")
                );
        }
        init
        {
            this._rawData["pricing_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PricingValue;
        _ = this.UnitAmount;
    }

    public UnitAmount3() { }

    public UnitAmount3(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    UnitAmount3(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitAmount3 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedWithMeteredMinimumModelType
{
    public JsonElement Json { get; private init; }

    public GroupedWithMeteredMinimumModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_with_metered_minimum\"");
    }

    GroupedWithMeteredMinimumModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedWithMeteredMinimumModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'GroupedWithMeteredMinimumModelType'"
            );
        }
    }

    class Converter : JsonConverter<GroupedWithMeteredMinimumModelType>
    {
        public override GroupedWithMeteredMinimumModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedWithMeteredMinimumModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedWithMeteredMinimumPriceTypeConverter))]
public enum GroupedWithMeteredMinimumPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedWithMeteredMinimumPriceTypeConverter
    : JsonConverter<GroupedWithMeteredMinimumPriceType>
{
    public override GroupedWithMeteredMinimumPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedWithMeteredMinimumPriceType.UsagePrice,
            "fixed_price" => GroupedWithMeteredMinimumPriceType.FixedPrice,
            "composite_price" => GroupedWithMeteredMinimumPriceType.CompositePrice,
            _ => (GroupedWithMeteredMinimumPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMeteredMinimumPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMeteredMinimumPriceType.UsagePrice => "usage_price",
                GroupedWithMeteredMinimumPriceType.FixedPrice => "fixed_price",
                GroupedWithMeteredMinimumPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<GroupedWithMinMaxThresholds>))]
public sealed record class GroupedWithMinMaxThresholds
    : ModelBase,
        IFromRaw<GroupedWithMinMaxThresholds>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMinMaxThresholdsBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, GroupedWithMinMaxThresholdsBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMinMaxThresholdsCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedWithMinMaxThresholdsCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter19>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter19>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedWithMinMaxThresholdsConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedWithMinMaxThresholdsConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_with_min_max_thresholds pricing
    /// </summary>
    public required GroupedWithMinMaxThresholdsConfig GroupedWithMinMaxThresholdsConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "grouped_with_min_max_thresholds_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'grouped_with_min_max_thresholds_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_with_min_max_thresholds_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithMinMaxThresholdsConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_with_min_max_thresholds_config' cannot be null",
                    new System::ArgumentNullException("grouped_with_min_max_thresholds_config")
                );
        }
        init
        {
            this._rawData["grouped_with_min_max_thresholds_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedWithMinMaxThresholdsModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedWithMinMaxThresholdsModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedWithMinMaxThresholdsPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, GroupedWithMinMaxThresholdsPriceType>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedWithMinMaxThresholdsConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithMinMaxThresholds()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedWithMinMaxThresholds(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedWithMinMaxThresholds(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithMinMaxThresholds FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedWithMinMaxThresholdsBillingModeConverter))]
public enum GroupedWithMinMaxThresholdsBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedWithMinMaxThresholdsBillingModeConverter
    : JsonConverter<GroupedWithMinMaxThresholdsBillingMode>
{
    public override GroupedWithMinMaxThresholdsBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedWithMinMaxThresholdsBillingMode.InAdvance,
            "in_arrear" => GroupedWithMinMaxThresholdsBillingMode.InArrear,
            _ => (GroupedWithMinMaxThresholdsBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMinMaxThresholdsBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMinMaxThresholdsBillingMode.InAdvance => "in_advance",
                GroupedWithMinMaxThresholdsBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithMinMaxThresholdsCadenceConverter))]
public enum GroupedWithMinMaxThresholdsCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedWithMinMaxThresholdsCadenceConverter
    : JsonConverter<GroupedWithMinMaxThresholdsCadence>
{
    public override GroupedWithMinMaxThresholdsCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedWithMinMaxThresholdsCadence.OneTime,
            "monthly" => GroupedWithMinMaxThresholdsCadence.Monthly,
            "quarterly" => GroupedWithMinMaxThresholdsCadence.Quarterly,
            "semi_annual" => GroupedWithMinMaxThresholdsCadence.SemiAnnual,
            "annual" => GroupedWithMinMaxThresholdsCadence.Annual,
            "custom" => GroupedWithMinMaxThresholdsCadence.Custom,
            _ => (GroupedWithMinMaxThresholdsCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMinMaxThresholdsCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMinMaxThresholdsCadence.OneTime => "one_time",
                GroupedWithMinMaxThresholdsCadence.Monthly => "monthly",
                GroupedWithMinMaxThresholdsCadence.Quarterly => "quarterly",
                GroupedWithMinMaxThresholdsCadence.SemiAnnual => "semi_annual",
                GroupedWithMinMaxThresholdsCadence.Annual => "annual",
                GroupedWithMinMaxThresholdsCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter19>))]
public sealed record class CompositePriceFilter19 : ModelBase, IFromRaw<CompositePriceFilter19>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter19Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter19Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter19Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter19Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter19() { }

    public CompositePriceFilter19(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter19(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter19 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter19FieldConverter))]
public enum CompositePriceFilter19Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter19FieldConverter : JsonConverter<CompositePriceFilter19Field>
{
    public override CompositePriceFilter19Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter19Field.PriceID,
            "item_id" => CompositePriceFilter19Field.ItemID,
            "price_type" => CompositePriceFilter19Field.PriceType,
            "currency" => CompositePriceFilter19Field.Currency,
            "pricing_unit_id" => CompositePriceFilter19Field.PricingUnitID,
            _ => (CompositePriceFilter19Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter19Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter19Field.PriceID => "price_id",
                CompositePriceFilter19Field.ItemID => "item_id",
                CompositePriceFilter19Field.PriceType => "price_type",
                CompositePriceFilter19Field.Currency => "currency",
                CompositePriceFilter19Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter19OperatorConverter))]
public enum CompositePriceFilter19Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter19OperatorConverter : JsonConverter<CompositePriceFilter19Operator>
{
    public override CompositePriceFilter19Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter19Operator.Includes,
            "excludes" => CompositePriceFilter19Operator.Excludes,
            _ => (CompositePriceFilter19Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter19Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter19Operator.Includes => "includes",
                CompositePriceFilter19Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedWithMinMaxThresholdsConversionRateConfigConverter))]
public record class GroupedWithMinMaxThresholdsConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedWithMinMaxThresholdsConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithMinMaxThresholdsConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedWithMinMaxThresholdsConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedWithMinMaxThresholdsConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithMinMaxThresholdsConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedWithMinMaxThresholdsConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedWithMinMaxThresholdsConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedWithMinMaxThresholdsConversionRateConfig"
            );
        }
    }
}

sealed class GroupedWithMinMaxThresholdsConversionRateConfigConverter
    : JsonConverter<GroupedWithMinMaxThresholdsConversionRateConfig>
{
    public override GroupedWithMinMaxThresholdsConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedWithMinMaxThresholdsConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMinMaxThresholdsConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_with_min_max_thresholds pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedWithMinMaxThresholdsConfig>))]
public sealed record class GroupedWithMinMaxThresholdsConfig
    : ModelBase,
        IFromRaw<GroupedWithMinMaxThresholdsConfig>
{
    /// <summary>
    /// The event property used to group before applying thresholds
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The maximum amount to charge each group
    /// </summary>
    public required string MaximumCharge
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_charge", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'maximum_charge' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "maximum_charge",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'maximum_charge' cannot be null",
                    new System::ArgumentNullException("maximum_charge")
                );
        }
        init
        {
            this._rawData["maximum_charge"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The minimum amount to charge each group, regardless of usage
    /// </summary>
    public required string MinimumCharge
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_charge", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_charge' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_charge",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum_charge' cannot be null",
                    new System::ArgumentNullException("minimum_charge")
                );
        }
        init
        {
            this._rawData["minimum_charge"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The base price charged per group
    /// </summary>
    public required string PerUnitRate
    {
        get
        {
            if (!this._rawData.TryGetValue("per_unit_rate", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'per_unit_rate' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "per_unit_rate",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'per_unit_rate' cannot be null",
                    new System::ArgumentNullException("per_unit_rate")
                );
        }
        init
        {
            this._rawData["per_unit_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.MaximumCharge;
        _ = this.MinimumCharge;
        _ = this.PerUnitRate;
    }

    public GroupedWithMinMaxThresholdsConfig() { }

    public GroupedWithMinMaxThresholdsConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedWithMinMaxThresholdsConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedWithMinMaxThresholdsConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedWithMinMaxThresholdsModelType
{
    public JsonElement Json { get; private init; }

    public GroupedWithMinMaxThresholdsModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_with_min_max_thresholds\"");
    }

    GroupedWithMinMaxThresholdsModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedWithMinMaxThresholdsModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'GroupedWithMinMaxThresholdsModelType'"
            );
        }
    }

    class Converter : JsonConverter<GroupedWithMinMaxThresholdsModelType>
    {
        public override GroupedWithMinMaxThresholdsModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedWithMinMaxThresholdsModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedWithMinMaxThresholdsPriceTypeConverter))]
public enum GroupedWithMinMaxThresholdsPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedWithMinMaxThresholdsPriceTypeConverter
    : JsonConverter<GroupedWithMinMaxThresholdsPriceType>
{
    public override GroupedWithMinMaxThresholdsPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedWithMinMaxThresholdsPriceType.UsagePrice,
            "fixed_price" => GroupedWithMinMaxThresholdsPriceType.FixedPrice,
            "composite_price" => GroupedWithMinMaxThresholdsPriceType.CompositePrice,
            _ => (GroupedWithMinMaxThresholdsPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedWithMinMaxThresholdsPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedWithMinMaxThresholdsPriceType.UsagePrice => "usage_price",
                GroupedWithMinMaxThresholdsPriceType.FixedPrice => "fixed_price",
                GroupedWithMinMaxThresholdsPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<MatrixWithDisplayName>))]
public sealed record class MatrixWithDisplayName : ModelBase, IFromRaw<MatrixWithDisplayName>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithDisplayNameBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithDisplayNameBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithDisplayNameCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithDisplayNameCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter20>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter20>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required MatrixWithDisplayNameConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<MatrixWithDisplayNameConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for matrix_with_display_name pricing
    /// </summary>
    public required MatrixWithDisplayNameMatrixWithDisplayNameConfig MatrixWithDisplayNameConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "matrix_with_display_name_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'matrix_with_display_name_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "matrix_with_display_name_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixWithDisplayNameMatrixWithDisplayNameConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'matrix_with_display_name_config' cannot be null",
                    new System::ArgumentNullException("matrix_with_display_name_config")
                );
        }
        init
        {
            this._rawData["matrix_with_display_name_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public MatrixWithDisplayNameModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MatrixWithDisplayNameModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MatrixWithDisplayNamePriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MatrixWithDisplayNamePriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.MatrixWithDisplayNameConfig.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MatrixWithDisplayName()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MatrixWithDisplayName(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    MatrixWithDisplayName(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MatrixWithDisplayName FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(MatrixWithDisplayNameBillingModeConverter))]
public enum MatrixWithDisplayNameBillingMode
{
    InAdvance,
    InArrear,
}

sealed class MatrixWithDisplayNameBillingModeConverter
    : JsonConverter<MatrixWithDisplayNameBillingMode>
{
    public override MatrixWithDisplayNameBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => MatrixWithDisplayNameBillingMode.InAdvance,
            "in_arrear" => MatrixWithDisplayNameBillingMode.InArrear,
            _ => (MatrixWithDisplayNameBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithDisplayNameBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithDisplayNameBillingMode.InAdvance => "in_advance",
                MatrixWithDisplayNameBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixWithDisplayNameCadenceConverter))]
public enum MatrixWithDisplayNameCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class MatrixWithDisplayNameCadenceConverter : JsonConverter<MatrixWithDisplayNameCadence>
{
    public override MatrixWithDisplayNameCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => MatrixWithDisplayNameCadence.OneTime,
            "monthly" => MatrixWithDisplayNameCadence.Monthly,
            "quarterly" => MatrixWithDisplayNameCadence.Quarterly,
            "semi_annual" => MatrixWithDisplayNameCadence.SemiAnnual,
            "annual" => MatrixWithDisplayNameCadence.Annual,
            "custom" => MatrixWithDisplayNameCadence.Custom,
            _ => (MatrixWithDisplayNameCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithDisplayNameCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithDisplayNameCadence.OneTime => "one_time",
                MatrixWithDisplayNameCadence.Monthly => "monthly",
                MatrixWithDisplayNameCadence.Quarterly => "quarterly",
                MatrixWithDisplayNameCadence.SemiAnnual => "semi_annual",
                MatrixWithDisplayNameCadence.Annual => "annual",
                MatrixWithDisplayNameCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter20>))]
public sealed record class CompositePriceFilter20 : ModelBase, IFromRaw<CompositePriceFilter20>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter20Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter20Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter20Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter20Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter20() { }

    public CompositePriceFilter20(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter20(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter20 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter20FieldConverter))]
public enum CompositePriceFilter20Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter20FieldConverter : JsonConverter<CompositePriceFilter20Field>
{
    public override CompositePriceFilter20Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter20Field.PriceID,
            "item_id" => CompositePriceFilter20Field.ItemID,
            "price_type" => CompositePriceFilter20Field.PriceType,
            "currency" => CompositePriceFilter20Field.Currency,
            "pricing_unit_id" => CompositePriceFilter20Field.PricingUnitID,
            _ => (CompositePriceFilter20Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter20Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter20Field.PriceID => "price_id",
                CompositePriceFilter20Field.ItemID => "item_id",
                CompositePriceFilter20Field.PriceType => "price_type",
                CompositePriceFilter20Field.Currency => "currency",
                CompositePriceFilter20Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter20OperatorConverter))]
public enum CompositePriceFilter20Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter20OperatorConverter : JsonConverter<CompositePriceFilter20Operator>
{
    public override CompositePriceFilter20Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter20Operator.Includes,
            "excludes" => CompositePriceFilter20Operator.Excludes,
            _ => (CompositePriceFilter20Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter20Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter20Operator.Includes => "includes",
                CompositePriceFilter20Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MatrixWithDisplayNameConversionRateConfigConverter))]
public record class MatrixWithDisplayNameConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public MatrixWithDisplayNameConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixWithDisplayNameConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MatrixWithDisplayNameConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of MatrixWithDisplayNameConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixWithDisplayNameConversionRateConfig"
            ),
        };
    }

    public static implicit operator MatrixWithDisplayNameConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator MatrixWithDisplayNameConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of MatrixWithDisplayNameConversionRateConfig"
            );
        }
    }
}

sealed class MatrixWithDisplayNameConversionRateConfigConverter
    : JsonConverter<MatrixWithDisplayNameConversionRateConfig>
{
    public override MatrixWithDisplayNameConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new MatrixWithDisplayNameConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithDisplayNameConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for matrix_with_display_name pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<MatrixWithDisplayNameMatrixWithDisplayNameConfig>))]
public sealed record class MatrixWithDisplayNameMatrixWithDisplayNameConfig
    : ModelBase,
        IFromRaw<MatrixWithDisplayNameMatrixWithDisplayNameConfig>
{
    /// <summary>
    /// Used to determine the unit rate
    /// </summary>
    public required string Dimension
    {
        get
        {
            if (!this._rawData.TryGetValue("dimension", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'dimension' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "dimension",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'dimension' cannot be null",
                    new System::ArgumentNullException("dimension")
                );
        }
        init
        {
            this._rawData["dimension"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply per unit pricing to each dimension value
    /// </summary>
    public required List<UnitAmount4> UnitAmounts
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amounts", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amounts' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amounts",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<UnitAmount4>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'unit_amounts' cannot be null",
                    new System::ArgumentNullException("unit_amounts")
                );
        }
        init
        {
            this._rawData["unit_amounts"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Dimension;
        foreach (var item in this.UnitAmounts)
        {
            item.Validate();
        }
    }

    public MatrixWithDisplayNameMatrixWithDisplayNameConfig() { }

    public MatrixWithDisplayNameMatrixWithDisplayNameConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    MatrixWithDisplayNameMatrixWithDisplayNameConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MatrixWithDisplayNameMatrixWithDisplayNameConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a unit amount item
/// </summary>
[JsonConverter(typeof(ModelConverter<UnitAmount4>))]
public sealed record class UnitAmount4 : ModelBase, IFromRaw<UnitAmount4>
{
    /// <summary>
    /// The dimension value
    /// </summary>
    public required string DimensionValue
    {
        get
        {
            if (!this._rawData.TryGetValue("dimension_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'dimension_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "dimension_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'dimension_value' cannot be null",
                    new System::ArgumentNullException("dimension_value")
                );
        }
        init
        {
            this._rawData["dimension_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Display name for this dimension value
    /// </summary>
    public required string DisplayName
    {
        get
        {
            if (!this._rawData.TryGetValue("display_name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'display_name' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "display_name",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'display_name' cannot be null",
                    new System::ArgumentNullException("display_name")
                );
        }
        init
        {
            this._rawData["display_name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.DimensionValue;
        _ = this.DisplayName;
        _ = this.UnitAmount;
    }

    public UnitAmount4() { }

    public UnitAmount4(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    UnitAmount4(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static UnitAmount4 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class MatrixWithDisplayNameModelType
{
    public JsonElement Json { get; private init; }

    public MatrixWithDisplayNameModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"matrix_with_display_name\"");
    }

    MatrixWithDisplayNameModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new MatrixWithDisplayNameModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'MatrixWithDisplayNameModelType'"
            );
        }
    }

    class Converter : JsonConverter<MatrixWithDisplayNameModelType>
    {
        public override MatrixWithDisplayNameModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            MatrixWithDisplayNameModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(MatrixWithDisplayNamePriceTypeConverter))]
public enum MatrixWithDisplayNamePriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class MatrixWithDisplayNamePriceTypeConverter : JsonConverter<MatrixWithDisplayNamePriceType>
{
    public override MatrixWithDisplayNamePriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => MatrixWithDisplayNamePriceType.UsagePrice,
            "fixed_price" => MatrixWithDisplayNamePriceType.FixedPrice,
            "composite_price" => MatrixWithDisplayNamePriceType.CompositePrice,
            _ => (MatrixWithDisplayNamePriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MatrixWithDisplayNamePriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MatrixWithDisplayNamePriceType.UsagePrice => "usage_price",
                MatrixWithDisplayNamePriceType.FixedPrice => "fixed_price",
                MatrixWithDisplayNamePriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<GroupedTieredPackage>))]
public sealed record class GroupedTieredPackage : ModelBase, IFromRaw<GroupedTieredPackage>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredPackageBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredPackageBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredPackageCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredPackageCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter21>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter21>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required GroupedTieredPackageConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<GroupedTieredPackageConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for grouped_tiered_package pricing
    /// </summary>
    public required GroupedTieredPackageGroupedTieredPackageConfig GroupedTieredPackageConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue("grouped_tiered_package_config", out JsonElement element)
            )
                throw new OrbInvalidDataException(
                    "'grouped_tiered_package_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouped_tiered_package_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedTieredPackageGroupedTieredPackageConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'grouped_tiered_package_config' cannot be null",
                    new System::ArgumentNullException("grouped_tiered_package_config")
                );
        }
        init
        {
            this._rawData["grouped_tiered_package_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public GroupedTieredPackageModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<GroupedTieredPackageModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, GroupedTieredPackagePriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, GroupedTieredPackagePriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.GroupedTieredPackageConfig.Validate();
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedTieredPackage()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public GroupedTieredPackage(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    GroupedTieredPackage(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedTieredPackage FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(GroupedTieredPackageBillingModeConverter))]
public enum GroupedTieredPackageBillingMode
{
    InAdvance,
    InArrear,
}

sealed class GroupedTieredPackageBillingModeConverter
    : JsonConverter<GroupedTieredPackageBillingMode>
{
    public override GroupedTieredPackageBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => GroupedTieredPackageBillingMode.InAdvance,
            "in_arrear" => GroupedTieredPackageBillingMode.InArrear,
            _ => (GroupedTieredPackageBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredPackageBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredPackageBillingMode.InAdvance => "in_advance",
                GroupedTieredPackageBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedTieredPackageCadenceConverter))]
public enum GroupedTieredPackageCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class GroupedTieredPackageCadenceConverter : JsonConverter<GroupedTieredPackageCadence>
{
    public override GroupedTieredPackageCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => GroupedTieredPackageCadence.OneTime,
            "monthly" => GroupedTieredPackageCadence.Monthly,
            "quarterly" => GroupedTieredPackageCadence.Quarterly,
            "semi_annual" => GroupedTieredPackageCadence.SemiAnnual,
            "annual" => GroupedTieredPackageCadence.Annual,
            "custom" => GroupedTieredPackageCadence.Custom,
            _ => (GroupedTieredPackageCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredPackageCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredPackageCadence.OneTime => "one_time",
                GroupedTieredPackageCadence.Monthly => "monthly",
                GroupedTieredPackageCadence.Quarterly => "quarterly",
                GroupedTieredPackageCadence.SemiAnnual => "semi_annual",
                GroupedTieredPackageCadence.Annual => "annual",
                GroupedTieredPackageCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter21>))]
public sealed record class CompositePriceFilter21 : ModelBase, IFromRaw<CompositePriceFilter21>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter21Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter21Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter21Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter21Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter21() { }

    public CompositePriceFilter21(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter21(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter21 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter21FieldConverter))]
public enum CompositePriceFilter21Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter21FieldConverter : JsonConverter<CompositePriceFilter21Field>
{
    public override CompositePriceFilter21Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter21Field.PriceID,
            "item_id" => CompositePriceFilter21Field.ItemID,
            "price_type" => CompositePriceFilter21Field.PriceType,
            "currency" => CompositePriceFilter21Field.Currency,
            "pricing_unit_id" => CompositePriceFilter21Field.PricingUnitID,
            _ => (CompositePriceFilter21Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter21Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter21Field.PriceID => "price_id",
                CompositePriceFilter21Field.ItemID => "item_id",
                CompositePriceFilter21Field.PriceType => "price_type",
                CompositePriceFilter21Field.Currency => "currency",
                CompositePriceFilter21Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter21OperatorConverter))]
public enum CompositePriceFilter21Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter21OperatorConverter : JsonConverter<CompositePriceFilter21Operator>
{
    public override CompositePriceFilter21Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter21Operator.Includes,
            "excludes" => CompositePriceFilter21Operator.Excludes,
            _ => (CompositePriceFilter21Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter21Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter21Operator.Includes => "includes",
                CompositePriceFilter21Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(GroupedTieredPackageConversionRateConfigConverter))]
public record class GroupedTieredPackageConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public GroupedTieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedTieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public GroupedTieredPackageConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of GroupedTieredPackageConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedTieredPackageConversionRateConfig"
            ),
        };
    }

    public static implicit operator GroupedTieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator GroupedTieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of GroupedTieredPackageConversionRateConfig"
            );
        }
    }
}

sealed class GroupedTieredPackageConversionRateConfigConverter
    : JsonConverter<GroupedTieredPackageConversionRateConfig>
{
    public override GroupedTieredPackageConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new GroupedTieredPackageConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredPackageConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for grouped_tiered_package pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<GroupedTieredPackageGroupedTieredPackageConfig>))]
public sealed record class GroupedTieredPackageGroupedTieredPackageConfig
    : ModelBase,
        IFromRaw<GroupedTieredPackageGroupedTieredPackageConfig>
{
    /// <summary>
    /// The event property used to group before tiering
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Package size
    /// </summary>
    public required string PackageSize
    {
        get
        {
            if (!this._rawData.TryGetValue("package_size", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_size",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentNullException("package_size")
                );
        }
        init
        {
            this._rawData["package_size"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply tiered pricing after rounding up the quantity to the package size.
    /// Tiers are defined using exclusive lower bounds.
    /// </summary>
    public required List<Tier23> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier23>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.PackageSize;
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public GroupedTieredPackageGroupedTieredPackageConfig() { }

    public GroupedTieredPackageGroupedTieredPackageConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    GroupedTieredPackageGroupedTieredPackageConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static GroupedTieredPackageGroupedTieredPackageConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier23>))]
public sealed record class Tier23 : ModelBase, IFromRaw<Tier23>
{
    /// <summary>
    /// Price per package
    /// </summary>
    public required string PerUnit
    {
        get
        {
            if (!this._rawData.TryGetValue("per_unit", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentOutOfRangeException("per_unit", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'per_unit' cannot be null",
                    new System::ArgumentNullException("per_unit")
                );
        }
        init
        {
            this._rawData["per_unit"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.PerUnit;
        _ = this.TierLowerBound;
    }

    public Tier23() { }

    public Tier23(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier23(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier23 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class GroupedTieredPackageModelType
{
    public JsonElement Json { get; private init; }

    public GroupedTieredPackageModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"grouped_tiered_package\"");
    }

    GroupedTieredPackageModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new GroupedTieredPackageModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'GroupedTieredPackageModelType'"
            );
        }
    }

    class Converter : JsonConverter<GroupedTieredPackageModelType>
    {
        public override GroupedTieredPackageModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            GroupedTieredPackageModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(GroupedTieredPackagePriceTypeConverter))]
public enum GroupedTieredPackagePriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class GroupedTieredPackagePriceTypeConverter : JsonConverter<GroupedTieredPackagePriceType>
{
    public override GroupedTieredPackagePriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => GroupedTieredPackagePriceType.UsagePrice,
            "fixed_price" => GroupedTieredPackagePriceType.FixedPrice,
            "composite_price" => GroupedTieredPackagePriceType.CompositePrice,
            _ => (GroupedTieredPackagePriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        GroupedTieredPackagePriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                GroupedTieredPackagePriceType.UsagePrice => "usage_price",
                GroupedTieredPackagePriceType.FixedPrice => "fixed_price",
                GroupedTieredPackagePriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<MaxGroupTieredPackage>))]
public sealed record class MaxGroupTieredPackage : ModelBase, IFromRaw<MaxGroupTieredPackage>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MaxGroupTieredPackageBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MaxGroupTieredPackageBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MaxGroupTieredPackageCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MaxGroupTieredPackageCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter22>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter22>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required MaxGroupTieredPackageConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<MaxGroupTieredPackageConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for max_group_tiered_package pricing
    /// </summary>
    public required MaxGroupTieredPackageMaxGroupTieredPackageConfig MaxGroupTieredPackageConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "max_group_tiered_package_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'max_group_tiered_package_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "max_group_tiered_package_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MaxGroupTieredPackageMaxGroupTieredPackageConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'max_group_tiered_package_config' cannot be null",
                    new System::ArgumentNullException("max_group_tiered_package_config")
                );
        }
        init
        {
            this._rawData["max_group_tiered_package_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public MaxGroupTieredPackageModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<MaxGroupTieredPackageModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, MaxGroupTieredPackagePriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, MaxGroupTieredPackagePriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.MaxGroupTieredPackageConfig.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MaxGroupTieredPackage()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public MaxGroupTieredPackage(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    MaxGroupTieredPackage(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MaxGroupTieredPackage FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(MaxGroupTieredPackageBillingModeConverter))]
public enum MaxGroupTieredPackageBillingMode
{
    InAdvance,
    InArrear,
}

sealed class MaxGroupTieredPackageBillingModeConverter
    : JsonConverter<MaxGroupTieredPackageBillingMode>
{
    public override MaxGroupTieredPackageBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => MaxGroupTieredPackageBillingMode.InAdvance,
            "in_arrear" => MaxGroupTieredPackageBillingMode.InArrear,
            _ => (MaxGroupTieredPackageBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MaxGroupTieredPackageBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MaxGroupTieredPackageBillingMode.InAdvance => "in_advance",
                MaxGroupTieredPackageBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MaxGroupTieredPackageCadenceConverter))]
public enum MaxGroupTieredPackageCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class MaxGroupTieredPackageCadenceConverter : JsonConverter<MaxGroupTieredPackageCadence>
{
    public override MaxGroupTieredPackageCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => MaxGroupTieredPackageCadence.OneTime,
            "monthly" => MaxGroupTieredPackageCadence.Monthly,
            "quarterly" => MaxGroupTieredPackageCadence.Quarterly,
            "semi_annual" => MaxGroupTieredPackageCadence.SemiAnnual,
            "annual" => MaxGroupTieredPackageCadence.Annual,
            "custom" => MaxGroupTieredPackageCadence.Custom,
            _ => (MaxGroupTieredPackageCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MaxGroupTieredPackageCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MaxGroupTieredPackageCadence.OneTime => "one_time",
                MaxGroupTieredPackageCadence.Monthly => "monthly",
                MaxGroupTieredPackageCadence.Quarterly => "quarterly",
                MaxGroupTieredPackageCadence.SemiAnnual => "semi_annual",
                MaxGroupTieredPackageCadence.Annual => "annual",
                MaxGroupTieredPackageCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter22>))]
public sealed record class CompositePriceFilter22 : ModelBase, IFromRaw<CompositePriceFilter22>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter22Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter22Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter22Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter22Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter22() { }

    public CompositePriceFilter22(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter22(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter22 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter22FieldConverter))]
public enum CompositePriceFilter22Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter22FieldConverter : JsonConverter<CompositePriceFilter22Field>
{
    public override CompositePriceFilter22Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter22Field.PriceID,
            "item_id" => CompositePriceFilter22Field.ItemID,
            "price_type" => CompositePriceFilter22Field.PriceType,
            "currency" => CompositePriceFilter22Field.Currency,
            "pricing_unit_id" => CompositePriceFilter22Field.PricingUnitID,
            _ => (CompositePriceFilter22Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter22Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter22Field.PriceID => "price_id",
                CompositePriceFilter22Field.ItemID => "item_id",
                CompositePriceFilter22Field.PriceType => "price_type",
                CompositePriceFilter22Field.Currency => "currency",
                CompositePriceFilter22Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter22OperatorConverter))]
public enum CompositePriceFilter22Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter22OperatorConverter : JsonConverter<CompositePriceFilter22Operator>
{
    public override CompositePriceFilter22Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter22Operator.Includes,
            "excludes" => CompositePriceFilter22Operator.Excludes,
            _ => (CompositePriceFilter22Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter22Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter22Operator.Includes => "includes",
                CompositePriceFilter22Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(MaxGroupTieredPackageConversionRateConfigConverter))]
public record class MaxGroupTieredPackageConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public MaxGroupTieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MaxGroupTieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public MaxGroupTieredPackageConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of MaxGroupTieredPackageConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of MaxGroupTieredPackageConversionRateConfig"
            ),
        };
    }

    public static implicit operator MaxGroupTieredPackageConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator MaxGroupTieredPackageConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of MaxGroupTieredPackageConversionRateConfig"
            );
        }
    }
}

sealed class MaxGroupTieredPackageConversionRateConfigConverter
    : JsonConverter<MaxGroupTieredPackageConversionRateConfig>
{
    public override MaxGroupTieredPackageConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new MaxGroupTieredPackageConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        MaxGroupTieredPackageConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for max_group_tiered_package pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<MaxGroupTieredPackageMaxGroupTieredPackageConfig>))]
public sealed record class MaxGroupTieredPackageMaxGroupTieredPackageConfig
    : ModelBase,
        IFromRaw<MaxGroupTieredPackageMaxGroupTieredPackageConfig>
{
    /// <summary>
    /// The event property used to group before tiering the group with the highest value
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Package size
    /// </summary>
    public required string PackageSize
    {
        get
        {
            if (!this._rawData.TryGetValue("package_size", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "package_size",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'package_size' cannot be null",
                    new System::ArgumentNullException("package_size")
                );
        }
        init
        {
            this._rawData["package_size"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply tiered pricing to the largest group after grouping with the provided key.
    /// </summary>
    public required List<Tier24> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier24>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.PackageSize;
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
    }

    public MaxGroupTieredPackageMaxGroupTieredPackageConfig() { }

    public MaxGroupTieredPackageMaxGroupTieredPackageConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    MaxGroupTieredPackageMaxGroupTieredPackageConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MaxGroupTieredPackageMaxGroupTieredPackageConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier24>))]
public sealed record class Tier24 : ModelBase, IFromRaw<Tier24>
{
    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public Tier24() { }

    public Tier24(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier24(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier24 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class MaxGroupTieredPackageModelType
{
    public JsonElement Json { get; private init; }

    public MaxGroupTieredPackageModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"max_group_tiered_package\"");
    }

    MaxGroupTieredPackageModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new MaxGroupTieredPackageModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'MaxGroupTieredPackageModelType'"
            );
        }
    }

    class Converter : JsonConverter<MaxGroupTieredPackageModelType>
    {
        public override MaxGroupTieredPackageModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            MaxGroupTieredPackageModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(MaxGroupTieredPackagePriceTypeConverter))]
public enum MaxGroupTieredPackagePriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class MaxGroupTieredPackagePriceTypeConverter : JsonConverter<MaxGroupTieredPackagePriceType>
{
    public override MaxGroupTieredPackagePriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => MaxGroupTieredPackagePriceType.UsagePrice,
            "fixed_price" => MaxGroupTieredPackagePriceType.FixedPrice,
            "composite_price" => MaxGroupTieredPackagePriceType.CompositePrice,
            _ => (MaxGroupTieredPackagePriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        MaxGroupTieredPackagePriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                MaxGroupTieredPackagePriceType.UsagePrice => "usage_price",
                MaxGroupTieredPackagePriceType.FixedPrice => "fixed_price",
                MaxGroupTieredPackagePriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<ScalableMatrixWithUnitPricing>))]
public sealed record class ScalableMatrixWithUnitPricing
    : ModelBase,
        IFromRaw<ScalableMatrixWithUnitPricing>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithUnitPricingBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithUnitPricingBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithUnitPricingCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithUnitPricingCadence>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter23>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter23>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ScalableMatrixWithUnitPricingConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<ScalableMatrixWithUnitPricingConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public ScalableMatrixWithUnitPricingModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ScalableMatrixWithUnitPricingModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithUnitPricingPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithUnitPricingPriceType>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for scalable_matrix_with_unit_pricing pricing
    /// </summary>
    public required ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig ScalableMatrixWithUnitPricingConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "scalable_matrix_with_unit_pricing_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'scalable_matrix_with_unit_pricing_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scalable_matrix_with_unit_pricing_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'scalable_matrix_with_unit_pricing_config' cannot be null",
                    new System::ArgumentNullException("scalable_matrix_with_unit_pricing_config")
                );
        }
        init
        {
            this._rawData["scalable_matrix_with_unit_pricing_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.ScalableMatrixWithUnitPricingConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ScalableMatrixWithUnitPricing()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ScalableMatrixWithUnitPricing(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    ScalableMatrixWithUnitPricing(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ScalableMatrixWithUnitPricing FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ScalableMatrixWithUnitPricingBillingModeConverter))]
public enum ScalableMatrixWithUnitPricingBillingMode
{
    InAdvance,
    InArrear,
}

sealed class ScalableMatrixWithUnitPricingBillingModeConverter
    : JsonConverter<ScalableMatrixWithUnitPricingBillingMode>
{
    public override ScalableMatrixWithUnitPricingBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => ScalableMatrixWithUnitPricingBillingMode.InAdvance,
            "in_arrear" => ScalableMatrixWithUnitPricingBillingMode.InArrear,
            _ => (ScalableMatrixWithUnitPricingBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithUnitPricingBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithUnitPricingBillingMode.InAdvance => "in_advance",
                ScalableMatrixWithUnitPricingBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ScalableMatrixWithUnitPricingCadenceConverter))]
public enum ScalableMatrixWithUnitPricingCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class ScalableMatrixWithUnitPricingCadenceConverter
    : JsonConverter<ScalableMatrixWithUnitPricingCadence>
{
    public override ScalableMatrixWithUnitPricingCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => ScalableMatrixWithUnitPricingCadence.OneTime,
            "monthly" => ScalableMatrixWithUnitPricingCadence.Monthly,
            "quarterly" => ScalableMatrixWithUnitPricingCadence.Quarterly,
            "semi_annual" => ScalableMatrixWithUnitPricingCadence.SemiAnnual,
            "annual" => ScalableMatrixWithUnitPricingCadence.Annual,
            "custom" => ScalableMatrixWithUnitPricingCadence.Custom,
            _ => (ScalableMatrixWithUnitPricingCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithUnitPricingCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithUnitPricingCadence.OneTime => "one_time",
                ScalableMatrixWithUnitPricingCadence.Monthly => "monthly",
                ScalableMatrixWithUnitPricingCadence.Quarterly => "quarterly",
                ScalableMatrixWithUnitPricingCadence.SemiAnnual => "semi_annual",
                ScalableMatrixWithUnitPricingCadence.Annual => "annual",
                ScalableMatrixWithUnitPricingCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter23>))]
public sealed record class CompositePriceFilter23 : ModelBase, IFromRaw<CompositePriceFilter23>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter23Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter23Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter23Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter23Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter23() { }

    public CompositePriceFilter23(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter23(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter23 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter23FieldConverter))]
public enum CompositePriceFilter23Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter23FieldConverter : JsonConverter<CompositePriceFilter23Field>
{
    public override CompositePriceFilter23Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter23Field.PriceID,
            "item_id" => CompositePriceFilter23Field.ItemID,
            "price_type" => CompositePriceFilter23Field.PriceType,
            "currency" => CompositePriceFilter23Field.Currency,
            "pricing_unit_id" => CompositePriceFilter23Field.PricingUnitID,
            _ => (CompositePriceFilter23Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter23Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter23Field.PriceID => "price_id",
                CompositePriceFilter23Field.ItemID => "item_id",
                CompositePriceFilter23Field.PriceType => "price_type",
                CompositePriceFilter23Field.Currency => "currency",
                CompositePriceFilter23Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter23OperatorConverter))]
public enum CompositePriceFilter23Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter23OperatorConverter : JsonConverter<CompositePriceFilter23Operator>
{
    public override CompositePriceFilter23Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter23Operator.Includes,
            "excludes" => CompositePriceFilter23Operator.Excludes,
            _ => (CompositePriceFilter23Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter23Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter23Operator.Includes => "includes",
                CompositePriceFilter23Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ScalableMatrixWithUnitPricingConversionRateConfigConverter))]
public record class ScalableMatrixWithUnitPricingConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public ScalableMatrixWithUnitPricingConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ScalableMatrixWithUnitPricingConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ScalableMatrixWithUnitPricingConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of ScalableMatrixWithUnitPricingConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of ScalableMatrixWithUnitPricingConversionRateConfig"
            ),
        };
    }

    public static implicit operator ScalableMatrixWithUnitPricingConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator ScalableMatrixWithUnitPricingConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of ScalableMatrixWithUnitPricingConversionRateConfig"
            );
        }
    }
}

sealed class ScalableMatrixWithUnitPricingConversionRateConfigConverter
    : JsonConverter<ScalableMatrixWithUnitPricingConversionRateConfig>
{
    public override ScalableMatrixWithUnitPricingConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new ScalableMatrixWithUnitPricingConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithUnitPricingConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class ScalableMatrixWithUnitPricingModelType
{
    public JsonElement Json { get; private init; }

    public ScalableMatrixWithUnitPricingModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"scalable_matrix_with_unit_pricing\"");
    }

    ScalableMatrixWithUnitPricingModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new ScalableMatrixWithUnitPricingModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'ScalableMatrixWithUnitPricingModelType'"
            );
        }
    }

    class Converter : JsonConverter<ScalableMatrixWithUnitPricingModelType>
    {
        public override ScalableMatrixWithUnitPricingModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            ScalableMatrixWithUnitPricingModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(ScalableMatrixWithUnitPricingPriceTypeConverter))]
public enum ScalableMatrixWithUnitPricingPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class ScalableMatrixWithUnitPricingPriceTypeConverter
    : JsonConverter<ScalableMatrixWithUnitPricingPriceType>
{
    public override ScalableMatrixWithUnitPricingPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => ScalableMatrixWithUnitPricingPriceType.UsagePrice,
            "fixed_price" => ScalableMatrixWithUnitPricingPriceType.FixedPrice,
            "composite_price" => ScalableMatrixWithUnitPricingPriceType.CompositePrice,
            _ => (ScalableMatrixWithUnitPricingPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithUnitPricingPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithUnitPricingPriceType.UsagePrice => "usage_price",
                ScalableMatrixWithUnitPricingPriceType.FixedPrice => "fixed_price",
                ScalableMatrixWithUnitPricingPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for scalable_matrix_with_unit_pricing pricing
/// </summary>
[JsonConverter(
    typeof(ModelConverter<ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig>)
)]
public sealed record class ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig
    : ModelBase,
        IFromRaw<ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig>
{
    /// <summary>
    /// Used to determine the unit rate
    /// </summary>
    public required string FirstDimension
    {
        get
        {
            if (!this._rawData.TryGetValue("first_dimension", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'first_dimension' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "first_dimension",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'first_dimension' cannot be null",
                    new System::ArgumentNullException("first_dimension")
                );
        }
        init
        {
            this._rawData["first_dimension"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply a scaling factor to each dimension
    /// </summary>
    public required List<MatrixScalingFactor3> MatrixScalingFactors
    {
        get
        {
            if (!this._rawData.TryGetValue("matrix_scaling_factors", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'matrix_scaling_factors' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "matrix_scaling_factors",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<MatrixScalingFactor3>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'matrix_scaling_factors' cannot be null",
                    new System::ArgumentNullException("matrix_scaling_factors")
                );
        }
        init
        {
            this._rawData["matrix_scaling_factors"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The final unit price to rate against the output of the matrix
    /// </summary>
    public required string UnitPrice
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_price", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_price' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_price",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_price' cannot be null",
                    new System::ArgumentNullException("unit_price")
                );
        }
        init
        {
            this._rawData["unit_price"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If true, the unit price will be prorated to the billing period
    /// </summary>
    public bool? Prorate
    {
        get
        {
            if (!this._rawData.TryGetValue("prorate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<bool?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["prorate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Used to determine the unit rate (optional)
    /// </summary>
    public string? SecondDimension
    {
        get
        {
            if (!this._rawData.TryGetValue("second_dimension", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["second_dimension"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.FirstDimension;
        foreach (var item in this.MatrixScalingFactors)
        {
            item.Validate();
        }
        _ = this.UnitPrice;
        _ = this.Prorate;
        _ = this.SecondDimension;
    }

    public ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig() { }

    public ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig(
        FrozenDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ScalableMatrixWithUnitPricingScalableMatrixWithUnitPricingConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single matrix scaling factor
/// </summary>
[JsonConverter(typeof(ModelConverter<MatrixScalingFactor3>))]
public sealed record class MatrixScalingFactor3 : ModelBase, IFromRaw<MatrixScalingFactor3>
{
    /// <summary>
    /// First dimension value
    /// </summary>
    public required string FirstDimensionValue
    {
        get
        {
            if (!this._rawData.TryGetValue("first_dimension_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'first_dimension_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "first_dimension_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'first_dimension_value' cannot be null",
                    new System::ArgumentNullException("first_dimension_value")
                );
        }
        init
        {
            this._rawData["first_dimension_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Scaling factor
    /// </summary>
    public required string ScalingFactor
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_factor", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_factor",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentNullException("scaling_factor")
                );
        }
        init
        {
            this._rawData["scaling_factor"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Second dimension value (optional)
    /// </summary>
    public string? SecondDimensionValue
    {
        get
        {
            if (!this._rawData.TryGetValue("second_dimension_value", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["second_dimension_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.FirstDimensionValue;
        _ = this.ScalingFactor;
        _ = this.SecondDimensionValue;
    }

    public MatrixScalingFactor3() { }

    public MatrixScalingFactor3(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    MatrixScalingFactor3(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MatrixScalingFactor3 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<ScalableMatrixWithTieredPricing>))]
public sealed record class ScalableMatrixWithTieredPricing
    : ModelBase,
        IFromRaw<ScalableMatrixWithTieredPricing>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithTieredPricingBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithTieredPricingBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithTieredPricingCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithTieredPricingCadence>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter24>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter24>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ScalableMatrixWithTieredPricingConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<ScalableMatrixWithTieredPricingConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public ScalableMatrixWithTieredPricingModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ScalableMatrixWithTieredPricingModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, ScalableMatrixWithTieredPricingPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, ScalableMatrixWithTieredPricingPriceType>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for scalable_matrix_with_tiered_pricing pricing
    /// </summary>
    public required ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig ScalableMatrixWithTieredPricingConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "scalable_matrix_with_tiered_pricing_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'scalable_matrix_with_tiered_pricing_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scalable_matrix_with_tiered_pricing_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'scalable_matrix_with_tiered_pricing_config' cannot be null",
                    new System::ArgumentNullException("scalable_matrix_with_tiered_pricing_config")
                );
        }
        init
        {
            this._rawData["scalable_matrix_with_tiered_pricing_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.ScalableMatrixWithTieredPricingConfig.Validate();
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ScalableMatrixWithTieredPricing()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public ScalableMatrixWithTieredPricing(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    ScalableMatrixWithTieredPricing(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ScalableMatrixWithTieredPricing FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ScalableMatrixWithTieredPricingBillingModeConverter))]
public enum ScalableMatrixWithTieredPricingBillingMode
{
    InAdvance,
    InArrear,
}

sealed class ScalableMatrixWithTieredPricingBillingModeConverter
    : JsonConverter<ScalableMatrixWithTieredPricingBillingMode>
{
    public override ScalableMatrixWithTieredPricingBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => ScalableMatrixWithTieredPricingBillingMode.InAdvance,
            "in_arrear" => ScalableMatrixWithTieredPricingBillingMode.InArrear,
            _ => (ScalableMatrixWithTieredPricingBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithTieredPricingBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithTieredPricingBillingMode.InAdvance => "in_advance",
                ScalableMatrixWithTieredPricingBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ScalableMatrixWithTieredPricingCadenceConverter))]
public enum ScalableMatrixWithTieredPricingCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class ScalableMatrixWithTieredPricingCadenceConverter
    : JsonConverter<ScalableMatrixWithTieredPricingCadence>
{
    public override ScalableMatrixWithTieredPricingCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => ScalableMatrixWithTieredPricingCadence.OneTime,
            "monthly" => ScalableMatrixWithTieredPricingCadence.Monthly,
            "quarterly" => ScalableMatrixWithTieredPricingCadence.Quarterly,
            "semi_annual" => ScalableMatrixWithTieredPricingCadence.SemiAnnual,
            "annual" => ScalableMatrixWithTieredPricingCadence.Annual,
            "custom" => ScalableMatrixWithTieredPricingCadence.Custom,
            _ => (ScalableMatrixWithTieredPricingCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithTieredPricingCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithTieredPricingCadence.OneTime => "one_time",
                ScalableMatrixWithTieredPricingCadence.Monthly => "monthly",
                ScalableMatrixWithTieredPricingCadence.Quarterly => "quarterly",
                ScalableMatrixWithTieredPricingCadence.SemiAnnual => "semi_annual",
                ScalableMatrixWithTieredPricingCadence.Annual => "annual",
                ScalableMatrixWithTieredPricingCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter24>))]
public sealed record class CompositePriceFilter24 : ModelBase, IFromRaw<CompositePriceFilter24>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter24Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter24Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter24Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter24Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter24() { }

    public CompositePriceFilter24(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter24(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter24 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter24FieldConverter))]
public enum CompositePriceFilter24Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter24FieldConverter : JsonConverter<CompositePriceFilter24Field>
{
    public override CompositePriceFilter24Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter24Field.PriceID,
            "item_id" => CompositePriceFilter24Field.ItemID,
            "price_type" => CompositePriceFilter24Field.PriceType,
            "currency" => CompositePriceFilter24Field.Currency,
            "pricing_unit_id" => CompositePriceFilter24Field.PricingUnitID,
            _ => (CompositePriceFilter24Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter24Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter24Field.PriceID => "price_id",
                CompositePriceFilter24Field.ItemID => "item_id",
                CompositePriceFilter24Field.PriceType => "price_type",
                CompositePriceFilter24Field.Currency => "currency",
                CompositePriceFilter24Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter24OperatorConverter))]
public enum CompositePriceFilter24Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter24OperatorConverter : JsonConverter<CompositePriceFilter24Operator>
{
    public override CompositePriceFilter24Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter24Operator.Includes,
            "excludes" => CompositePriceFilter24Operator.Excludes,
            _ => (CompositePriceFilter24Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter24Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter24Operator.Includes => "includes",
                CompositePriceFilter24Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ScalableMatrixWithTieredPricingConversionRateConfigConverter))]
public record class ScalableMatrixWithTieredPricingConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public ScalableMatrixWithTieredPricingConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ScalableMatrixWithTieredPricingConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public ScalableMatrixWithTieredPricingConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of ScalableMatrixWithTieredPricingConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of ScalableMatrixWithTieredPricingConversionRateConfig"
            ),
        };
    }

    public static implicit operator ScalableMatrixWithTieredPricingConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator ScalableMatrixWithTieredPricingConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of ScalableMatrixWithTieredPricingConversionRateConfig"
            );
        }
    }
}

sealed class ScalableMatrixWithTieredPricingConversionRateConfigConverter
    : JsonConverter<ScalableMatrixWithTieredPricingConversionRateConfig>
{
    public override ScalableMatrixWithTieredPricingConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new ScalableMatrixWithTieredPricingConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithTieredPricingConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class ScalableMatrixWithTieredPricingModelType
{
    public JsonElement Json { get; private init; }

    public ScalableMatrixWithTieredPricingModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"scalable_matrix_with_tiered_pricing\"");
    }

    ScalableMatrixWithTieredPricingModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new ScalableMatrixWithTieredPricingModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'ScalableMatrixWithTieredPricingModelType'"
            );
        }
    }

    class Converter : JsonConverter<ScalableMatrixWithTieredPricingModelType>
    {
        public override ScalableMatrixWithTieredPricingModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            ScalableMatrixWithTieredPricingModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(ScalableMatrixWithTieredPricingPriceTypeConverter))]
public enum ScalableMatrixWithTieredPricingPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class ScalableMatrixWithTieredPricingPriceTypeConverter
    : JsonConverter<ScalableMatrixWithTieredPricingPriceType>
{
    public override ScalableMatrixWithTieredPricingPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => ScalableMatrixWithTieredPricingPriceType.UsagePrice,
            "fixed_price" => ScalableMatrixWithTieredPricingPriceType.FixedPrice,
            "composite_price" => ScalableMatrixWithTieredPricingPriceType.CompositePrice,
            _ => (ScalableMatrixWithTieredPricingPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        ScalableMatrixWithTieredPricingPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                ScalableMatrixWithTieredPricingPriceType.UsagePrice => "usage_price",
                ScalableMatrixWithTieredPricingPriceType.FixedPrice => "fixed_price",
                ScalableMatrixWithTieredPricingPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Configuration for scalable_matrix_with_tiered_pricing pricing
/// </summary>
[JsonConverter(
    typeof(ModelConverter<ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig>)
)]
public sealed record class ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig
    : ModelBase,
        IFromRaw<ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig>
{
    /// <summary>
    /// Used for the scalable matrix first dimension
    /// </summary>
    public required string FirstDimension
    {
        get
        {
            if (!this._rawData.TryGetValue("first_dimension", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'first_dimension' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "first_dimension",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'first_dimension' cannot be null",
                    new System::ArgumentNullException("first_dimension")
                );
        }
        init
        {
            this._rawData["first_dimension"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Apply a scaling factor to each dimension
    /// </summary>
    public required List<MatrixScalingFactor4> MatrixScalingFactors
    {
        get
        {
            if (!this._rawData.TryGetValue("matrix_scaling_factors", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'matrix_scaling_factors' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "matrix_scaling_factors",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<MatrixScalingFactor4>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'matrix_scaling_factors' cannot be null",
                    new System::ArgumentNullException("matrix_scaling_factors")
                );
        }
        init
        {
            this._rawData["matrix_scaling_factors"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier pricing structure
    /// </summary>
    public required List<Tier25> Tiers
    {
        get
        {
            if (!this._rawData.TryGetValue("tiers", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentOutOfRangeException("tiers", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<Tier25>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tiers' cannot be null",
                    new System::ArgumentNullException("tiers")
                );
        }
        init
        {
            this._rawData["tiers"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Used for the scalable matrix second dimension (optional)
    /// </summary>
    public string? SecondDimension
    {
        get
        {
            if (!this._rawData.TryGetValue("second_dimension", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["second_dimension"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.FirstDimension;
        foreach (var item in this.MatrixScalingFactors)
        {
            item.Validate();
        }
        foreach (var item in this.Tiers)
        {
            item.Validate();
        }
        _ = this.SecondDimension;
    }

    public ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig() { }

    public ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig(
        FrozenDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static ScalableMatrixWithTieredPricingScalableMatrixWithTieredPricingConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single matrix scaling factor
/// </summary>
[JsonConverter(typeof(ModelConverter<MatrixScalingFactor4>))]
public sealed record class MatrixScalingFactor4 : ModelBase, IFromRaw<MatrixScalingFactor4>
{
    /// <summary>
    /// First dimension value
    /// </summary>
    public required string FirstDimensionValue
    {
        get
        {
            if (!this._rawData.TryGetValue("first_dimension_value", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'first_dimension_value' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "first_dimension_value",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'first_dimension_value' cannot be null",
                    new System::ArgumentNullException("first_dimension_value")
                );
        }
        init
        {
            this._rawData["first_dimension_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Scaling factor
    /// </summary>
    public required string ScalingFactor
    {
        get
        {
            if (!this._rawData.TryGetValue("scaling_factor", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "scaling_factor",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'scaling_factor' cannot be null",
                    new System::ArgumentNullException("scaling_factor")
                );
        }
        init
        {
            this._rawData["scaling_factor"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Second dimension value (optional)
    /// </summary>
    public string? SecondDimensionValue
    {
        get
        {
            if (!this._rawData.TryGetValue("second_dimension_value", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["second_dimension_value"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.FirstDimensionValue;
        _ = this.ScalingFactor;
        _ = this.SecondDimensionValue;
    }

    public MatrixScalingFactor4() { }

    public MatrixScalingFactor4(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    MatrixScalingFactor4(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static MatrixScalingFactor4 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a single tier entry with business logic
/// </summary>
[JsonConverter(typeof(ModelConverter<Tier25>))]
public sealed record class Tier25 : ModelBase, IFromRaw<Tier25>
{
    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Per unit amount
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public Tier25() { }

    public Tier25(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    Tier25(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Tier25 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(ModelConverter<CumulativeGroupedBulk>))]
public sealed record class CumulativeGroupedBulk : ModelBase, IFromRaw<CumulativeGroupedBulk>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedBulkBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CumulativeGroupedBulkBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedBulkCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CumulativeGroupedBulkCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter25>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter25>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required CumulativeGroupedBulkConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<CumulativeGroupedBulkConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for cumulative_grouped_bulk pricing
    /// </summary>
    public required CumulativeGroupedBulkCumulativeGroupedBulkConfig CumulativeGroupedBulkConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "cumulative_grouped_bulk_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'cumulative_grouped_bulk_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "cumulative_grouped_bulk_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<CumulativeGroupedBulkCumulativeGroupedBulkConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'cumulative_grouped_bulk_config' cannot be null",
                    new System::ArgumentNullException("cumulative_grouped_bulk_config")
                );
        }
        init
        {
            this._rawData["cumulative_grouped_bulk_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public CumulativeGroupedBulkModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<CumulativeGroupedBulkModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedBulkPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CumulativeGroupedBulkPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        this.CumulativeGroupedBulkConfig.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public CumulativeGroupedBulk()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public CumulativeGroupedBulk(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    CumulativeGroupedBulk(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CumulativeGroupedBulk FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(CumulativeGroupedBulkBillingModeConverter))]
public enum CumulativeGroupedBulkBillingMode
{
    InAdvance,
    InArrear,
}

sealed class CumulativeGroupedBulkBillingModeConverter
    : JsonConverter<CumulativeGroupedBulkBillingMode>
{
    public override CumulativeGroupedBulkBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => CumulativeGroupedBulkBillingMode.InAdvance,
            "in_arrear" => CumulativeGroupedBulkBillingMode.InArrear,
            _ => (CumulativeGroupedBulkBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedBulkBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedBulkBillingMode.InAdvance => "in_advance",
                CumulativeGroupedBulkBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(CumulativeGroupedBulkCadenceConverter))]
public enum CumulativeGroupedBulkCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class CumulativeGroupedBulkCadenceConverter : JsonConverter<CumulativeGroupedBulkCadence>
{
    public override CumulativeGroupedBulkCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => CumulativeGroupedBulkCadence.OneTime,
            "monthly" => CumulativeGroupedBulkCadence.Monthly,
            "quarterly" => CumulativeGroupedBulkCadence.Quarterly,
            "semi_annual" => CumulativeGroupedBulkCadence.SemiAnnual,
            "annual" => CumulativeGroupedBulkCadence.Annual,
            "custom" => CumulativeGroupedBulkCadence.Custom,
            _ => (CumulativeGroupedBulkCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedBulkCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedBulkCadence.OneTime => "one_time",
                CumulativeGroupedBulkCadence.Monthly => "monthly",
                CumulativeGroupedBulkCadence.Quarterly => "quarterly",
                CumulativeGroupedBulkCadence.SemiAnnual => "semi_annual",
                CumulativeGroupedBulkCadence.Annual => "annual",
                CumulativeGroupedBulkCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter25>))]
public sealed record class CompositePriceFilter25 : ModelBase, IFromRaw<CompositePriceFilter25>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter25Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter25Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter25Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter25Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter25() { }

    public CompositePriceFilter25(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter25(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter25 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter25FieldConverter))]
public enum CompositePriceFilter25Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter25FieldConverter : JsonConverter<CompositePriceFilter25Field>
{
    public override CompositePriceFilter25Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter25Field.PriceID,
            "item_id" => CompositePriceFilter25Field.ItemID,
            "price_type" => CompositePriceFilter25Field.PriceType,
            "currency" => CompositePriceFilter25Field.Currency,
            "pricing_unit_id" => CompositePriceFilter25Field.PricingUnitID,
            _ => (CompositePriceFilter25Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter25Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter25Field.PriceID => "price_id",
                CompositePriceFilter25Field.ItemID => "item_id",
                CompositePriceFilter25Field.PriceType => "price_type",
                CompositePriceFilter25Field.Currency => "currency",
                CompositePriceFilter25Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter25OperatorConverter))]
public enum CompositePriceFilter25Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter25OperatorConverter : JsonConverter<CompositePriceFilter25Operator>
{
    public override CompositePriceFilter25Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter25Operator.Includes,
            "excludes" => CompositePriceFilter25Operator.Excludes,
            _ => (CompositePriceFilter25Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter25Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter25Operator.Includes => "includes",
                CompositePriceFilter25Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(CumulativeGroupedBulkConversionRateConfigConverter))]
public record class CumulativeGroupedBulkConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public CumulativeGroupedBulkConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public CumulativeGroupedBulkConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public CumulativeGroupedBulkConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of CumulativeGroupedBulkConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of CumulativeGroupedBulkConversionRateConfig"
            ),
        };
    }

    public static implicit operator CumulativeGroupedBulkConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator CumulativeGroupedBulkConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of CumulativeGroupedBulkConversionRateConfig"
            );
        }
    }
}

sealed class CumulativeGroupedBulkConversionRateConfigConverter
    : JsonConverter<CumulativeGroupedBulkConversionRateConfig>
{
    public override CumulativeGroupedBulkConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new CumulativeGroupedBulkConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedBulkConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for cumulative_grouped_bulk pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<CumulativeGroupedBulkCumulativeGroupedBulkConfig>))]
public sealed record class CumulativeGroupedBulkCumulativeGroupedBulkConfig
    : ModelBase,
        IFromRaw<CumulativeGroupedBulkCumulativeGroupedBulkConfig>
{
    /// <summary>
    /// Each tier lower bound must have the same group of values.
    /// </summary>
    public required List<DimensionValue1> DimensionValues
    {
        get
        {
            if (!this._rawData.TryGetValue("dimension_values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'dimension_values' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "dimension_values",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<List<DimensionValue1>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'dimension_values' cannot be null",
                    new System::ArgumentNullException("dimension_values")
                );
        }
        init
        {
            this._rawData["dimension_values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Grouping key name
    /// </summary>
    public required string Group
    {
        get
        {
            if (!this._rawData.TryGetValue("group", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'group' cannot be null",
                    new System::ArgumentOutOfRangeException("group", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'group' cannot be null",
                    new System::ArgumentNullException("group")
                );
        }
        init
        {
            this._rawData["group"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        foreach (var item in this.DimensionValues)
        {
            item.Validate();
        }
        _ = this.Group;
    }

    public CumulativeGroupedBulkCumulativeGroupedBulkConfig() { }

    public CumulativeGroupedBulkCumulativeGroupedBulkConfig(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CumulativeGroupedBulkCumulativeGroupedBulkConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CumulativeGroupedBulkCumulativeGroupedBulkConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// Configuration for a dimension value entry
/// </summary>
[JsonConverter(typeof(ModelConverter<DimensionValue1>))]
public sealed record class DimensionValue1 : ModelBase, IFromRaw<DimensionValue1>
{
    /// <summary>
    /// Grouping key value
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Tier lower bound
    /// </summary>
    public required string TierLowerBound
    {
        get
        {
            if (!this._rawData.TryGetValue("tier_lower_bound", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "tier_lower_bound",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'tier_lower_bound' cannot be null",
                    new System::ArgumentNullException("tier_lower_bound")
                );
        }
        init
        {
            this._rawData["tier_lower_bound"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Unit amount for this combination
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.GroupingKey;
        _ = this.TierLowerBound;
        _ = this.UnitAmount;
    }

    public DimensionValue1() { }

    public DimensionValue1(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    DimensionValue1(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static DimensionValue1 FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class CumulativeGroupedBulkModelType
{
    public JsonElement Json { get; private init; }

    public CumulativeGroupedBulkModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"cumulative_grouped_bulk\"");
    }

    CumulativeGroupedBulkModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new CumulativeGroupedBulkModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'CumulativeGroupedBulkModelType'"
            );
        }
    }

    class Converter : JsonConverter<CumulativeGroupedBulkModelType>
    {
        public override CumulativeGroupedBulkModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            CumulativeGroupedBulkModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(CumulativeGroupedBulkPriceTypeConverter))]
public enum CumulativeGroupedBulkPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class CumulativeGroupedBulkPriceTypeConverter : JsonConverter<CumulativeGroupedBulkPriceType>
{
    public override CumulativeGroupedBulkPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => CumulativeGroupedBulkPriceType.UsagePrice,
            "fixed_price" => CumulativeGroupedBulkPriceType.FixedPrice,
            "composite_price" => CumulativeGroupedBulkPriceType.CompositePrice,
            _ => (CumulativeGroupedBulkPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedBulkPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedBulkPriceType.UsagePrice => "usage_price",
                CumulativeGroupedBulkPriceType.FixedPrice => "fixed_price",
                CumulativeGroupedBulkPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CumulativeGroupedAllocation>))]
public sealed record class CumulativeGroupedAllocation
    : ModelBase,
        IFromRaw<CumulativeGroupedAllocation>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedAllocationBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, CumulativeGroupedAllocationBillingMode>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedAllocationCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CumulativeGroupedAllocationCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter26>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter26>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required CumulativeGroupedAllocationConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<CumulativeGroupedAllocationConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for cumulative_grouped_allocation pricing
    /// </summary>
    public required CumulativeGroupedAllocationConfig CumulativeGroupedAllocationConfig
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "cumulative_grouped_allocation_config",
                    out JsonElement element
                )
            )
                throw new OrbInvalidDataException(
                    "'cumulative_grouped_allocation_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "cumulative_grouped_allocation_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<CumulativeGroupedAllocationConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'cumulative_grouped_allocation_config' cannot be null",
                    new System::ArgumentNullException("cumulative_grouped_allocation_config")
                );
        }
        init
        {
            this._rawData["cumulative_grouped_allocation_config"] =
                JsonSerializer.SerializeToElement(value, ModelBase.SerializerOptions);
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public CumulativeGroupedAllocationModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<CumulativeGroupedAllocationModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, CumulativeGroupedAllocationPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<
                ApiEnum<string, CumulativeGroupedAllocationPriceType>
            >(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        this.CumulativeGroupedAllocationConfig.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public CumulativeGroupedAllocation()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public CumulativeGroupedAllocation(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    CumulativeGroupedAllocation(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CumulativeGroupedAllocation FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(CumulativeGroupedAllocationBillingModeConverter))]
public enum CumulativeGroupedAllocationBillingMode
{
    InAdvance,
    InArrear,
}

sealed class CumulativeGroupedAllocationBillingModeConverter
    : JsonConverter<CumulativeGroupedAllocationBillingMode>
{
    public override CumulativeGroupedAllocationBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => CumulativeGroupedAllocationBillingMode.InAdvance,
            "in_arrear" => CumulativeGroupedAllocationBillingMode.InArrear,
            _ => (CumulativeGroupedAllocationBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedAllocationBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedAllocationBillingMode.InAdvance => "in_advance",
                CumulativeGroupedAllocationBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(CumulativeGroupedAllocationCadenceConverter))]
public enum CumulativeGroupedAllocationCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class CumulativeGroupedAllocationCadenceConverter
    : JsonConverter<CumulativeGroupedAllocationCadence>
{
    public override CumulativeGroupedAllocationCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => CumulativeGroupedAllocationCadence.OneTime,
            "monthly" => CumulativeGroupedAllocationCadence.Monthly,
            "quarterly" => CumulativeGroupedAllocationCadence.Quarterly,
            "semi_annual" => CumulativeGroupedAllocationCadence.SemiAnnual,
            "annual" => CumulativeGroupedAllocationCadence.Annual,
            "custom" => CumulativeGroupedAllocationCadence.Custom,
            _ => (CumulativeGroupedAllocationCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedAllocationCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedAllocationCadence.OneTime => "one_time",
                CumulativeGroupedAllocationCadence.Monthly => "monthly",
                CumulativeGroupedAllocationCadence.Quarterly => "quarterly",
                CumulativeGroupedAllocationCadence.SemiAnnual => "semi_annual",
                CumulativeGroupedAllocationCadence.Annual => "annual",
                CumulativeGroupedAllocationCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter26>))]
public sealed record class CompositePriceFilter26 : ModelBase, IFromRaw<CompositePriceFilter26>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter26Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter26Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter26Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter26Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter26() { }

    public CompositePriceFilter26(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter26(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter26 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter26FieldConverter))]
public enum CompositePriceFilter26Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter26FieldConverter : JsonConverter<CompositePriceFilter26Field>
{
    public override CompositePriceFilter26Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter26Field.PriceID,
            "item_id" => CompositePriceFilter26Field.ItemID,
            "price_type" => CompositePriceFilter26Field.PriceType,
            "currency" => CompositePriceFilter26Field.Currency,
            "pricing_unit_id" => CompositePriceFilter26Field.PricingUnitID,
            _ => (CompositePriceFilter26Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter26Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter26Field.PriceID => "price_id",
                CompositePriceFilter26Field.ItemID => "item_id",
                CompositePriceFilter26Field.PriceType => "price_type",
                CompositePriceFilter26Field.Currency => "currency",
                CompositePriceFilter26Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter26OperatorConverter))]
public enum CompositePriceFilter26Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter26OperatorConverter : JsonConverter<CompositePriceFilter26Operator>
{
    public override CompositePriceFilter26Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter26Operator.Includes,
            "excludes" => CompositePriceFilter26Operator.Excludes,
            _ => (CompositePriceFilter26Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter26Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter26Operator.Includes => "includes",
                CompositePriceFilter26Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(CumulativeGroupedAllocationConversionRateConfigConverter))]
public record class CumulativeGroupedAllocationConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public CumulativeGroupedAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public CumulativeGroupedAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public CumulativeGroupedAllocationConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of CumulativeGroupedAllocationConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of CumulativeGroupedAllocationConversionRateConfig"
            ),
        };
    }

    public static implicit operator CumulativeGroupedAllocationConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator CumulativeGroupedAllocationConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of CumulativeGroupedAllocationConversionRateConfig"
            );
        }
    }
}

sealed class CumulativeGroupedAllocationConversionRateConfigConverter
    : JsonConverter<CumulativeGroupedAllocationConversionRateConfig>
{
    public override CumulativeGroupedAllocationConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new CumulativeGroupedAllocationConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedAllocationConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for cumulative_grouped_allocation pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<CumulativeGroupedAllocationConfig>))]
public sealed record class CumulativeGroupedAllocationConfig
    : ModelBase,
        IFromRaw<CumulativeGroupedAllocationConfig>
{
    /// <summary>
    /// The overall allocation across all groups
    /// </summary>
    public required string CumulativeAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("cumulative_allocation", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cumulative_allocation' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "cumulative_allocation",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'cumulative_allocation' cannot be null",
                    new System::ArgumentNullException("cumulative_allocation")
                );
        }
        init
        {
            this._rawData["cumulative_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The allocation per individual group
    /// </summary>
    public required string GroupAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("group_allocation", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'group_allocation' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "group_allocation",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'group_allocation' cannot be null",
                    new System::ArgumentNullException("group_allocation")
                );
        }
        init
        {
            this._rawData["group_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The event property used to group usage before applying allocations
    /// </summary>
    public required string GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "grouping_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'grouping_key' cannot be null",
                    new System::ArgumentNullException("grouping_key")
                );
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The amount to charge for each unit outside of the allocation
    /// </summary>
    public required string UnitAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_amount' cannot be null",
                    new System::ArgumentNullException("unit_amount")
                );
        }
        init
        {
            this._rawData["unit_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.CumulativeAllocation;
        _ = this.GroupAllocation;
        _ = this.GroupingKey;
        _ = this.UnitAmount;
    }

    public CumulativeGroupedAllocationConfig() { }

    public CumulativeGroupedAllocationConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CumulativeGroupedAllocationConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CumulativeGroupedAllocationConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class CumulativeGroupedAllocationModelType
{
    public JsonElement Json { get; private init; }

    public CumulativeGroupedAllocationModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"cumulative_grouped_allocation\"");
    }

    CumulativeGroupedAllocationModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new CumulativeGroupedAllocationModelType().Json))
        {
            throw new OrbInvalidDataException(
                "Invalid value given for 'CumulativeGroupedAllocationModelType'"
            );
        }
    }

    class Converter : JsonConverter<CumulativeGroupedAllocationModelType>
    {
        public override CumulativeGroupedAllocationModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            CumulativeGroupedAllocationModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(CumulativeGroupedAllocationPriceTypeConverter))]
public enum CumulativeGroupedAllocationPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class CumulativeGroupedAllocationPriceTypeConverter
    : JsonConverter<CumulativeGroupedAllocationPriceType>
{
    public override CumulativeGroupedAllocationPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => CumulativeGroupedAllocationPriceType.UsagePrice,
            "fixed_price" => CumulativeGroupedAllocationPriceType.FixedPrice,
            "composite_price" => CumulativeGroupedAllocationPriceType.CompositePrice,
            _ => (CumulativeGroupedAllocationPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CumulativeGroupedAllocationPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CumulativeGroupedAllocationPriceType.UsagePrice => "usage_price",
                CumulativeGroupedAllocationPriceType.FixedPrice => "fixed_price",
                CumulativeGroupedAllocationPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<PriceMinimum>))]
public sealed record class PriceMinimum : ModelBase, IFromRaw<PriceMinimum>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PriceMinimumBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PriceMinimumBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PriceMinimumCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PriceMinimumCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter27>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter27>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required PriceMinimumConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<PriceMinimumConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for minimum pricing
    /// </summary>
    public required PriceMinimumMinimumConfig MinimumConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PriceMinimumMinimumConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'minimum_config' cannot be null",
                    new System::ArgumentNullException("minimum_config")
                );
        }
        init
        {
            this._rawData["minimum_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public PriceMinimumModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PriceMinimumModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PriceMinimumPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PriceMinimumPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.MinimumConfig.Validate();
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public PriceMinimum()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public PriceMinimum(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    PriceMinimum(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static PriceMinimum FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(PriceMinimumBillingModeConverter))]
public enum PriceMinimumBillingMode
{
    InAdvance,
    InArrear,
}

sealed class PriceMinimumBillingModeConverter : JsonConverter<PriceMinimumBillingMode>
{
    public override PriceMinimumBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => PriceMinimumBillingMode.InAdvance,
            "in_arrear" => PriceMinimumBillingMode.InArrear,
            _ => (PriceMinimumBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PriceMinimumBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PriceMinimumBillingMode.InAdvance => "in_advance",
                PriceMinimumBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PriceMinimumCadenceConverter))]
public enum PriceMinimumCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class PriceMinimumCadenceConverter : JsonConverter<PriceMinimumCadence>
{
    public override PriceMinimumCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => PriceMinimumCadence.OneTime,
            "monthly" => PriceMinimumCadence.Monthly,
            "quarterly" => PriceMinimumCadence.Quarterly,
            "semi_annual" => PriceMinimumCadence.SemiAnnual,
            "annual" => PriceMinimumCadence.Annual,
            "custom" => PriceMinimumCadence.Custom,
            _ => (PriceMinimumCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PriceMinimumCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PriceMinimumCadence.OneTime => "one_time",
                PriceMinimumCadence.Monthly => "monthly",
                PriceMinimumCadence.Quarterly => "quarterly",
                PriceMinimumCadence.SemiAnnual => "semi_annual",
                PriceMinimumCadence.Annual => "annual",
                PriceMinimumCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter27>))]
public sealed record class CompositePriceFilter27 : ModelBase, IFromRaw<CompositePriceFilter27>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter27Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter27Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter27Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter27Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter27() { }

    public CompositePriceFilter27(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter27(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter27 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter27FieldConverter))]
public enum CompositePriceFilter27Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter27FieldConverter : JsonConverter<CompositePriceFilter27Field>
{
    public override CompositePriceFilter27Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter27Field.PriceID,
            "item_id" => CompositePriceFilter27Field.ItemID,
            "price_type" => CompositePriceFilter27Field.PriceType,
            "currency" => CompositePriceFilter27Field.Currency,
            "pricing_unit_id" => CompositePriceFilter27Field.PricingUnitID,
            _ => (CompositePriceFilter27Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter27Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter27Field.PriceID => "price_id",
                CompositePriceFilter27Field.ItemID => "item_id",
                CompositePriceFilter27Field.PriceType => "price_type",
                CompositePriceFilter27Field.Currency => "currency",
                CompositePriceFilter27Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter27OperatorConverter))]
public enum CompositePriceFilter27Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter27OperatorConverter : JsonConverter<CompositePriceFilter27Operator>
{
    public override CompositePriceFilter27Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter27Operator.Includes,
            "excludes" => CompositePriceFilter27Operator.Excludes,
            _ => (CompositePriceFilter27Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter27Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter27Operator.Includes => "includes",
                CompositePriceFilter27Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PriceMinimumConversionRateConfigConverter))]
public record class PriceMinimumConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public PriceMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PriceMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PriceMinimumConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of PriceMinimumConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of PriceMinimumConversionRateConfig"
            ),
        };
    }

    public static implicit operator PriceMinimumConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator PriceMinimumConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of PriceMinimumConversionRateConfig"
            );
        }
    }
}

sealed class PriceMinimumConversionRateConfigConverter
    : JsonConverter<PriceMinimumConversionRateConfig>
{
    public override PriceMinimumConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new PriceMinimumConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        PriceMinimumConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for minimum pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<PriceMinimumMinimumConfig>))]
public sealed record class PriceMinimumMinimumConfig
    : ModelBase,
        IFromRaw<PriceMinimumMinimumConfig>
{
    /// <summary>
    /// The minimum amount to apply
    /// </summary>
    public required string MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "minimum_amount",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'minimum_amount' cannot be null",
                    new System::ArgumentNullException("minimum_amount")
                );
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If true, subtotals from this price are prorated based on the service period
    /// </summary>
    public bool? Prorated
    {
        get
        {
            if (!this._rawData.TryGetValue("prorated", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<bool?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            if (value == null)
            {
                return;
            }

            this._rawData["prorated"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.MinimumAmount;
        _ = this.Prorated;
    }

    public PriceMinimumMinimumConfig() { }

    public PriceMinimumMinimumConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    PriceMinimumMinimumConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static PriceMinimumMinimumConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public PriceMinimumMinimumConfig(string minimumAmount)
        : this()
    {
        this.MinimumAmount = minimumAmount;
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class PriceMinimumModelType
{
    public JsonElement Json { get; private init; }

    public PriceMinimumModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"minimum\"");
    }

    PriceMinimumModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new PriceMinimumModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'PriceMinimumModelType'");
        }
    }

    class Converter : JsonConverter<PriceMinimumModelType>
    {
        public override PriceMinimumModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            PriceMinimumModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(PriceMinimumPriceTypeConverter))]
public enum PriceMinimumPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class PriceMinimumPriceTypeConverter : JsonConverter<PriceMinimumPriceType>
{
    public override PriceMinimumPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => PriceMinimumPriceType.UsagePrice,
            "fixed_price" => PriceMinimumPriceType.FixedPrice,
            "composite_price" => PriceMinimumPriceType.CompositePrice,
            _ => (PriceMinimumPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PriceMinimumPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PriceMinimumPriceType.UsagePrice => "usage_price",
                PriceMinimumPriceType.FixedPrice => "fixed_price",
                PriceMinimumPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<Percent>))]
public sealed record class Percent : ModelBase, IFromRaw<Percent>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PercentBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PercentBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PercentCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PercentCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter28>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter28>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required PercentConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<PercentConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public PercentModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PercentModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for percent pricing
    /// </summary>
    public required PercentConfig PercentConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("percent_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'percent_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "percent_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<PercentConfig>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'percent_config' cannot be null",
                    new System::ArgumentNullException("percent_config")
                );
        }
        init
        {
            this._rawData["percent_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, PercentPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, PercentPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        this.PercentConfig.Validate();
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Percent()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public Percent(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    Percent(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static Percent FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(PercentBillingModeConverter))]
public enum PercentBillingMode
{
    InAdvance,
    InArrear,
}

sealed class PercentBillingModeConverter : JsonConverter<PercentBillingMode>
{
    public override PercentBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => PercentBillingMode.InAdvance,
            "in_arrear" => PercentBillingMode.InArrear,
            _ => (PercentBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PercentBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PercentBillingMode.InAdvance => "in_advance",
                PercentBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PercentCadenceConverter))]
public enum PercentCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class PercentCadenceConverter : JsonConverter<PercentCadence>
{
    public override PercentCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => PercentCadence.OneTime,
            "monthly" => PercentCadence.Monthly,
            "quarterly" => PercentCadence.Quarterly,
            "semi_annual" => PercentCadence.SemiAnnual,
            "annual" => PercentCadence.Annual,
            "custom" => PercentCadence.Custom,
            _ => (PercentCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PercentCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PercentCadence.OneTime => "one_time",
                PercentCadence.Monthly => "monthly",
                PercentCadence.Quarterly => "quarterly",
                PercentCadence.SemiAnnual => "semi_annual",
                PercentCadence.Annual => "annual",
                PercentCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter28>))]
public sealed record class CompositePriceFilter28 : ModelBase, IFromRaw<CompositePriceFilter28>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter28Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter28Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter28Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter28Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter28() { }

    public CompositePriceFilter28(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter28(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter28 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter28FieldConverter))]
public enum CompositePriceFilter28Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter28FieldConverter : JsonConverter<CompositePriceFilter28Field>
{
    public override CompositePriceFilter28Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter28Field.PriceID,
            "item_id" => CompositePriceFilter28Field.ItemID,
            "price_type" => CompositePriceFilter28Field.PriceType,
            "currency" => CompositePriceFilter28Field.Currency,
            "pricing_unit_id" => CompositePriceFilter28Field.PricingUnitID,
            _ => (CompositePriceFilter28Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter28Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter28Field.PriceID => "price_id",
                CompositePriceFilter28Field.ItemID => "item_id",
                CompositePriceFilter28Field.PriceType => "price_type",
                CompositePriceFilter28Field.Currency => "currency",
                CompositePriceFilter28Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter28OperatorConverter))]
public enum CompositePriceFilter28Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter28OperatorConverter : JsonConverter<CompositePriceFilter28Operator>
{
    public override CompositePriceFilter28Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter28Operator.Includes,
            "excludes" => CompositePriceFilter28Operator.Excludes,
            _ => (CompositePriceFilter28Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter28Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter28Operator.Includes => "includes",
                CompositePriceFilter28Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(PercentConversionRateConfigConverter))]
public record class PercentConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public PercentConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PercentConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public PercentConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of PercentConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of PercentConversionRateConfig"
            ),
        };
    }

    public static implicit operator PercentConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator PercentConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of PercentConversionRateConfig"
            );
        }
    }
}

sealed class PercentConversionRateConfigConverter : JsonConverter<PercentConversionRateConfig>
{
    public override PercentConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new PercentConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        PercentConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class PercentModelType
{
    public JsonElement Json { get; private init; }

    public PercentModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"percent\"");
    }

    PercentModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new PercentModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'PercentModelType'");
        }
    }

    class Converter : JsonConverter<PercentModelType>
    {
        public override PercentModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            PercentModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

/// <summary>
/// Configuration for percent pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<PercentConfig>))]
public sealed record class PercentConfig : ModelBase, IFromRaw<PercentConfig>
{
    /// <summary>
    /// What percent of the component subtotals to charge
    /// </summary>
    public required double Percent
    {
        get
        {
            if (!this._rawData.TryGetValue("percent", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'percent' cannot be null",
                    new System::ArgumentOutOfRangeException("percent", "Missing required argument")
                );

            return JsonSerializer.Deserialize<double>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["percent"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.Percent;
    }

    public PercentConfig() { }

    public PercentConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    PercentConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static PercentConfig FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public PercentConfig(double percent)
        : this()
    {
        this.Percent = percent;
    }
}

[JsonConverter(typeof(PercentPriceTypeConverter))]
public enum PercentPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class PercentPriceTypeConverter : JsonConverter<PercentPriceType>
{
    public override PercentPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => PercentPriceType.UsagePrice,
            "fixed_price" => PercentPriceType.FixedPrice,
            "composite_price" => PercentPriceType.CompositePrice,
            _ => (PercentPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        PercentPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                PercentPriceType.UsagePrice => "usage_price",
                PercentPriceType.FixedPrice => "fixed_price",
                PercentPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<EventOutput>))]
public sealed record class EventOutput : ModelBase, IFromRaw<EventOutput>
{
    public required string ID
    {
        get
        {
            if (!this._rawData.TryGetValue("id", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentOutOfRangeException("id", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'id' cannot be null",
                    new System::ArgumentNullException("id")
                );
        }
        init
        {
            this._rawData["id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillableMetricTiny? BillableMetric
    {
        get
        {
            if (!this._rawData.TryGetValue("billable_metric", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<BillableMetricTiny?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billable_metric"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration BillingCycleConfiguration
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_cycle_configuration", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_cycle_configuration",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<BillingCycleConfiguration>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'billing_cycle_configuration' cannot be null",
                    new System::ArgumentNullException("billing_cycle_configuration")
                );
        }
        init
        {
            this._rawData["billing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, EventOutputBillingMode> BillingMode
    {
        get
        {
            if (!this._rawData.TryGetValue("billing_mode", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'billing_mode' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "billing_mode",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, EventOutputBillingMode>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["billing_mode"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, EventOutputCadence> Cadence
    {
        get
        {
            if (!this._rawData.TryGetValue("cadence", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'cadence' cannot be null",
                    new System::ArgumentOutOfRangeException("cadence", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, EventOutputCadence>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["cadence"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required List<CompositePriceFilter29>? CompositePriceFilters
    {
        get
        {
            if (!this._rawData.TryGetValue("composite_price_filters", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<List<CompositePriceFilter29>?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["composite_price_filters"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? ConversionRate
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["conversion_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required EventOutputConversionRateConfig? ConversionRateConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("conversion_rate_config", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<EventOutputConversionRateConfig?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["conversion_rate_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required System::DateTimeOffset CreatedAt
    {
        get
        {
            if (!this._rawData.TryGetValue("created_at", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'created_at' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "created_at",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<System::DateTimeOffset>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["created_at"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required Allocation? CreditAllocation
    {
        get
        {
            if (!this._rawData.TryGetValue("credit_allocation", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Allocation?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["credit_allocation"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Currency
    {
        get
        {
            if (!this._rawData.TryGetValue("currency", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentOutOfRangeException("currency", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'currency' cannot be null",
                    new System::ArgumentNullException("currency")
                );
        }
        init
        {
            this._rawData["currency"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required SharedDiscount? Discount
    {
        get
        {
            if (!this._rawData.TryGetValue("discount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<SharedDiscount?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["discount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Configuration for event_output pricing
    /// </summary>
    public required EventOutputConfig EventOutputConfig
    {
        get
        {
            if (!this._rawData.TryGetValue("event_output_config", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'event_output_config' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "event_output_config",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<EventOutputConfig>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'event_output_config' cannot be null",
                    new System::ArgumentNullException("event_output_config")
                );
        }
        init
        {
            this._rawData["event_output_config"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string? ExternalPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("external_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["external_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required double? FixedPriceQuantity
    {
        get
        {
            if (!this._rawData.TryGetValue("fixed_price_quantity", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<double?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["fixed_price_quantity"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required BillingCycleConfiguration? InvoicingCycleConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue("invoicing_cycle_configuration", out JsonElement element)
            )
                return null;

            return JsonSerializer.Deserialize<BillingCycleConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["invoicing_cycle_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// A minimal representation of an Item containing only the essential identifying information.
    /// </summary>
    public required ItemSlim Item
    {
        get
        {
            if (!this._rawData.TryGetValue("item", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentOutOfRangeException("item", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ItemSlim>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'item' cannot be null",
                    new System::ArgumentNullException("item")
                );
        }
        init
        {
            this._rawData["item"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Maximum? Maximum
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Maximum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MaximumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("maximum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["maximum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// User specified key-value pairs for the resource. If not present, this defaults
    /// to an empty dictionary. Individual keys can be removed by setting the value
    /// to `null`, and the entire metadata mapping can be cleared by setting `metadata`
    /// to `null`.
    /// </summary>
    public required Dictionary<string, string> Metadata
    {
        get
        {
            if (!this._rawData.TryGetValue("metadata", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentOutOfRangeException("metadata", "Missing required argument")
                );

            return JsonSerializer.Deserialize<Dictionary<string, string>>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'metadata' cannot be null",
                    new System::ArgumentNullException("metadata")
                );
        }
        init
        {
            this._rawData["metadata"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required Minimum? Minimum
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<Minimum?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    [System::Obsolete("deprecated")]
    public required string? MinimumAmount
    {
        get
        {
            if (!this._rawData.TryGetValue("minimum_amount", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["minimum_amount"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The pricing model type
    /// </summary>
    public EventOutputModelType ModelType
    {
        get
        {
            if (!this._rawData.TryGetValue("model_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "model_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<EventOutputModelType>(
                    element,
                    ModelBase.SerializerOptions
                )
                ?? throw new OrbInvalidDataException(
                    "'model_type' cannot be null",
                    new System::ArgumentNullException("model_type")
                );
        }
        init
        {
            this._rawData["model_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required string Name
    {
        get
        {
            if (!this._rawData.TryGetValue("name", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentOutOfRangeException("name", "Missing required argument")
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'name' cannot be null",
                    new System::ArgumentNullException("name")
                );
        }
        init
        {
            this._rawData["name"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required long? PlanPhaseOrder
    {
        get
        {
            if (!this._rawData.TryGetValue("plan_phase_order", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<long?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["plan_phase_order"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public required ApiEnum<string, EventOutputPriceType> PriceType
    {
        get
        {
            if (!this._rawData.TryGetValue("price_type", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'price_type' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "price_type",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<ApiEnum<string, EventOutputPriceType>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["price_type"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The price id this price replaces. This price will take the place of the replaced
    /// price in plan version migrations.
    /// </summary>
    public required string? ReplacesPriceID
    {
        get
        {
            if (!this._rawData.TryGetValue("replaces_price_id", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["replaces_price_id"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public DimensionalPriceConfiguration? DimensionalPriceConfiguration
    {
        get
        {
            if (
                !this._rawData.TryGetValue(
                    "dimensional_price_configuration",
                    out JsonElement element
                )
            )
                return null;

            return JsonSerializer.Deserialize<DimensionalPriceConfiguration?>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["dimensional_price_configuration"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.ID;
        this.BillableMetric?.Validate();
        this.BillingCycleConfiguration.Validate();
        this.BillingMode.Validate();
        this.Cadence.Validate();
        foreach (var item in this.CompositePriceFilters ?? [])
        {
            item.Validate();
        }
        _ = this.ConversionRate;
        this.ConversionRateConfig?.Validate();
        _ = this.CreatedAt;
        this.CreditAllocation?.Validate();
        _ = this.Currency;
        this.Discount?.Validate();
        this.EventOutputConfig.Validate();
        _ = this.ExternalPriceID;
        _ = this.FixedPriceQuantity;
        this.InvoicingCycleConfiguration?.Validate();
        this.Item.Validate();
        this.Maximum?.Validate();
        _ = this.MaximumAmount;
        _ = this.Metadata;
        this.Minimum?.Validate();
        _ = this.MinimumAmount;
        this.ModelType.Validate();
        _ = this.Name;
        _ = this.PlanPhaseOrder;
        this.PriceType.Validate();
        _ = this.ReplacesPriceID;
        this.DimensionalPriceConfiguration?.Validate();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public EventOutput()
    {
        this.ModelType = new();
    }

    [System::Obsolete(
        "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
    )]
    public EventOutput(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];

        this.ModelType = new();
    }

#pragma warning disable CS8618
    [
        System::Obsolete(
            "Required properties are deprecated: discount, maximum, maximum_amount, minimum, minimum_amount"
        ),
        SetsRequiredMembers
    ]
    EventOutput(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static EventOutput FromRawUnchecked(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

[JsonConverter(typeof(EventOutputBillingModeConverter))]
public enum EventOutputBillingMode
{
    InAdvance,
    InArrear,
}

sealed class EventOutputBillingModeConverter : JsonConverter<EventOutputBillingMode>
{
    public override EventOutputBillingMode Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "in_advance" => EventOutputBillingMode.InAdvance,
            "in_arrear" => EventOutputBillingMode.InArrear,
            _ => (EventOutputBillingMode)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        EventOutputBillingMode value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                EventOutputBillingMode.InAdvance => "in_advance",
                EventOutputBillingMode.InArrear => "in_arrear",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(EventOutputCadenceConverter))]
public enum EventOutputCadence
{
    OneTime,
    Monthly,
    Quarterly,
    SemiAnnual,
    Annual,
    Custom,
}

sealed class EventOutputCadenceConverter : JsonConverter<EventOutputCadence>
{
    public override EventOutputCadence Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "one_time" => EventOutputCadence.OneTime,
            "monthly" => EventOutputCadence.Monthly,
            "quarterly" => EventOutputCadence.Quarterly,
            "semi_annual" => EventOutputCadence.SemiAnnual,
            "annual" => EventOutputCadence.Annual,
            "custom" => EventOutputCadence.Custom,
            _ => (EventOutputCadence)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        EventOutputCadence value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                EventOutputCadence.OneTime => "one_time",
                EventOutputCadence.Monthly => "monthly",
                EventOutputCadence.Quarterly => "quarterly",
                EventOutputCadence.SemiAnnual => "semi_annual",
                EventOutputCadence.Annual => "annual",
                EventOutputCadence.Custom => "custom",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(ModelConverter<CompositePriceFilter29>))]
public sealed record class CompositePriceFilter29 : ModelBase, IFromRaw<CompositePriceFilter29>
{
    /// <summary>
    /// The property of the price to filter on.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter29Field> Field
    {
        get
        {
            if (!this._rawData.TryGetValue("field", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'field' cannot be null",
                    new System::ArgumentOutOfRangeException("field", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter29Field>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["field"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// Should prices that match the filter be included or excluded.
    /// </summary>
    public required ApiEnum<string, CompositePriceFilter29Operator> Operator
    {
        get
        {
            if (!this._rawData.TryGetValue("operator", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'operator' cannot be null",
                    new System::ArgumentOutOfRangeException("operator", "Missing required argument")
                );

            return JsonSerializer.Deserialize<ApiEnum<string, CompositePriceFilter29Operator>>(
                element,
                ModelBase.SerializerOptions
            );
        }
        init
        {
            this._rawData["operator"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// The IDs or values that match this filter.
    /// </summary>
    public required List<string> Values
    {
        get
        {
            if (!this._rawData.TryGetValue("values", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentOutOfRangeException("values", "Missing required argument")
                );

            return JsonSerializer.Deserialize<List<string>>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'values' cannot be null",
                    new System::ArgumentNullException("values")
                );
        }
        init
        {
            this._rawData["values"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        this.Field.Validate();
        this.Operator.Validate();
        _ = this.Values;
    }

    public CompositePriceFilter29() { }

    public CompositePriceFilter29(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    CompositePriceFilter29(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static CompositePriceFilter29 FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }
}

/// <summary>
/// The property of the price to filter on.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter29FieldConverter))]
public enum CompositePriceFilter29Field
{
    PriceID,
    ItemID,
    PriceType,
    Currency,
    PricingUnitID,
}

sealed class CompositePriceFilter29FieldConverter : JsonConverter<CompositePriceFilter29Field>
{
    public override CompositePriceFilter29Field Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "price_id" => CompositePriceFilter29Field.PriceID,
            "item_id" => CompositePriceFilter29Field.ItemID,
            "price_type" => CompositePriceFilter29Field.PriceType,
            "currency" => CompositePriceFilter29Field.Currency,
            "pricing_unit_id" => CompositePriceFilter29Field.PricingUnitID,
            _ => (CompositePriceFilter29Field)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter29Field value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter29Field.PriceID => "price_id",
                CompositePriceFilter29Field.ItemID => "item_id",
                CompositePriceFilter29Field.PriceType => "price_type",
                CompositePriceFilter29Field.Currency => "currency",
                CompositePriceFilter29Field.PricingUnitID => "pricing_unit_id",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

/// <summary>
/// Should prices that match the filter be included or excluded.
/// </summary>
[JsonConverter(typeof(CompositePriceFilter29OperatorConverter))]
public enum CompositePriceFilter29Operator
{
    Includes,
    Excludes,
}

sealed class CompositePriceFilter29OperatorConverter : JsonConverter<CompositePriceFilter29Operator>
{
    public override CompositePriceFilter29Operator Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "includes" => CompositePriceFilter29Operator.Includes,
            "excludes" => CompositePriceFilter29Operator.Excludes,
            _ => (CompositePriceFilter29Operator)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        CompositePriceFilter29Operator value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                CompositePriceFilter29Operator.Includes => "includes",
                CompositePriceFilter29Operator.Excludes => "excludes",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}

[JsonConverter(typeof(EventOutputConversionRateConfigConverter))]
public record class EventOutputConversionRateConfig
{
    public object? Value { get; } = null;

    JsonElement? _json = null;

    public JsonElement Json
    {
        get { return this._json ??= JsonSerializer.SerializeToElement(this.Value); }
    }

    public EventOutputConversionRateConfig(
        SharedUnitConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public EventOutputConversionRateConfig(
        SharedTieredConversionRateConfig value,
        JsonElement? json = null
    )
    {
        this.Value = value;
        this._json = json;
    }

    public EventOutputConversionRateConfig(JsonElement json)
    {
        this._json = json;
    }

    public bool TryPickUnit([NotNullWhen(true)] out SharedUnitConversionRateConfig? value)
    {
        value = this.Value as SharedUnitConversionRateConfig;
        return value != null;
    }

    public bool TryPickTiered([NotNullWhen(true)] out SharedTieredConversionRateConfig? value)
    {
        value = this.Value as SharedTieredConversionRateConfig;
        return value != null;
    }

    public void Switch(
        System::Action<SharedUnitConversionRateConfig> unit,
        System::Action<SharedTieredConversionRateConfig> tiered
    )
    {
        switch (this.Value)
        {
            case SharedUnitConversionRateConfig value:
                unit(value);
                break;
            case SharedTieredConversionRateConfig value:
                tiered(value);
                break;
            default:
                throw new OrbInvalidDataException(
                    "Data did not match any variant of EventOutputConversionRateConfig"
                );
        }
    }

    public T Match<T>(
        System::Func<SharedUnitConversionRateConfig, T> unit,
        System::Func<SharedTieredConversionRateConfig, T> tiered
    )
    {
        return this.Value switch
        {
            SharedUnitConversionRateConfig value => unit(value),
            SharedTieredConversionRateConfig value => tiered(value),
            _ => throw new OrbInvalidDataException(
                "Data did not match any variant of EventOutputConversionRateConfig"
            ),
        };
    }

    public static implicit operator EventOutputConversionRateConfig(
        SharedUnitConversionRateConfig value
    ) => new(value);

    public static implicit operator EventOutputConversionRateConfig(
        SharedTieredConversionRateConfig value
    ) => new(value);

    public void Validate()
    {
        if (this.Value == null)
        {
            throw new OrbInvalidDataException(
                "Data did not match any variant of EventOutputConversionRateConfig"
            );
        }
    }
}

sealed class EventOutputConversionRateConfigConverter
    : JsonConverter<EventOutputConversionRateConfig>
{
    public override EventOutputConversionRateConfig? Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        var json = JsonSerializer.Deserialize<JsonElement>(ref reader, options);
        string? conversionRateType;
        try
        {
            conversionRateType = json.GetProperty("conversion_rate_type").GetString();
        }
        catch
        {
            conversionRateType = null;
        }

        switch (conversionRateType)
        {
            case "unit":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedUnitConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            case "tiered":
            {
                try
                {
                    var deserialized = JsonSerializer.Deserialize<SharedTieredConversionRateConfig>(
                        json,
                        options
                    );
                    if (deserialized != null)
                    {
                        deserialized.Validate();
                        return new(deserialized, json);
                    }
                }
                catch (System::Exception e)
                    when (e is JsonException || e is OrbInvalidDataException)
                {
                    // ignore
                }

                return new(json);
            }
            default:
            {
                return new EventOutputConversionRateConfig(json);
            }
        }
    }

    public override void Write(
        Utf8JsonWriter writer,
        EventOutputConversionRateConfig value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(writer, value.Json, options);
    }
}

/// <summary>
/// Configuration for event_output pricing
/// </summary>
[JsonConverter(typeof(ModelConverter<EventOutputConfig>))]
public sealed record class EventOutputConfig : ModelBase, IFromRaw<EventOutputConfig>
{
    /// <summary>
    /// The key in the event data to extract the unit rate from.
    /// </summary>
    public required string UnitRatingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("unit_rating_key", out JsonElement element))
                throw new OrbInvalidDataException(
                    "'unit_rating_key' cannot be null",
                    new System::ArgumentOutOfRangeException(
                        "unit_rating_key",
                        "Missing required argument"
                    )
                );

            return JsonSerializer.Deserialize<string>(element, ModelBase.SerializerOptions)
                ?? throw new OrbInvalidDataException(
                    "'unit_rating_key' cannot be null",
                    new System::ArgumentNullException("unit_rating_key")
                );
        }
        init
        {
            this._rawData["unit_rating_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// If provided, this amount will be used as the unit rate when an event does
    /// not have a value for the `unit_rating_key`. If not provided, events missing
    /// a unit rate will be ignored.
    /// </summary>
    public string? DefaultUnitRate
    {
        get
        {
            if (!this._rawData.TryGetValue("default_unit_rate", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["default_unit_rate"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    /// <summary>
    /// An optional key in the event data to group by (e.g., event ID). All events
    /// will also be grouped by their unit rate.
    /// </summary>
    public string? GroupingKey
    {
        get
        {
            if (!this._rawData.TryGetValue("grouping_key", out JsonElement element))
                return null;

            return JsonSerializer.Deserialize<string?>(element, ModelBase.SerializerOptions);
        }
        init
        {
            this._rawData["grouping_key"] = JsonSerializer.SerializeToElement(
                value,
                ModelBase.SerializerOptions
            );
        }
    }

    public override void Validate()
    {
        _ = this.UnitRatingKey;
        _ = this.DefaultUnitRate;
        _ = this.GroupingKey;
    }

    public EventOutputConfig() { }

    public EventOutputConfig(IReadOnlyDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }

#pragma warning disable CS8618
    [SetsRequiredMembers]
    EventOutputConfig(FrozenDictionary<string, JsonElement> rawData)
    {
        this._rawData = [.. rawData];
    }
#pragma warning restore CS8618

    public static EventOutputConfig FromRawUnchecked(
        IReadOnlyDictionary<string, JsonElement> rawData
    )
    {
        return new(FrozenDictionary.ToFrozenDictionary(rawData));
    }

    [SetsRequiredMembers]
    public EventOutputConfig(string unitRatingKey)
        : this()
    {
        this.UnitRatingKey = unitRatingKey;
    }
}

/// <summary>
/// The pricing model type
/// </summary>
[JsonConverter(typeof(Converter))]
public class EventOutputModelType
{
    public JsonElement Json { get; private init; }

    public EventOutputModelType()
    {
        Json = JsonSerializer.Deserialize<JsonElement>("\"event_output\"");
    }

    EventOutputModelType(JsonElement json)
    {
        Json = json;
    }

    public void Validate()
    {
        if (JsonElement.DeepEquals(this.Json, new EventOutputModelType().Json))
        {
            throw new OrbInvalidDataException("Invalid value given for 'EventOutputModelType'");
        }
    }

    class Converter : JsonConverter<EventOutputModelType>
    {
        public override EventOutputModelType? Read(
            ref Utf8JsonReader reader,
            System::Type typeToConvert,
            JsonSerializerOptions options
        )
        {
            return new(JsonSerializer.Deserialize<JsonElement>(ref reader, options));
        }

        public override void Write(
            Utf8JsonWriter writer,
            EventOutputModelType value,
            JsonSerializerOptions options
        )
        {
            JsonSerializer.Serialize(writer, value.Json, options);
        }
    }
}

[JsonConverter(typeof(EventOutputPriceTypeConverter))]
public enum EventOutputPriceType
{
    UsagePrice,
    FixedPrice,
    CompositePrice,
}

sealed class EventOutputPriceTypeConverter : JsonConverter<EventOutputPriceType>
{
    public override EventOutputPriceType Read(
        ref Utf8JsonReader reader,
        System::Type typeToConvert,
        JsonSerializerOptions options
    )
    {
        return JsonSerializer.Deserialize<string>(ref reader, options) switch
        {
            "usage_price" => EventOutputPriceType.UsagePrice,
            "fixed_price" => EventOutputPriceType.FixedPrice,
            "composite_price" => EventOutputPriceType.CompositePrice,
            _ => (EventOutputPriceType)(-1),
        };
    }

    public override void Write(
        Utf8JsonWriter writer,
        EventOutputPriceType value,
        JsonSerializerOptions options
    )
    {
        JsonSerializer.Serialize(
            writer,
            value switch
            {
                EventOutputPriceType.UsagePrice => "usage_price",
                EventOutputPriceType.FixedPrice => "fixed_price",
                EventOutputPriceType.CompositePrice => "composite_price",
                _ => throw new OrbInvalidDataException(
                    string.Format("Invalid value '{0}' in {1}", value, nameof(value))
                ),
            },
            options
        );
    }
}
